0000                             ; .engine mycomputer
0000                TESTMODE:   EQU   2   
0000                             ; 
0000                             ; constant
0000                             ; 
0000                             ; constamts decalred in assembly lanaguage
0000                             ; 
0000                ROM_SIZE:   EQU   $2000   
0000                RAM_SIZE:   EQU   $10000 - ROM_SIZE   
0000                RET_STACK_SIZE:   EQU   $80   ; return stack
0000                DATA_STACK_SIZE:   EQU   $80   ; data stack
0000                PAD_SIZE:   EQU   $80   ; user scratch pad
0000                SER_BUFSIZE:   EQU   3FH   
0000                SER_FULLSIZE:   EQU   30H   
0000                SER_EMPTYSIZE:   EQU   5   
0000                LINE_BUFSIZE:   EQU   128   
0000                START_ROM:   EQU   0   
0000                START_RAM:   EQU   START_ROM + ROM_SIZE   
0000                END_RAM:   EQU   START_RAM + RAM_SIZE   
0000                RET_STACK:   EQU   END_RAM   ; return stack, grows down
0000                IO_DATA:   EQU   $81   
0000                IO_CTRL:   EQU   $80   
0000                MSK_IMMED:   EQU   $80   
0000                MSK_HIDDEN:   EQU   $40   
0000                MSK_LENGTH:   EQU   $3f   ; length mask
0000                CALL_OPCODE:   EQU   $CD   
0000                JP_OPCODE:   EQU   $C3   
0000                LD_HL_OPCODE:   EQU   $21   
0000                POP_HL_OPCODE:   EQU   $E1   
0000                RET_OPCODE:   EQU   $C9   
0000                RST08_OPCODE:   EQU   $CF   ; call enter
0000                RTS_HIGH:   EQU   0D6H   ; 11010110
0000                RTS_LOW:   EQU   096H   ; 10010110
0000                             ; 
0000                             ; macros
0000                             ; 
0000                             ; macros used by forth and a few utility routines
0000                             ; 
0000                .macro NEXT,
0000                             ; 
0000                 jp enter
0000                .endm
0000                 
0000                .macro NEXT1,
0000                             ; 
0000                 jp enter1
0000                .endm
0000                 
0000                .macro EXIT,
0000                             ; 
0000                 dw exit
0000                 jp enter
0000                .endm
0000                 
0000                .macro INTERPRET,
0000                             ; 
0000                 rst $08
0000                 dw interpret
0000                 dw exit_forth
0000                .endm
0000                 
0000                             ; Store the chain of links.
0000                LINK:     .SET   0   
0000                .macro DEFWORD,name,namelen,flags,label
0000                             ; 
0000                HEADER_label:
0000                 DW link		            ; link
0000                link: .set HEADER_label
0000                 DB flags + namelen	; flags + length byte
0000                 DB name		    ; the name
0000                label:
0000                .endm
0000                 
0000                .macro DEFVAR,name,namelen,flags,label,var_label
0000                             ; 
0000                defword name,namelen,flags,label
0000                 ppush0 B,C
0000                 ld BC, var_label
0000                 NEXT
0000                .endm
0000                 
0000                .macro DEFCONST,name,namelen,flags,label,value
0000                             ; 
0000                defword name,namelen,flags,label
0000                 ppush0 B,C
0000                 ld BC, value
0000                 NEXT
0000                .endm
0000                 
0000                             ; Macros to deal with the param stack.
0000                .macro PPUSH0,regHI,regLO
0000                             ; 
0000                 ld (IX+0), regLO     ; POP register pair from ret stk
0000                 inc IX
0000                 ld (IX+0), regHI
0000                 inc IX
0000                .endm
0000                 
0000                .macro PPOP0,regHI,regLO
0000                             ; 
0000                 dec IX              ; PUSH register pair on ret stack
0000                 ld regHI, (IX+0)
0000                 dec IX
0000                 ld regLO, (IX+0)
0000                .endm
0000                 
0000                             ; Macros to deal with the param stack with TOS in BC
0000                .macro PPUSH,regHI,regLO
0000                             ; 
0000                 ppush0 B,C             ; push TOS reg pair
0000                 ld B, regHI         ; move register pair into TOS reg pair
0000                 ld C, regLO
0000                .endm
0000                 
0000                .macro PPOP,regHI,regLO
0000                             ; 
0000                 ld regHI, B         ; move TOS reg pair into register pair
0000                 ld regLO, C
0000                 ppop0 B,C
0000                .endm
0000                 
0000                .macro PPUSHVALUE,val
0000                             ; 
0000                 ppush0 B,C
0000                 ld BC, val
0000                .endm
0000                 
0000                .macro PPUSHTEXT,s1,len
0000                             ; 
0000                 ppushValue tpt_text%%M
0000                 ppushValue len
0000                 _skip
0000                tpt_text%%M:
0000                 db s1
0000                 _endskip
0000                .endm
0000                 
0000                .macro PPUSHPTEXT,s1
0000                             ; 
0000                 ppushValue tpt_text%%M
0000                 ld BC, tpt_text%%M
0000                 _skip
0000                tpt_text%%M:
0000                 .pstr s1
0000                 _endskip
0000                .endm
0000                 
0000                             ; Macros to deal with the return stack.
0000                .macro PUSH_RET,regHI,regLO
0000                             ; 
0000                 push regHIregLO
0000                .endm
0000                 
0000                .macro POP_RET,regHI,regLO
0000                             ; 
0000                 pop regHIregLO
0000                .endm
0000                 
0000                .macro SET_RET_SP,
0000                             ; 
0000                 loadWord H,L, B,C
0000                 LD SP, HL
0000                .endm
0000                 
0000                .macro SAVE_REGS,regHI,regLO
0000                             ; 
0000                 ppush0 B,C             ; only use if word doesn't execute other words
0000                 exx
0000                 ppop0 regHI, regLO
0000                .endm
0000                 
0000                .macro RESTORE_REGS,regHI,regLO
0000                             ; 
0000                 ppush0 regHI, regLO         ; only use if word doesn't execute other words
0000                 exx
0000                 ppop0 B,C
0000                .endm
0000                 
0000                .macro LOADWORD,destHI,destLO,srcHI,srcLO
0000                             ; 
0000                 ld destLO, srcLO
0000                 ld destHI, srcHI
0000                .endm
0000                 
0000                             ; works with HL, IX+d, IY+d
0000                .macro READWORD,ptr,regHI,regLO
0000                             ; 
0000                 ld regLO, (ptr)
0000                 inc ptr
0000                 ld regHI, (ptr)
0000                 inc ptr
0000                .endm
0000                 
0000                             ; works with HL, IX+d, IY+d
0000                .macro WRITEWORD,ptr,regHI,regLO
0000                             ; 
0000                 writeByte ptr, regLO
0000                 writeByte ptr, regHI
0000                .endm
0000                 
0000                             ; works with HL, IX+d, IY+d
0000                .macro WRITEBYTE,ptr,reg
0000                             ; 
0000                 ld (ptr), reg
0000                 inc ptr
0000                .endm
0000                 
0000                             ; result: sets Z if zero
0000                             ; destroys: A
0000                .macro CHECKZEROWORD,regHI,regLO
0000                             ; 
0000                 ld A, regLO
0000                 or regHI
0000                .endm
0000                 
0000                .macro PRINT_STR,addr
0000                             ; 
0000                 ppush0 D,E
0000                 ld DE, addr
0000                 call printPStr
0000                 ppop0 D,E
0000                .endm
0000                 
0000                .macro CMP16,val
0000                             ; 
0000                 ld DE, val
0000                 or A
0000                 sbc HL, DE
0000                 checkZeroWord H,L
0000                .endm
0000                 
0000                             ;-------------------------------------------------------------------------------
0000                             ; 
0000                             ; Assembler Structured Control-flow Macros
0000                             ; by John Hardy @ 2019 ALL WRONGS RESERVED
0000                             ; https://github.com/jhlagado/struct-z80
0000                             ; 
0000                             ; Inspired by the work of Garth Wilson and Dave Keenan
0000                             ; http://wilsonminesco.com/StructureMacros/
0000                             ; http://dkeenan.com/AddingStructuredControlFlowToAnyAssembler.htm
0000                             ; 
0000                             ;-------------------------------------------------------------------------------
0000                STRUC_COUNT:   .SET   0   
0000                STRUC_12:   .SET   0   
0000                STRUC_11:   .SET   0   
0000                STRUC_10:   .SET   0   
0000                STRUC_9:   .SET   0   
0000                STRUC_8:   .SET   0   
0000                STRUC_7:   .SET   0   
0000                STRUC_6:   .SET   0   
0000                STRUC_5:   .SET   0   
0000                STRUC_4:   .SET   0   
0000                STRUC_3:   .SET   0   
0000                STRUC_2:   .SET   0   
0000                STRUC_TOP:   .SET   0   
0000                .macro STRUC_PUSH,arg
0000                             ; 
0000                 STRUC_COUNT .set STRUC_COUNT + 1
0000                 STRUC_12 .set STRUC_11
0000                 STRUC_11 .set STRUC_10
0000                 STRUC_10 .set STRUC_9
0000                 STRUC_9 .set STRUC_8
0000                 STRUC_8 .set STRUC_7
0000                 STRUC_7 .set STRUC_6
0000                 STRUC_6 .set STRUC_5
0000                 STRUC_5 .set STRUC_4
0000                 STRUC_4 .set STRUC_3
0000                 STRUC_3 .set STRUC_2
0000                 STRUC_2 .set STRUC_TOP
0000                 STRUC_TOP .set arg
0000                .endm
0000                 
0000                .macro STRUC_POP,
0000                             ; 
0000                 STRUC_COUNT .set STRUC_COUNT - 1
0000                 STRUC_TOP .set STRUC_2
0000                 STRUC_2 .set STRUC_3
0000                 STRUC_3 .set STRUC_4
0000                 STRUC_4 .set STRUC_5
0000                 STRUC_5 .set STRUC_6
0000                 STRUC_6 .set STRUC_7
0000                 STRUC_7 .set STRUC_8
0000                 STRUC_8 .set STRUC_9
0000                 STRUC_9 .set STRUC_10
0000                 STRUC_10 .set STRUC_11
0000                 STRUC_11 .set STRUC_12
0000                 STRUC_12 .set 0
0000                .endm
0000                 
0000                .macro STRUC_FWD,
0000                             ; 
0000                 CUR_ADR .set $
0000                 org STRUC_TOP - 2
0000                 dw CUR_ADR
0000                 org CUR_ADR
0000                .endm
0000                 
0000                             ; if
0000                .macro _IF,flag
0000                             ; 
0000                 jp flag, L_%%M
0000                 jp $              ; placeholder jump to _else or _endif
0000                 STRUC_PUSH $
0000                L_%%M:
0000                .endm
0000                 
0000                .macro _ELSE,
0000                             ; 
0000                 jp $              ; placeholder jump to _endif
0000                 STRUC_FWD
0000                 STRUC_TOP .set $  ;reuse top of stack
0000                .endm
0000                 
0000                .macro _ENDIF,
0000                             ; 
0000                 STRUC_FWD
0000                 STRUC_POP
0000                .endm
0000                 
0000                             ; switch
0000                .macro _SWITCH,
0000                             ; 
0000                 jr L_%%M
0000                 jp $            ; placeholder jump to endswitch
0000                 STRUC_PUSH $
0000                L_%%M:
0000                .endm
0000                 
0000                .macro _CASE,flag
0000                             ; 
0000                 jp flag, L_%%M
0000                 jp $            ; placeholder jump to endcase
0000                 STRUC_PUSH $
0000                L_%%M:
0000                .endm
0000                 
0000                .macro _ENDCASE,
0000                             ; 
0000                 jp STRUC_2 - 3  ; jump to placeholder jump to endswitch
0000                 STRUC_FWD
0000                 STRUC_POP
0000                .endm
0000                 
0000                .macro _ENDSWITCH,
0000                             ; 
0000                 STRUC_FWD
0000                 STRUC_POP
0000                .endm
0000                 
0000                             ; skip
0000                .macro _SKIP,
0000                             ; 
0000                 jp $              ; placeholder jump to _else or _endif
0000                 STRUC_PUSH $
0000                .endm
0000                 
0000                .macro _ENDSKIP,
0000                             ; 
0000                 STRUC_FWD
0000                 STRUC_POP
0000                .endm
0000                 
0000                             ;-------------------------------------------------------------------------------
0000                             ; 
0000                             ; Assembler Structured Looping Macros
0000                             ; by John Hardy @ 2019 ALL WRONGS RESERVED
0000                             ; https://github.com/jhlagado/struct-z80
0000                             ; 
0000                             ; Inspired by the work of Garth Wilson and Dave Keenan
0000                             ; http://wilsonminesco.com/StructureMacros/
0000                             ; http://dkeenan.com/AddingStructuredControlFlowToAnyAssembler.htm
0000                             ; 
0000                             ;-------------------------------------------------------------------------------
0000                DLOOP_COUNT:   .SET   0   
0000                DLOOP_12:   .SET   0   
0000                DLOOP_11:   .SET   0   
0000                DLOOP_10:   .SET   0   
0000                DLOOP_9:   .SET   0   
0000                DLOOP_8:   .SET   0   
0000                DLOOP_7:   .SET   0   
0000                DLOOP_6:   .SET   0   
0000                DLOOP_5:   .SET   0   
0000                DLOOP_4:   .SET   0   
0000                DLOOP_3:   .SET   0   
0000                DLOOP_2:   .SET   0   
0000                DLOOP_TOP:   .SET   0   
0000                .macro DLOOP_PUSH,arg
0000                             ; 
0000                 DLOOP_COUNT .set DLOOP_COUNT + 1
0000                 DLOOP_12 .set DLOOP_11
0000                 DLOOP_11 .set DLOOP_10
0000                 DLOOP_10 .set DLOOP_9
0000                 DLOOP_9 .set DLOOP_8
0000                 DLOOP_8 .set DLOOP_7
0000                 DLOOP_7 .set DLOOP_6
0000                 DLOOP_6 .set DLOOP_5
0000                 DLOOP_5 .set DLOOP_4
0000                 DLOOP_4 .set DLOOP_3
0000                 DLOOP_3 .set DLOOP_2
0000                 DLOOP_2 .set DLOOP_TOP
0000                 DLOOP_TOP .set arg
0000                .endm
0000                 
0000                .macro DLOOP_POP,
0000                             ; 
0000                 DLOOP_COUNT .set DLOOP_COUNT - 1
0000                 DLOOP_TOP .set DLOOP_2
0000                 DLOOP_2 .set DLOOP_3
0000                 DLOOP_3 .set DLOOP_4
0000                 DLOOP_4 .set DLOOP_5
0000                 DLOOP_5 .set DLOOP_6
0000                 DLOOP_6 .set DLOOP_7
0000                 DLOOP_7 .set DLOOP_8
0000                 DLOOP_8 .set DLOOP_9
0000                 DLOOP_9 .set DLOOP_10
0000                 DLOOP_10 .set DLOOP_11
0000                 DLOOP_11 .set DLOOP_12
0000                 DLOOP_12 .set 0
0000                .endm
0000                 
0000                .macro DLOOP_FWD,
0000                             ; 
0000                 CUR_ADR .set $
0000                 org DLOOP_TOP - 2
0000                 dw CUR_ADR
0000                 org CUR_ADR
0000                .endm
0000                 
0000                .macro _DO,
0000                             ; 
0000                 jr L_%%M
0000                 jp $                    ; placeholder jump to enddo
0000                 DLOOP_PUSH $
0000                L_%%M:
0000                .endm
0000                 
0000                .macro _WHILE,flag
0000                             ; 
0000                 jr flag, L_%%M
0000                 jp DLOOP_TOP - 3         ; jump to jump to enddo
0000                 DLOOP_FWD                ; needed?
0000                L_%%M:
0000                .endm
0000                 
0000                .macro _UNTIL,flag
0000                             ; 
0000                 jp flag, DLOOP_TOP - 3  ; jump to jump to enddo
0000                 DLOOP_FWD               ; needed?
0000                .endm
0000                 
0000                .macro _BREAK,
0000                             ; 
0000                 jp DLOOP_TOP - 3        ; start of loop
0000                .endm
0000                 
0000                .macro _CONTINUE,
0000                             ; 
0000                 jp DLOOP_TOP            ; start of loop
0000                .endm
0000                 
0000                .macro _ENDDO,
0000                             ; 
0000                 jp DLOOP_TOP
0000                 DLOOP_FWD
0000                 DLOOP_POP
0000                .endm
0000                 
0000                .macro _DJNZ,
0000                             ; 
0000                 djnz DLOOP_TOP
0000                 DLOOP_FWD
0000                 DLOOP_POP
0000                .endm
0000                 
0000                             ; 
0000                             ; compiler-macros
0000                             ; Macros for defining Forth control structures in Assembly
0000                             ; these tasks are normally performed by immediately executing words
0000                             ; in compiler mode but here we need to define them early using the assembler.
0000                             ; We use DW to define Forth words and these macros to calculate
0000                             ; branches between them.
0000                             ; 
0000                CPL_COUNT:   .SET   0   
0000                CPL_10:   .SET   0   
0000                CPL_9:    .SET   0   
0000                CPL_8:    .SET   0   
0000                CPL_7:    .SET   0   
0000                CPL_6:    .SET   0   
0000                CPL_5:    .SET   0   
0000                CPL_4:    .SET   0   
0000                CPL_3:    .SET   0   
0000                CPL_2:    .SET   0   
0000                CPL_TOP:   .SET   0   
0000                .macro LINE,label,index
0000                             ; 
0000                 label_index: db index
0000                .endm
0000                 
0000                .macro CPL_PUSH,arg
0000                             ; 
0000                 CPL_COUNT .set CPL_COUNT + 1
0000                 CPL_10 .set CPL_9
0000                 CPL_9 .set CPL_8
0000                 CPL_8 .set CPL_7
0000                 CPL_7 .set CPL_6
0000                 CPL_6 .set CPL_5
0000                 CPL_5 .set CPL_4
0000                 CPL_4 .set CPL_3
0000                 CPL_3 .set CPL_2
0000                 CPL_2 .set CPL_TOP
0000                 CPL_TOP .set arg
0000                .endm
0000                 
0000                .macro CPL_POP,
0000                             ; 
0000                 CPL_COUNT .set CPL_COUNT - 1
0000                 CPL_TOP .set CPL_2
0000                 CPL_2 .set CPL_3
0000                 CPL_3 .set CPL_4
0000                 CPL_4 .set CPL_5
0000                 CPL_5 .set CPL_6
0000                 CPL_6 .set CPL_7
0000                 CPL_7 .set CPL_8
0000                 CPL_8 .set CPL_9
0000                 CPL_9 .set CPL_10
0000                 CPL_10 .set 0
0000                .endm
0000                 
0000                .macro CBRANCH_FWD,
0000                             ; 
0000                 CUR_ADR .set $
0000                 org CPL_TOP - 2
0000                 DW CUR_ADR - CPL_TOP + 2
0000                 org CUR_ADR
0000                .endm
0000                 
0000                .macro CIF,
0000                             ; 
0000                 DW ZBRANCH, 0
0000                 CPL_PUSH $
0000                .endm
0000                 
0000                .macro CELSE,
0000                             ; 
0000                 DW BRANCH, 0
0000                 cBRANCH_FWD
0000                 CPL_TOP .set $          ;reuse TOS
0000                .endm
0000                 
0000                .macro CENDIF,
0000                             ; 
0000                 cBRANCH_FWD
0000                 CPL_POP
0000                .endm
0000                 
0000                .macro CDO,
0000                             ; 
0000                 DW BRANCH, 6
0000                 DW BRANCH, 0
0000                 CPL_PUSH $
0000                .endm
0000                 
0000                .macro CWHILE,
0000                             ; 
0000                 DW ZBRANCH, CPL_TOP - $ - 8
0000                .endm
0000                 
0000                .macro CUNTIL,
0000                             ; 
0000                 DW ZEQUAL, ZBRANCH, CPL_TOP - $ - 8
0000                .endm
0000                 
0000                .macro CBREAK,
0000                             ; 
0000                 DW BRANCH, CPL_TOP - $ - 8
0000                .endm
0000                 
0000                .macro CCONTINUE,
0000                             ; 
0000                 DW BRANCH, CPL_TOP - $ - 2
0000                .endm
0000                 
0000                .macro CENDDO,
0000                             ; 
0000                 DW BRANCH, CPL_TOP - $ - 2
0000                 cBRANCH_FWD
0000                 CPL_POP
0000                .endm
0000                 
0000                          .ORG   START_ROM   
0000                RST00:       ; Reset
0000   F3                     DI      ; Disable interrupts
0001   C3 9C 14               JP   start   
0008                          .ORG   $0008   
0008                RST08:       ; Check serial status
0008   C3 A8 07               JP   enter   
0038                          .ORG   $0038   
0038                RST38:       ; rst 38 - INTERRUPT VECTOR [ for IM 1 ]
0038   C3 90 00               JP   serialIn   
0066                          .ORG   $0066   ; rst 66 - NON-MASKABLE INTERRUPT
0066                RST66:       
0066   C9                     RET      ; do nothing
0067                             ; serial I/O
0067                INITSERIAL:      
0067   21 00 00               LD   HL,0   
006A   22 B0 20               LD   (serbufused),HL   
006D   21 6D 20               LD   HL,serbuf   
0070   22 AC 20               LD   (serinptr),HL   
0073   22 AE 20               LD   (serrdptr),HL   
0076   21 BA 20               LD   HL,linebuf   
0079   22 B2 20               LD   (lineBufStart),HL   
007C   22 B6 20               LD   (currkey),HL   
007F   22 B8 20               LD   (linebuftop),HL   
0082   21 80 00               LD   HL,LINE_BUFSIZE   
0085   22 B4 20               LD   (lineBufSize),HL   
0088   3E 96                  LD   A,rts_low   
008A   D3 80                  OUT   ($80),A   ; initialise acia
008C   ED 56                  IM   1   
008E   FB                     EI      
008F   C9                     RET      
0090                SERIALIN:      
0090   F5                     PUSH   AF   
0091   E5                     PUSH   HL   
0092   DB 80                  IN   A,($80)   
0094   E6 01                  AND   $01   ; Check if interupt due to read lineBuf full
0096                          ;*Macro unroll:  _if nz
0096   C2 9C 00               JP   nz,L_M_625   
0099   C3 99 00               JP   $   
009C                          ;*Macro unroll:  STRUC_PUSH $
009C                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
009C                STRUC_12:   .SET   STRUC_11   
009C                STRUC_11:   .SET   STRUC_10   
009C                STRUC_10:   .SET   STRUC_9   
009C                STRUC_9:   .SET   STRUC_8   
009C                STRUC_8:   .SET   STRUC_7   
009C                STRUC_7:   .SET   STRUC_6   
009C                STRUC_6:   .SET   STRUC_5   
009C                STRUC_5:   .SET   STRUC_4   
009C                STRUC_4:   .SET   STRUC_3   
009C                STRUC_3:   .SET   STRUC_2   
009C                STRUC_2:   .SET   STRUC_TOP   
009C                STRUC_TOP:   .SET   $   
009C                L_M_625:      
009C   DB 81                  IN   A,($81)   
009E   F5                     PUSH   AF   
009F   3A B0 20               LD   A,(serBufUsed)   
00A2   FE 3F                  CP   SER_BUFSIZE   ; If full then ignore
00A4                          ;*Macro unroll:  _if z
00A4   CA AA 00               JP   z,L_M_630   
00A7   C3 A7 00               JP   $   
00AA                          ;*Macro unroll:  STRUC_PUSH $
00AA                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
00AA                STRUC_12:   .SET   STRUC_11   
00AA                STRUC_11:   .SET   STRUC_10   
00AA                STRUC_10:   .SET   STRUC_9   
00AA                STRUC_9:   .SET   STRUC_8   
00AA                STRUC_8:   .SET   STRUC_7   
00AA                STRUC_7:   .SET   STRUC_6   
00AA                STRUC_6:   .SET   STRUC_5   
00AA                STRUC_5:   .SET   STRUC_4   
00AA                STRUC_4:   .SET   STRUC_3   
00AA                STRUC_3:   .SET   STRUC_2   
00AA                STRUC_2:   .SET   STRUC_TOP   
00AA                STRUC_TOP:   .SET   $   
00AA                L_M_630:      
00AA   F1                     POP   AF   
00AB                          ;*Macro unroll:  _else
00AB   C3 AB 00               JP   $   
00AE                          ;*Macro unroll:  STRUC_FWD
00AE                CUR_ADR:   .SET   $   
00A8                          .ORG   STRUC_TOP - 2   
00A8   AE 00                  DW   CUR_ADR   
00AE                          .ORG   CUR_ADR   
00AE                STRUC_TOP:   .SET   $   
00AE   2A AC 20               LD   HL,(serInPtr)   
00B1   23                     INC   HL   
00B2   7D                     LD   A,L   ; Only need to check low byte becasuse lineBuf<256 bytes
00B3   FE AC                  CP   (serBuf + SER_BUFSIZE) & $FF   
00B5                          ;*Macro unroll:  _if z
00B5   CA BB 00               JP   z,L_M_637   
00B8   C3 B8 00               JP   $   
00BB                          ;*Macro unroll:  STRUC_PUSH $
00BB                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
00BB                STRUC_12:   .SET   STRUC_11   
00BB                STRUC_11:   .SET   STRUC_10   
00BB                STRUC_10:   .SET   STRUC_9   
00BB                STRUC_9:   .SET   STRUC_8   
00BB                STRUC_8:   .SET   STRUC_7   
00BB                STRUC_7:   .SET   STRUC_6   
00BB                STRUC_6:   .SET   STRUC_5   
00BB                STRUC_5:   .SET   STRUC_4   
00BB                STRUC_4:   .SET   STRUC_3   
00BB                STRUC_3:   .SET   STRUC_2   
00BB                STRUC_2:   .SET   STRUC_TOP   
00BB                STRUC_TOP:   .SET   $   
00BB                L_M_637:      
00BB   21 6D 20               LD   HL,serBuf   
00BE                          ;*Macro unroll:  _endif
00BE                          ;*Macro unroll:  STRUC_FWD
00BE                CUR_ADR:   .SET   $   
00B9                          .ORG   STRUC_TOP - 2   
00B9   BE 00                  DW   CUR_ADR   
00BE                          .ORG   CUR_ADR   
00BE                          ;*Macro unroll:  STRUC_POP
00BE                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
00BE                STRUC_TOP:   .SET   STRUC_2   
00BE                STRUC_2:   .SET   STRUC_3   
00BE                STRUC_3:   .SET   STRUC_4   
00BE                STRUC_4:   .SET   STRUC_5   
00BE                STRUC_5:   .SET   STRUC_6   
00BE                STRUC_6:   .SET   STRUC_7   
00BE                STRUC_7:   .SET   STRUC_8   
00BE                STRUC_8:   .SET   STRUC_9   
00BE                STRUC_9:   .SET   STRUC_10   
00BE                STRUC_10:   .SET   STRUC_11   
00BE                STRUC_11:   .SET   STRUC_12   
00BE                STRUC_12:   .SET   0   
00BE   22 AC 20               LD   (serInPtr),HL   
00C1   F1                     POP   AF   
00C2   77                     LD   (HL),A   
00C3   3A B0 20               LD   A,(serBufUsed)   
00C6   3C                     INC   A   
00C7   32 B0 20               LD   (serBufUsed),A   
00CA   FE 30                  CP   SER_FULLSIZE   
00CC                          ;*Macro unroll:  _if nc
00CC   D2 D2 00               JP   nc,L_M_647   
00CF   C3 CF 00               JP   $   
00D2                          ;*Macro unroll:  STRUC_PUSH $
00D2                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
00D2                STRUC_12:   .SET   STRUC_11   
00D2                STRUC_11:   .SET   STRUC_10   
00D2                STRUC_10:   .SET   STRUC_9   
00D2                STRUC_9:   .SET   STRUC_8   
00D2                STRUC_8:   .SET   STRUC_7   
00D2                STRUC_7:   .SET   STRUC_6   
00D2                STRUC_6:   .SET   STRUC_5   
00D2                STRUC_5:   .SET   STRUC_4   
00D2                STRUC_4:   .SET   STRUC_3   
00D2                STRUC_3:   .SET   STRUC_2   
00D2                STRUC_2:   .SET   STRUC_TOP   
00D2                STRUC_TOP:   .SET   $   
00D2                L_M_647:      
00D2   3E D6                  LD   A,RTS_HIGH   
00D4   D3 80                  OUT   ($80),A   
00D6                          ;*Macro unroll:  _endif
00D6                          ;*Macro unroll:  STRUC_FWD
00D6                CUR_ADR:   .SET   $   
00D0                          .ORG   STRUC_TOP - 2   
00D0   D6 00                  DW   CUR_ADR   
00D6                          .ORG   CUR_ADR   
00D6                          ;*Macro unroll:  STRUC_POP
00D6                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
00D6                STRUC_TOP:   .SET   STRUC_2   
00D6                STRUC_2:   .SET   STRUC_3   
00D6                STRUC_3:   .SET   STRUC_4   
00D6                STRUC_4:   .SET   STRUC_5   
00D6                STRUC_5:   .SET   STRUC_6   
00D6                STRUC_6:   .SET   STRUC_7   
00D6                STRUC_7:   .SET   STRUC_8   
00D6                STRUC_8:   .SET   STRUC_9   
00D6                STRUC_9:   .SET   STRUC_10   
00D6                STRUC_10:   .SET   STRUC_11   
00D6                STRUC_11:   .SET   STRUC_12   
00D6                STRUC_12:   .SET   0   
00D6                          ;*Macro unroll:  _endif
00D6                          ;*Macro unroll:  STRUC_FWD
00D6                CUR_ADR:   .SET   $   
00AC                          .ORG   STRUC_TOP - 2   
00AC   D6 00                  DW   CUR_ADR   
00D6                          .ORG   CUR_ADR   
00D6                          ;*Macro unroll:  STRUC_POP
00D6                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
00D6                STRUC_TOP:   .SET   STRUC_2   
00D6                STRUC_2:   .SET   STRUC_3   
00D6                STRUC_3:   .SET   STRUC_4   
00D6                STRUC_4:   .SET   STRUC_5   
00D6                STRUC_5:   .SET   STRUC_6   
00D6                STRUC_6:   .SET   STRUC_7   
00D6                STRUC_7:   .SET   STRUC_8   
00D6                STRUC_8:   .SET   STRUC_9   
00D6                STRUC_9:   .SET   STRUC_10   
00D6                STRUC_10:   .SET   STRUC_11   
00D6                STRUC_11:   .SET   STRUC_12   
00D6                STRUC_12:   .SET   0   
00D6                          ;*Macro unroll:  _endif
00D6                          ;*Macro unroll:  STRUC_FWD
00D6                CUR_ADR:   .SET   $   
009A                          .ORG   STRUC_TOP - 2   
009A   D6 00                  DW   CUR_ADR   
00D6                          .ORG   CUR_ADR   
00D6                          ;*Macro unroll:  STRUC_POP
00D6                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
00D6                STRUC_TOP:   .SET   STRUC_2   
00D6                STRUC_2:   .SET   STRUC_3   
00D6                STRUC_3:   .SET   STRUC_4   
00D6                STRUC_4:   .SET   STRUC_5   
00D6                STRUC_5:   .SET   STRUC_6   
00D6                STRUC_6:   .SET   STRUC_7   
00D6                STRUC_7:   .SET   STRUC_8   
00D6                STRUC_8:   .SET   STRUC_9   
00D6                STRUC_9:   .SET   STRUC_10   
00D6                STRUC_10:   .SET   STRUC_11   
00D6                STRUC_11:   .SET   STRUC_12   
00D6                STRUC_12:   .SET   0   
00D6   E1                     POP   HL   
00D7   F1                     POP   AF   
00D8   FB                     EI      
00D9   C9                     RET      
00DA                             ; 
00DA                             ; getc - input
00DA                             ; returns: A = input char
00DA                             ; 
00DA                GETC:        
00DA                          IF   TESTMODE   
00DA   E5                     PUSH   HL   
00DB   2A D0 22               LD   HL,(char_pointer)   
00DE   7E                     LD   A,(HL)   
00DF   23                     INC   HL   
00E0   22 D0 22               LD   (char_pointer),HL   
00E3   E1                     POP   HL   
00E4   C9                     RET      
00E5                          ELSE      
                              ;*Macro unroll:  _do
                              JR   L_M_671   
                              JP   $   
                              ;*Macro unroll:  DLOOP_PUSH $
                    DLOOP_COUNT:   .SET   DLOOP_COUNT + 1   
                    DLOOP_12:   .SET   DLOOP_11   
                    DLOOP_11:   .SET   DLOOP_10   
                    DLOOP_10:   .SET   DLOOP_9   
                    DLOOP_9:   .SET   DLOOP_8   
                    DLOOP_8:   .SET   DLOOP_7   
                    DLOOP_7:   .SET   DLOOP_6   
                    DLOOP_6:   .SET   DLOOP_5   
                    DLOOP_5:   .SET   DLOOP_4   
                    DLOOP_4:   .SET   DLOOP_3   
                    DLOOP_3:   .SET   DLOOP_2   
                    DLOOP_2:   .SET   DLOOP_TOP   
                    DLOOP_TOP:   .SET   $   
                    L_M_671:      
                              LD   A,(serBufUsed)   
                              CP   $00   
                              ;*Macro unroll:  _until nz
                              JP   nz,DLOOP_TOP - 3   
                              ;*Macro unroll:  DLOOP_FWD               ; needed?
                    CUR_ADR:   .SET   $   ; needed?
                              .ORG   DLOOP_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  _enddo
                              JP   DLOOP_TOP   
                              ;*Macro unroll:  DLOOP_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   DLOOP_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  DLOOP_POP
                    DLOOP_COUNT:   .SET   DLOOP_COUNT - 1   
                    DLOOP_TOP:   .SET   DLOOP_2   
                    DLOOP_2:   .SET   DLOOP_3   
                    DLOOP_3:   .SET   DLOOP_4   
                    DLOOP_4:   .SET   DLOOP_5   
                    DLOOP_5:   .SET   DLOOP_6   
                    DLOOP_6:   .SET   DLOOP_7   
                    DLOOP_7:   .SET   DLOOP_8   
                    DLOOP_8:   .SET   DLOOP_9   
                    DLOOP_9:   .SET   DLOOP_10   
                    DLOOP_10:   .SET   DLOOP_11   
                    DLOOP_11:   .SET   DLOOP_12   
                    DLOOP_12:   .SET   0   
                              PUSH   HL   
                              LD   HL,(serRdPtr)   
                              INC   HL   
                              LD   A,L   ; Only need to check low byte because lineBuf<256 bytes
                              CP   (serBuf + SER_BUFSIZE) & $FF   
                              ;*Macro unroll:  _if z
                              JP   z,L_M_681   
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    L_M_681:      
                              LD   HL,serBuf   
                              ;*Macro unroll:  _endif
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              DI      
                              LD   (serRdPtr),HL   
                              LD   A,(serBufUsed)   
                              DEC   A   
                              LD   (serBufUsed),A   
                              CP   SER_EMPTYSIZE   
                              ;*Macro unroll:  _if c
                              JP   c,L_M_690   
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    L_M_690:      
                              LD   A,RTS_LOW   
                              OUT   ($80),A   
                              ;*Macro unroll:  _endif
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              LD   A,(HL)   
                              EI      
                              POP   HL   
                              RET      ; Char ready in A
00E5                          ENDIF      
00E5                             ; 
00E5                             ; putc - output a character
00E5                             ; params: A = char to output
00E5                             ; 
00E5                PUTC:        
00E5   F5                     PUSH   AF   ; Store character
00E6                          ;*Macro unroll:  _do
00E6   18 03                  JR   L_M_705   
00E8   C3 E8 00               JP   $   
00EB                          ;*Macro unroll:  DLOOP_PUSH $
00EB                DLOOP_COUNT:   .SET   DLOOP_COUNT + 1   
00EB                DLOOP_12:   .SET   DLOOP_11   
00EB                DLOOP_11:   .SET   DLOOP_10   
00EB                DLOOP_10:   .SET   DLOOP_9   
00EB                DLOOP_9:   .SET   DLOOP_8   
00EB                DLOOP_8:   .SET   DLOOP_7   
00EB                DLOOP_7:   .SET   DLOOP_6   
00EB                DLOOP_6:   .SET   DLOOP_5   
00EB                DLOOP_5:   .SET   DLOOP_4   
00EB                DLOOP_4:   .SET   DLOOP_3   
00EB                DLOOP_3:   .SET   DLOOP_2   
00EB                DLOOP_2:   .SET   DLOOP_TOP   
00EB                DLOOP_TOP:   .SET   $   
00EB                L_M_705:      
00EB   DB 80                  IN   A,($80)   ; Status byte
00ED   CB 4F                  BIT   1,A   ; Set Zero flag if still transmitting character
00EF                          ;*Macro unroll:  _until nz
00EF   C2 E8 00               JP   nz,DLOOP_TOP - 3   
00F2                          ;*Macro unroll:  DLOOP_FWD               ; needed?
00F2                CUR_ADR:   .SET   $   ; needed?
00E9                          .ORG   DLOOP_TOP - 2   
00E9   F2 00                  DW   CUR_ADR   
00F2                          .ORG   CUR_ADR   
00F2                          ;*Macro unroll:  _enddo
00F2   C3 EB 00               JP   DLOOP_TOP   
00F5                          ;*Macro unroll:  DLOOP_FWD
00F5                CUR_ADR:   .SET   $   
00E9                          .ORG   DLOOP_TOP - 2   
00E9   F5 00                  DW   CUR_ADR   
00F5                          .ORG   CUR_ADR   
00F5                          ;*Macro unroll:  DLOOP_POP
00F5                DLOOP_COUNT:   .SET   DLOOP_COUNT - 1   
00F5                DLOOP_TOP:   .SET   DLOOP_2   
00F5                DLOOP_2:   .SET   DLOOP_3   
00F5                DLOOP_3:   .SET   DLOOP_4   
00F5                DLOOP_4:   .SET   DLOOP_5   
00F5                DLOOP_5:   .SET   DLOOP_6   
00F5                DLOOP_6:   .SET   DLOOP_7   
00F5                DLOOP_7:   .SET   DLOOP_8   
00F5                DLOOP_8:   .SET   DLOOP_9   
00F5                DLOOP_9:   .SET   DLOOP_10   
00F5                DLOOP_10:   .SET   DLOOP_11   
00F5                DLOOP_11:   .SET   DLOOP_12   
00F5                DLOOP_12:   .SET   0   
00F5   F1                     POP   AF   ; Retrieve character
00F6   D3 81                  OUT   ($81),A   ; Output the character
00F8   C9                     RET      
00F9                INPUTREADY:      
00F9   3A B0 20               LD   A,(serBufUsed)   
00FC   FE 00                  CP   $0   
00FE   C9                     RET      
00FF                             ; 
00FF                             ; getline - input line of text ***
00FF                             ; params: HL = addr, DE = max (currently up to 255)
00FF                             ; returns: BC = length - up to 255
00FF                             ; 
00FF                GETLINE:      
00FF   F5                     PUSH   AF   
0100   E5                     PUSH   HL   
0101                          ;*Macro unroll:  PRINT_STR TXT_PROMPT
0101                          ;*Macro unroll:  ppush0 D,E
0101   DD 73 00               LD   (IX+0),E   
0104   DD 23                  INC   IX   
0106   DD 72 00               LD   (IX+0),D   
0109   DD 23                  INC   IX   
010B   11 F1 01               LD   DE,TXT_PROMPT   
010E   CD C4 01               CALL   printPStr   
0111                          ;*Macro unroll:  ppop0 D,E
0111   DD 2B                  DEC   IX   
0113   DD 56 00               LD   D,(IX+0)   
0116   DD 2B                  DEC   IX   
0118   DD 5E 00               LD   E,(IX+0)   
011B   E1                     POP   HL   
011C   E5                     PUSH   HL   
011D   01 00 00               LD   BC,0   
0120                          ;*Macro unroll:  _do
0120   18 03                  JR   L_M_729   
0122   C3 22 01               JP   $   
0125                          ;*Macro unroll:  DLOOP_PUSH $
0125                DLOOP_COUNT:   .SET   DLOOP_COUNT + 1   
0125                DLOOP_12:   .SET   DLOOP_11   
0125                DLOOP_11:   .SET   DLOOP_10   
0125                DLOOP_10:   .SET   DLOOP_9   
0125                DLOOP_9:   .SET   DLOOP_8   
0125                DLOOP_8:   .SET   DLOOP_7   
0125                DLOOP_7:   .SET   DLOOP_6   
0125                DLOOP_6:   .SET   DLOOP_5   
0125                DLOOP_5:   .SET   DLOOP_4   
0125                DLOOP_4:   .SET   DLOOP_3   
0125                DLOOP_3:   .SET   DLOOP_2   
0125                DLOOP_2:   .SET   DLOOP_TOP   
0125                DLOOP_TOP:   .SET   $   
0125                L_M_729:      
0125                          ;*Macro unroll:  _do
0125   18 03                  JR   L_M_730   
0127   C3 27 01               JP   $   
012A                          ;*Macro unroll:  DLOOP_PUSH $
012A                DLOOP_COUNT:   .SET   DLOOP_COUNT + 1   
012A                DLOOP_12:   .SET   DLOOP_11   
012A                DLOOP_11:   .SET   DLOOP_10   
012A                DLOOP_10:   .SET   DLOOP_9   
012A                DLOOP_9:   .SET   DLOOP_8   
012A                DLOOP_8:   .SET   DLOOP_7   
012A                DLOOP_7:   .SET   DLOOP_6   
012A                DLOOP_6:   .SET   DLOOP_5   
012A                DLOOP_5:   .SET   DLOOP_4   
012A                DLOOP_4:   .SET   DLOOP_3   
012A                DLOOP_3:   .SET   DLOOP_2   
012A                DLOOP_2:   .SET   DLOOP_TOP   
012A                DLOOP_TOP:   .SET   $   
012A                L_M_730:      
012A   CD DA 00               CALL   getc   
012D   FE 08                  CP   $08   
012F                          ;*Macro unroll:  _if z
012F   CA 35 01               JP   z,L_M_733   
0132   C3 32 01               JP   $   
0135                          ;*Macro unroll:  STRUC_PUSH $
0135                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
0135                STRUC_12:   .SET   STRUC_11   
0135                STRUC_11:   .SET   STRUC_10   
0135                STRUC_10:   .SET   STRUC_9   
0135                STRUC_9:   .SET   STRUC_8   
0135                STRUC_8:   .SET   STRUC_7   
0135                STRUC_7:   .SET   STRUC_6   
0135                STRUC_6:   .SET   STRUC_5   
0135                STRUC_5:   .SET   STRUC_4   
0135                STRUC_4:   .SET   STRUC_3   
0135                STRUC_3:   .SET   STRUC_2   
0135                STRUC_2:   .SET   STRUC_TOP   
0135                STRUC_TOP:   .SET   $   
0135                L_M_733:      
0135                          ;*Macro unroll:  checkZeroWord B,C
0135   79                     LD   A,C   
0136   B0                     OR   B   
0137                          ;*Macro unroll:  _if nz
0137   C2 3D 01               JP   nz,L_M_735   
013A   C3 3A 01               JP   $   
013D                          ;*Macro unroll:  STRUC_PUSH $
013D                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
013D                STRUC_12:   .SET   STRUC_11   
013D                STRUC_11:   .SET   STRUC_10   
013D                STRUC_10:   .SET   STRUC_9   
013D                STRUC_9:   .SET   STRUC_8   
013D                STRUC_8:   .SET   STRUC_7   
013D                STRUC_7:   .SET   STRUC_6   
013D                STRUC_6:   .SET   STRUC_5   
013D                STRUC_5:   .SET   STRUC_4   
013D                STRUC_4:   .SET   STRUC_3   
013D                STRUC_3:   .SET   STRUC_2   
013D                STRUC_2:   .SET   STRUC_TOP   
013D                STRUC_TOP:   .SET   $   
013D                L_M_735:      
013D   2B                     DEC   HL   
013E   0B                     DEC   BC   
013F   3E 08                  LD   a,$08   
0141   CD E5 00               CALL   putc   
0144   CD E6 01               CALL   printSpace   
0147   3E 08                  LD   A,$08   
0149   CD E5 00               CALL   putc   
014C                          ;*Macro unroll:  _endif
014C                          ;*Macro unroll:  STRUC_FWD
014C                CUR_ADR:   .SET   $   
013B                          .ORG   STRUC_TOP - 2   
013B   4C 01                  DW   CUR_ADR   
014C                          .ORG   CUR_ADR   
014C                          ;*Macro unroll:  STRUC_POP
014C                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
014C                STRUC_TOP:   .SET   STRUC_2   
014C                STRUC_2:   .SET   STRUC_3   
014C                STRUC_3:   .SET   STRUC_4   
014C                STRUC_4:   .SET   STRUC_5   
014C                STRUC_5:   .SET   STRUC_6   
014C                STRUC_6:   .SET   STRUC_7   
014C                STRUC_7:   .SET   STRUC_8   
014C                STRUC_8:   .SET   STRUC_9   
014C                STRUC_9:   .SET   STRUC_10   
014C                STRUC_10:   .SET   STRUC_11   
014C                STRUC_11:   .SET   STRUC_12   
014C                STRUC_12:   .SET   0   
014C                          ;*Macro unroll:  _else
014C   C3 4C 01               JP   $   
014F                          ;*Macro unroll:  STRUC_FWD
014F                CUR_ADR:   .SET   $   
0133                          .ORG   STRUC_TOP - 2   
0133   4F 01                  DW   CUR_ADR   
014F                          .ORG   CUR_ADR   
014F                STRUC_TOP:   .SET   $   
014F   77                     LD   (HL),A   
0150   23                     INC   HL   
0151   03                     INC   BC   
0152   CB 7F                  BIT   7,a   
0154                          ;*Macro unroll:  _if z
0154   CA 5A 01               JP   z,L_M_749   
0157   C3 57 01               JP   $   
015A                          ;*Macro unroll:  STRUC_PUSH $
015A                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
015A                STRUC_12:   .SET   STRUC_11   
015A                STRUC_11:   .SET   STRUC_10   
015A                STRUC_10:   .SET   STRUC_9   
015A                STRUC_9:   .SET   STRUC_8   
015A                STRUC_8:   .SET   STRUC_7   
015A                STRUC_7:   .SET   STRUC_6   
015A                STRUC_6:   .SET   STRUC_5   
015A                STRUC_5:   .SET   STRUC_4   
015A                STRUC_4:   .SET   STRUC_3   
015A                STRUC_3:   .SET   STRUC_2   
015A                STRUC_2:   .SET   STRUC_TOP   
015A                STRUC_TOP:   .SET   $   
015A                L_M_749:      
015A   CD E5 00               CALL   putc   
015D                          ;*Macro unroll:  _endif
015D                          ;*Macro unroll:  STRUC_FWD
015D                CUR_ADR:   .SET   $   
0158                          .ORG   STRUC_TOP - 2   
0158   5D 01                  DW   CUR_ADR   
015D                          .ORG   CUR_ADR   
015D                          ;*Macro unroll:  STRUC_POP
015D                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
015D                STRUC_TOP:   .SET   STRUC_2   
015D                STRUC_2:   .SET   STRUC_3   
015D                STRUC_3:   .SET   STRUC_4   
015D                STRUC_4:   .SET   STRUC_5   
015D                STRUC_5:   .SET   STRUC_6   
015D                STRUC_6:   .SET   STRUC_7   
015D                STRUC_7:   .SET   STRUC_8   
015D                STRUC_8:   .SET   STRUC_9   
015D                STRUC_9:   .SET   STRUC_10   
015D                STRUC_10:   .SET   STRUC_11   
015D                STRUC_11:   .SET   STRUC_12   
015D                STRUC_12:   .SET   0   
015D   FE 0D                  CP   "\r"   
015F   28 0B                  JR   z,getLineCheck   
0161   FE 0A                  CP   "\n"   
0163   28 07                  JR   z,getLineCheck   
0165   7B                     LD   A,E   
0166   B9                     CP   C   
0167   38 03                  JR   c,getLineCheck   
0169                          ;*Macro unroll:  _endif
0169                          ;*Macro unroll:  STRUC_FWD
0169                CUR_ADR:   .SET   $   
014D                          .ORG   STRUC_TOP - 2   
014D   69 01                  DW   CUR_ADR   
0169                          .ORG   CUR_ADR   
0169                          ;*Macro unroll:  STRUC_POP
0169                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
0169                STRUC_TOP:   .SET   STRUC_2   
0169                STRUC_2:   .SET   STRUC_3   
0169                STRUC_3:   .SET   STRUC_4   
0169                STRUC_4:   .SET   STRUC_5   
0169                STRUC_5:   .SET   STRUC_6   
0169                STRUC_6:   .SET   STRUC_7   
0169                STRUC_7:   .SET   STRUC_8   
0169                STRUC_8:   .SET   STRUC_9   
0169                STRUC_9:   .SET   STRUC_10   
0169                STRUC_10:   .SET   STRUC_11   
0169                STRUC_11:   .SET   STRUC_12   
0169                STRUC_12:   .SET   0   
0169                          ;*Macro unroll:  _enddo
0169   C3 2A 01               JP   DLOOP_TOP   
016C                          ;*Macro unroll:  DLOOP_FWD
016C                CUR_ADR:   .SET   $   
0128                          .ORG   DLOOP_TOP - 2   
0128   6C 01                  DW   CUR_ADR   
016C                          .ORG   CUR_ADR   
016C                          ;*Macro unroll:  DLOOP_POP
016C                DLOOP_COUNT:   .SET   DLOOP_COUNT - 1   
016C                DLOOP_TOP:   .SET   DLOOP_2   
016C                DLOOP_2:   .SET   DLOOP_3   
016C                DLOOP_3:   .SET   DLOOP_4   
016C                DLOOP_4:   .SET   DLOOP_5   
016C                DLOOP_5:   .SET   DLOOP_6   
016C                DLOOP_6:   .SET   DLOOP_7   
016C                DLOOP_7:   .SET   DLOOP_8   
016C                DLOOP_8:   .SET   DLOOP_9   
016C                DLOOP_9:   .SET   DLOOP_10   
016C                DLOOP_10:   .SET   DLOOP_11   
016C                DLOOP_11:   .SET   DLOOP_12   
016C                DLOOP_12:   .SET   0   
016C                GETLINECHECK:      
016C   3E 00                  LD   a,0   
016E   B9                     CP   c   
016F                          ;*Macro unroll:  _until nz
016F   C2 22 01               JP   nz,DLOOP_TOP - 3   
0172                          ;*Macro unroll:  DLOOP_FWD               ; needed?
0172                CUR_ADR:   .SET   $   ; needed?
0123                          .ORG   DLOOP_TOP - 2   
0123   72 01                  DW   CUR_ADR   
0172                          .ORG   CUR_ADR   
0172                          ;*Macro unroll:  _enddo
0172   C3 25 01               JP   DLOOP_TOP   
0175                          ;*Macro unroll:  DLOOP_FWD
0175                CUR_ADR:   .SET   $   
0123                          .ORG   DLOOP_TOP - 2   
0123   75 01                  DW   CUR_ADR   
0175                          .ORG   CUR_ADR   
0175                          ;*Macro unroll:  DLOOP_POP
0175                DLOOP_COUNT:   .SET   DLOOP_COUNT - 1   
0175                DLOOP_TOP:   .SET   DLOOP_2   
0175                DLOOP_2:   .SET   DLOOP_3   
0175                DLOOP_3:   .SET   DLOOP_4   
0175                DLOOP_4:   .SET   DLOOP_5   
0175                DLOOP_5:   .SET   DLOOP_6   
0175                DLOOP_6:   .SET   DLOOP_7   
0175                DLOOP_7:   .SET   DLOOP_8   
0175                DLOOP_8:   .SET   DLOOP_9   
0175                DLOOP_9:   .SET   DLOOP_10   
0175                DLOOP_10:   .SET   DLOOP_11   
0175                DLOOP_11:   .SET   DLOOP_12   
0175                DLOOP_12:   .SET   0   
0175   F1                     POP   AF   
0176   E1                     POP   HL   
0177   CD DD 01               CALL   printCR   
017A   C9                     RET      
017B                PRINTROUTINE:      
017B                          ;*Macro unroll:  _do
017B   18 03                  JR   L_M_771   
017D   C3 7D 01               JP   $   
0180                          ;*Macro unroll:  DLOOP_PUSH $
0180                DLOOP_COUNT:   .SET   DLOOP_COUNT + 1   
0180                DLOOP_12:   .SET   DLOOP_11   
0180                DLOOP_11:   .SET   DLOOP_10   
0180                DLOOP_10:   .SET   DLOOP_9   
0180                DLOOP_9:   .SET   DLOOP_8   
0180                DLOOP_8:   .SET   DLOOP_7   
0180                DLOOP_7:   .SET   DLOOP_6   
0180                DLOOP_6:   .SET   DLOOP_5   
0180                DLOOP_5:   .SET   DLOOP_4   
0180                DLOOP_4:   .SET   DLOOP_3   
0180                DLOOP_3:   .SET   DLOOP_2   
0180                DLOOP_2:   .SET   DLOOP_TOP   
0180                DLOOP_TOP:   .SET   $   
0180                L_M_771:      
0180   1A                     LD   A,(DE)   
0181   CD E5 00               CALL   putc   
0184   13                     INC   DE   
0185   0B                     DEC   BC   
0186                          ;*Macro unroll:  checkZeroWord B,C
0186   79                     LD   A,C   
0187   B0                     OR   B   
0188                          ;*Macro unroll:  _until z
0188   CA 7D 01               JP   z,DLOOP_TOP - 3   
018B                          ;*Macro unroll:  DLOOP_FWD               ; needed?
018B                CUR_ADR:   .SET   $   ; needed?
017E                          .ORG   DLOOP_TOP - 2   
017E   8B 01                  DW   CUR_ADR   
018B                          .ORG   CUR_ADR   
018B                          ;*Macro unroll:  _enddo
018B   C3 80 01               JP   DLOOP_TOP   
018E                          ;*Macro unroll:  DLOOP_FWD
018E                CUR_ADR:   .SET   $   
017E                          .ORG   DLOOP_TOP - 2   
017E   8E 01                  DW   CUR_ADR   
018E                          .ORG   CUR_ADR   
018E                          ;*Macro unroll:  DLOOP_POP
018E                DLOOP_COUNT:   .SET   DLOOP_COUNT - 1   
018E                DLOOP_TOP:   .SET   DLOOP_2   
018E                DLOOP_2:   .SET   DLOOP_3   
018E                DLOOP_3:   .SET   DLOOP_4   
018E                DLOOP_4:   .SET   DLOOP_5   
018E                DLOOP_5:   .SET   DLOOP_6   
018E                DLOOP_6:   .SET   DLOOP_7   
018E                DLOOP_7:   .SET   DLOOP_8   
018E                DLOOP_8:   .SET   DLOOP_9   
018E                DLOOP_9:   .SET   DLOOP_10   
018E                DLOOP_10:   .SET   DLOOP_11   
018E                DLOOP_11:   .SET   DLOOP_12   
018E                DLOOP_12:   .SET   0   
018E   C9                     RET      
018F                             ; 
018F                             ; getKey -  inputs a line buffered character
018F                             ; params: none
018F                             ; returns: A = character,
018F                             ; 
018F                GETKEY:      
018F   E5                     PUSH   HL   
0190   D5                     PUSH   DE   
0191   C5                     PUSH   BC   
0192   2A B6 20               LD   HL,(currkey)   
0195   ED 5B B8 20            LD   DE,(lineBufTop)   
0199   B7                     OR   A   
019A   ED 52                  SBC   HL,DE   ; exhausted the input lineBuf?
019C                          ;*Macro unroll:  _if nc
019C   D2 A2 01               JP   nc,L_M_793   
019F   C3 9F 01               JP   $   
01A2                          ;*Macro unroll:  STRUC_PUSH $
01A2                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
01A2                STRUC_12:   .SET   STRUC_11   
01A2                STRUC_11:   .SET   STRUC_10   
01A2                STRUC_10:   .SET   STRUC_9   
01A2                STRUC_9:   .SET   STRUC_8   
01A2                STRUC_8:   .SET   STRUC_7   
01A2                STRUC_7:   .SET   STRUC_6   
01A2                STRUC_6:   .SET   STRUC_5   
01A2                STRUC_5:   .SET   STRUC_4   
01A2                STRUC_4:   .SET   STRUC_3   
01A2                STRUC_3:   .SET   STRUC_2   
01A2                STRUC_2:   .SET   STRUC_TOP   
01A2                STRUC_TOP:   .SET   $   
01A2                L_M_793:      
01A2   2A B2 20               LD   HL,(lineBufStart)   ; lineBuf
01A5   ED 5B B4 20            LD   DE,(lineBufSize)   ; LINE_BUFSIZE
01A9   CD FF 00               CALL   getline   
01AC   21 BA 20               LD   HL,lineBuf   
01AF   22 B6 20               LD   (currkey),HL   
01B2   B7                     OR   A   
01B3   ED 4A                  ADC   HL,BC   ; lineBuf+DE = lineBufTop
01B5   22 B8 20               LD   (lineBufTop),HL   
01B8                          ;*Macro unroll:  _endif
01B8                          ;*Macro unroll:  STRUC_FWD
01B8                CUR_ADR:   .SET   $   
01A0                          .ORG   STRUC_TOP - 2   
01A0   B8 01                  DW   CUR_ADR   
01B8                          .ORG   CUR_ADR   
01B8                          ;*Macro unroll:  STRUC_POP
01B8                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
01B8                STRUC_TOP:   .SET   STRUC_2   
01B8                STRUC_2:   .SET   STRUC_3   
01B8                STRUC_3:   .SET   STRUC_4   
01B8                STRUC_4:   .SET   STRUC_5   
01B8                STRUC_5:   .SET   STRUC_6   
01B8                STRUC_6:   .SET   STRUC_7   
01B8                STRUC_7:   .SET   STRUC_8   
01B8                STRUC_8:   .SET   STRUC_9   
01B8                STRUC_9:   .SET   STRUC_10   
01B8                STRUC_10:   .SET   STRUC_11   
01B8                STRUC_11:   .SET   STRUC_12   
01B8                STRUC_12:   .SET   0   
01B8   2A B6 20               LD   HL,(currkey)   
01BB   7E                     LD   A,(HL)   ; get next key from input lineBuf
01BC   23                     INC   HL   
01BD   22 B6 20               LD   (currkey),HL   ; increment currkey
01C0   C1                     POP   BC   
01C1   D1                     POP   DE   
01C2   E1                     POP   HL   
01C3   C9                     RET      
01C4                             ; 
01C4                             ; Output pascal string ***
01C4                             ; params: DE = addr
01C4                             ; 
01C4                PRINTPSTR:      
01C4   F5                     PUSH   AF   
01C5   C5                     PUSH   BC   
01C6   D5                     PUSH   DE   
01C7   1A                     LD   A,(DE)   
01C8   4F                     LD   C,A   
01C9   06 00                  LD   B,0   
01CB   13                     INC   DE   
01CC   CD 7B 01               CALL   printRoutine   
01CF   D1                     POP   DE   
01D0   C1                     POP   BC   
01D1   F1                     POP   AF   
01D2   C9                     RET      
01D3                             ; 
01D3                             ; Output string
01D3                             ; params: DE = addr, BC = length
01D3                             ; 
01D3                PRINTSTR:      
01D3   F5                     PUSH   AF   
01D4   C5                     PUSH   BC   
01D5   D5                     PUSH   DE   
01D6   CD 7B 01               CALL   printRoutine   
01D9   D1                     POP   DE   
01DA   C1                     POP   BC   
01DB   F1                     POP   AF   
01DC   C9                     RET      
01DD                PRINTCR:      
01DD   D5                     PUSH   DE   
01DE   11 EE 01               LD   DE,TXT_NEWLINE   
01E1   CD C4 01               CALL   printPStr   
01E4   D1                     POP   DE   
01E5   C9                     RET      
01E6                PRINTSPACE:      
01E6   F5                     PUSH   AF   
01E7   3E 20                  LD   A," "   
01E9   CD E5 00               CALL   putc   
01EC   F1                     POP   AF   
01ED   C9                     RET      
01EE   02 0D 0A     TXT_NEWLINE:   .PSTR   "\r\n"   
01F1   04 0D 0A 3E 20 TXT_PROMPT:   .PSTR   "\r\n> "   
01F6   03 3D 3E 20  STACKPROMPT:   .PSTR   "=> "   
01FA   23 54 45 43 2D 31 20 4D 6F 6E 69 74 6F 72 20 33 2E 30 20 62 79 20 4A 6F 68 6E 20 48 61 72 64 79 0D 0A 0D 0A TXT_MONITOR_INTRO:   .PSTR   "TEC-1 Monitor 3.0 by John Hardy\r\n\r\n"   
021E                             ; ; words must preserve: BC, DE, SP, IX
021E                             ; ; words may destroy: HL, IY, AF, AF", BC", DE" HL"
021E                          ;*Macro unroll: defword "xword",6,0,xword               ; delim limit addr -- c-addr
021E                HEADER_XWORD:      ; delim limit addr -- c-addr
021E   00 00                  DW   link   
0220                LINK:     .SET   HEADER_xword   
0220   06                     DB   0 + 6   
0221   78 77 6F 72 64         DB   "xword"   
0226                XWORD:       
0226   CD BB 09               CALL   xwordSkip   
0229   CD 4F 0A               CALL   xwordRead   
022C                          ;*Macro unroll:  NEXT
022C   C3 A8 07               JP   enter   
022F                          ;*Macro unroll: defword "find",4,0,FIND
022F                HEADER_FIND:      
022F   1E 02                  DW   link   
0231                LINK:     .SET   HEADER_FIND   
0231   04                     DB   0 + 4   
0232   66 69 6E 64            DB   "find"   
0236                FIND:        
0236                          ;*Macro unroll:  ppop0 H,L
0236   DD 2B                  DEC   IX   
0238   DD 66 00               LD   H,(IX+0)   
023B   DD 2B                  DEC   IX   
023D   DD 6E 00               LD   L,(IX+0)   
0240   CD 5A 09               CALL   lookup   ; params: HL = string address, BC = string length
0243                             ; returns: DE = found header ptr or 0
0243                          ;*Macro unroll:  loadWord B,C, D,E               ; move to TOS
0243   4B                     LD   C,E   ; move to TOS
0244   42                     LD   B,D   
0245                          ;*Macro unroll:  NEXT
0245   C3 A8 07               JP   enter   
0248                          ;*Macro unroll: defword "execute",7,0,EXECUTE
0248                HEADER_EXECUTE:      
0248   2F 02                  DW   link   
024A                LINK:     .SET   HEADER_EXECUTE   
024A   07                     DB   0 + 7   
024B   65 78 65 63 75 74 65   DB   "execute"   
0252                EXECUTE:      
0252                          ;*Macro unroll:  ppop H,L                        ; POP TOS into HL
0252   60                     LD   H,B   ; POP TOS into HL
0253   69                     LD   L,C   
0254                          ;*Macro unroll:  ppop0 B,C
0254   DD 2B                  DEC   IX   
0256   DD 46 00               LD   B,(IX+0)   
0259   DD 2B                  DEC   IX   
025B   DD 4E 00               LD   C,(IX+0)   
025E   E9                     JP   (hl)   ; go do Forth word
025F                          ;*Macro unroll: defword "number",6,0,NUMBER         ; ( ptr len -- num err )
025F                HEADER_NUMBER:      ; ( ptr len -- num err )
025F   48 02                  DW   link   
0261                LINK:     .SET   HEADER_NUMBER   
0261   06                     DB   0 + 6   
0262   6E 75 6D 62 65 72      DB   "number"   
0268                NUMBER:      
0268                          ;*Macro unroll:  ppop0 H,L
0268   DD 2B                  DEC   IX   
026A   DD 66 00               LD   H,(IX+0)   
026D   DD 2B                  DEC   IX   
026F   DD 6E 00               LD   L,(IX+0)   
0272   CD 7A 08               CALL   toNumber   ; params: HL = string address, BC = string length
0275                             ; Returns the parsed number in DE,
0275                             ; BC = 0, success
0275                          ;*Macro unroll:  ppush0 D,E
0275   DD 73 00               LD   (IX+0),E   
0278   DD 23                  INC   IX   
027A   DD 72 00               LD   (IX+0),D   
027D   DD 23                  INC   IX   
027F                          ;*Macro unroll:  NEXT
027F   C3 A8 07               JP   enter   
0282                          ;*Macro unroll: defword "+!",2,0,ADDSTORE               ; (n addr -- )
0282                HEADER_ADDSTORE:      ; (n addr -- )
0282   5F 02                  DW   link   
0284                LINK:     .SET   HEADER_ADDSTORE   
0284   02                     DB   0 + 2   
0285   2B 21                  DB   "+!"   
0287                ADDSTORE:      
0287                          ;*Macro unroll: 	ppop H, L		            ; HL = address, TOS = amount to add
0287   60                     LD   H,B   ; HL = address, TOS = amount to add
0288   69                     LD   L,C   
0289                          ;*Macro unroll:  ppop0 B,C
0289   DD 2B                  DEC   IX   
028B   DD 46 00               LD   B,(IX+0)   
028E   DD 2B                  DEC   IX   
0290   DD 4E 00               LD   C,(IX+0)   
0293   7E                     LD   A,(HL)   
0294   81                     ADD   A,C   ; add TOS at (HL),
0295   77                     LD   (HL),A   
0296   23                     INC   HL   
0297   7E                     LD   A,(HL)   
0298   88                     ADC   A,B   
0299   77                     LD   (HL),A   
029A                          ;*Macro unroll: 	ppop0 B,C                      ; clear param stack
029A   DD 2B                  DEC   IX   ; clear param stack
029C   DD 46 00               LD   B,(IX+0)   
029F   DD 2B                  DEC   IX   
02A1   DD 4E 00               LD   C,(IX+0)   
02A4                          ;*Macro unroll:  NEXT
02A4   C3 A8 07               JP   enter   
02A7                          ;*Macro unroll: defword "hidden",6,0,HIDDEN
02A7                HEADER_HIDDEN:      
02A7   82 02                  DW   link   
02A9                LINK:     .SET   HEADER_HIDDEN   
02A9   06                     DB   0 + 6   
02AA   68 69 64 64 65 6E      DB   "hidden"   
02B0                HIDDEN:      
02B0                          ;*Macro unroll:  ppop H,L		            ; HL = Dictionary entry.
02B0   60                     LD   H,B   ; HL = Dictionary entry.
02B1   69                     LD   L,C   
02B2                          ;*Macro unroll:  ppop0 B,C
02B2   DD 2B                  DEC   IX   
02B4   DD 46 00               LD   B,(IX+0)   
02B7   DD 2B                  DEC   IX   
02B9   DD 4E 00               LD   C,(IX+0)   
02BC   23                     INC   HL   
02BD   23                     INC   HL   ; Point to name/flags byte.
02BE   7E                     LD   A,(HL)   
02BF   EE 40                  XOR   MSK_HIDDEN   ; Toggle the HIDDEN bit.
02C1   77                     LD   (HL),A   
02C2                          ;*Macro unroll:  NEXT
02C2   C3 A8 07               JP   enter   
02C5                             ; 1+      n1/u1 -- n2/u2            add 1 to TOS
02C5                          ;*Macro unroll: defword "1+",2,0,onePlus
02C5                HEADER_ONEPLUS:      
02C5   A7 02                  DW   link   
02C7                LINK:     .SET   HEADER_onePlus   
02C7   02                     DB   0 + 2   
02C8   31 2B                  DB   "1+"   
02CA                ONEPLUS:      
02CA   03                     INC   BC   
02CB                          ;*Macro unroll:  NEXT
02CB   C3 A8 07               JP   enter   
02CE                             ; 2+      n1/u1 -- n2/u2            add 2 to TOS
02CE                          ;*Macro unroll: defword "2+",2,0,twoPlus
02CE                HEADER_TWOPLUS:      
02CE   C5 02                  DW   link   
02D0                LINK:     .SET   HEADER_twoPlus   
02D0   02                     DB   0 + 2   
02D1   32 2B                  DB   "2+"   
02D3                TWOPLUS:      
02D3   03                     INC   BC   
02D4   03                     INC   BC   
02D5                          ;*Macro unroll:  NEXT
02D5   C3 A8 07               JP   enter   
02D8                             ; ?branch   x --              branch if TOS zero
02D8                          ;*Macro unroll: defword "0branch",7,0,ZBRANCH
02D8                HEADER_ZBRANCH:      
02D8   CE 02                  DW   link   
02DA                LINK:     .SET   HEADER_ZBRANCH   
02DA   07                     DB   0 + 7   
02DB   30 62 72 61 6E 63 68   DB   "0branch"   
02E2                ZBRANCH:      
02E2                          ;*Macro unroll:  checkZeroWord B,C               ; test old TOS
02E2   79                     LD   A,C   ; test old TOS
02E3   B0                     OR   B   
02E4                          ;*Macro unroll:  ppop0 B,C                       ; POP new TOS
02E4   DD 2B                  DEC   IX   ; POP new TOS
02E6   DD 46 00               LD   B,(IX+0)   
02E9   DD 2B                  DEC   IX   
02EB   DD 4E 00               LD   C,(IX+0)   
02EE   28 0F                  JR   z,BRANCH   ; if old TOS=0, branch
02F0   E1                     POP   HL   
02F1   23                     INC   HL   ; else skip inline value
02F2   23                     INC   HL   
02F3                          ;*Macro unroll:  NEXT1
02F3   C3 A9 07               JP   enter1   
02F6                          ;*Macro unroll: defword "branch",6,0,BRANCH         ; relative branching
02F6                HEADER_BRANCH:      ; relative branching
02F6   D8 02                  DW   link   
02F8                LINK:     .SET   HEADER_BRANCH   
02F8   06                     DB   0 + 6   
02F9   62 72 61 6E 63 68      DB   "branch"   
02FF                BRANCH:      
02FF   E1                     POP   HL   ; add the offset to the instruction pointer
0300   5E                     LD   E,(HL)   
0301   23                     INC   HL   
0302   56                     LD   D,(HL)   
0303   2B                     DEC   HL   
0304   19                     ADD   HL,DE   
0305                          ;*Macro unroll:  NEXT1
0305   C3 A9 07               JP   enter1   
0308                          ;*Macro unroll: defword "lit",3,0,LIT
0308                HEADER_LIT:      
0308   F6 02                  DW   link   
030A                LINK:     .SET   HEADER_LIT   
030A   03                     DB   0 + 3   
030B   6C 69 74               DB   "lit"   
030E                LIT:         
030E                          ;*Macro unroll: 	ppush0 B,C                      ; pushTOS
030E   DD 71 00               LD   (IX+0),C   ; pushTOS
0311   DD 23                  INC   IX   
0313   DD 70 00               LD   (IX+0),B   
0316   DD 23                  INC   IX   
0318   E1                     POP   HL   ; pop address of next Forth word in HL
0319                          ;*Macro unroll: 	readWord HL, B,C                ; read next word and push on TOS, inc HL by 2
0319   4E                     LD   C,(HL)   ; read next word and push on TOS, inc HL by 2
031A   23                     INC   HL   
031B   46                     LD   B,(HL)   
031C   23                     INC   HL   
031D                          ;*Macro unroll:  NEXT1
031D   C3 A9 07               JP   enter1   
0320                             ; 0<     n -- flag                  true if TOS negative
0320                          ;*Macro unroll: defword "0<",2,0,ZEROLESS
0320                HEADER_ZEROLESS:      
0320   08 03                  DW   link   
0322                LINK:     .SET   HEADER_ZEROLESS   
0322   02                     DB   0 + 2   
0323   30 3C                  DB   "0<"   
0325                ZEROLESS:      
0325   CB 20                  SLA   b   ; sign bit -> cy flag
0327   9F                     SBC   a,a   
0328   E6 01                  AND   1   ; <0 = -1, >0 = 0
032A   06 00                  LD   b,0   
032C   4F                     LD   c,a   
032D                          ;*Macro unroll:  NEXT
032D   C3 A8 07               JP   enter   
0330                             ; INVERT x1 -- x2               ; bitwise complement
0330                          ;*Macro unroll: defword "invert",6,0,INVERT
0330                HEADER_INVERT:      
0330   20 03                  DW   link   
0332                LINK:     .SET   HEADER_INVERT   
0332   06                     DB   0 + 6   
0333   69 6E 76 65 72 74      DB   "invert"   
0339                INVERT:      
0339   78                     LD   A,B   
033A   2F                     CPL      
033B   47                     LD   B,A   
033C   79                     LD   A,C   
033D   2F                     CPL      
033E   4F                     LD   C,A   
033F                          ;*Macro unroll:  NEXT
033F   C3 A8 07               JP   enter   
0342                             ; 
0342                             ; 
0342                             ; logic
0342                             ; 
0342                             ; 
0342                             ; TRUE
0342                          ;*Macro unroll: defword "true",4,0,TRUE
0342                HEADER_TRUE:      
0342   30 03                  DW   link   
0344                LINK:     .SET   HEADER_TRUE   
0344   04                     DB   0 + 4   
0345   74 72 75 65            DB   "true"   
0349                TRUE:        
0349                          ;*Macro unroll:  ppush0 B,C
0349   DD 71 00               LD   (IX+0),C   
034C   DD 23                  INC   IX   
034E   DD 70 00               LD   (IX+0),B   
0351   DD 23                  INC   IX   
0353   01 01 00               LD   BC,1   
0356                          ;*Macro unroll:  NEXT
0356   C3 A8 07               JP   enter   
0359                             ; FALSE
0359                          ;*Macro unroll: defword "false",5,0,FALSE
0359                HEADER_FALSE:      
0359   42 03                  DW   link   
035B                LINK:     .SET   HEADER_FALSE   
035B   05                     DB   0 + 5   
035C   66 61 6C 73 65         DB   "false"   
0361                FALSE:       
0361                          ;*Macro unroll:  ppush0 B,C
0361   DD 71 00               LD   (IX+0),C   
0364   DD 23                  INC   IX   
0366   DD 70 00               LD   (IX+0),B   
0369   DD 23                  INC   IX   
036B   01 00 00               LD   BC,0   
036E                          ;*Macro unroll:  NEXT
036E   C3 A8 07               JP   enter   
0371                             ; =      x1 x2 -- flag         test x1=x2
0371                          ;*Macro unroll: defword "=",1,0,equal
0371                HEADER_EQUAL:      
0371   59 03                  DW   link   
0373                LINK:     .SET   HEADER_equal   
0373   01                     DB   0 + 1   
0374   3D                     DB   "="   
0375                EQUAL:       
0375                          ;*Macro unroll:  ppop0 H,L
0375   DD 2B                  DEC   IX   
0377   DD 66 00               LD   H,(IX+0)   
037A   DD 2B                  DEC   IX   
037C   DD 6E 00               LD   L,(IX+0)   
037F   B7                     OR   A   
0380   ED 42                  SBC   HL,BC   ; x1-x2 in HL, SZVC valid
0382                          ;*Macro unroll:  _if nz
0382   C2 88 03               JP   nz,L_M_966   
0385   C3 85 03               JP   $   
0388                          ;*Macro unroll:  STRUC_PUSH $
0388                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
0388                STRUC_12:   .SET   STRUC_11   
0388                STRUC_11:   .SET   STRUC_10   
0388                STRUC_10:   .SET   STRUC_9   
0388                STRUC_9:   .SET   STRUC_8   
0388                STRUC_8:   .SET   STRUC_7   
0388                STRUC_7:   .SET   STRUC_6   
0388                STRUC_6:   .SET   STRUC_5   
0388                STRUC_5:   .SET   STRUC_4   
0388                STRUC_4:   .SET   STRUC_3   
0388                STRUC_3:   .SET   STRUC_2   
0388                STRUC_2:   .SET   STRUC_TOP   
0388                STRUC_TOP:   .SET   $   
0388                L_M_966:      
0388   01 01 00               LD   BC,1   ;   if -ve, result true
038B                          ;*Macro unroll:  _endif
038B                          ;*Macro unroll:  STRUC_FWD
038B                CUR_ADR:   .SET   $   
0386                          .ORG   STRUC_TOP - 2   
0386   8B 03                  DW   CUR_ADR   
038B                          .ORG   CUR_ADR   
038B                          ;*Macro unroll:  STRUC_POP
038B                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
038B                STRUC_TOP:   .SET   STRUC_2   
038B                STRUC_2:   .SET   STRUC_3   
038B                STRUC_3:   .SET   STRUC_4   
038B                STRUC_4:   .SET   STRUC_5   
038B                STRUC_5:   .SET   STRUC_6   
038B                STRUC_6:   .SET   STRUC_7   
038B                STRUC_7:   .SET   STRUC_8   
038B                STRUC_8:   .SET   STRUC_9   
038B                STRUC_9:   .SET   STRUC_10   
038B                STRUC_10:   .SET   STRUC_11   
038B                STRUC_11:   .SET   STRUC_12   
038B                STRUC_12:   .SET   0   
038B   03                     INC   BC   
038C                          ;*Macro unroll:  NEXT
038C   C3 A8 07               JP   enter   
038F                             ; <      n1 n2 -- flag          test n1<n2
038F                          ;*Macro unroll: defword "<",1,0,LESSTHAN	        ; less than
038F                HEADER_LESSTHAN:      ; less than
038F   71 03                  DW   link   
0391                LINK:     .SET   HEADER_LESSTHAN   
0391   01                     DB   0 + 1   
0392   3C                     DB   "<"   
0393                LESSTHAN:      
0393                          ;*Macro unroll:  ppop0 H,L
0393   DD 2B                  DEC   IX   
0395   DD 66 00               LD   H,(IX+0)   
0398   DD 2B                  DEC   IX   
039A   DD 6E 00               LD   L,(IX+0)   
039D   B7                     OR   A   
039E   ED 42                  SBC   HL,BC   ; n1-n2 in HL, SZVC valid
03A0                          ;*Macro unroll:  _if pe
03A0   EA A6 03               JP   pe,L_M_976   
03A3   C3 A3 03               JP   $   
03A6                          ;*Macro unroll:  STRUC_PUSH $
03A6                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
03A6                STRUC_12:   .SET   STRUC_11   
03A6                STRUC_11:   .SET   STRUC_10   
03A6                STRUC_10:   .SET   STRUC_9   
03A6                STRUC_9:   .SET   STRUC_8   
03A6                STRUC_8:   .SET   STRUC_7   
03A6                STRUC_7:   .SET   STRUC_6   
03A6                STRUC_6:   .SET   STRUC_5   
03A6                STRUC_5:   .SET   STRUC_4   
03A6                STRUC_4:   .SET   STRUC_3   
03A6                STRUC_3:   .SET   STRUC_2   
03A6                STRUC_2:   .SET   STRUC_TOP   
03A6                STRUC_TOP:   .SET   $   
03A6                L_M_976:      
03A6                          ;*Macro unroll:  _if m
03A6   FA AC 03               JP   m,L_M_977   
03A9   C3 A9 03               JP   $   
03AC                          ;*Macro unroll:  STRUC_PUSH $
03AC                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
03AC                STRUC_12:   .SET   STRUC_11   
03AC                STRUC_11:   .SET   STRUC_10   
03AC                STRUC_10:   .SET   STRUC_9   
03AC                STRUC_9:   .SET   STRUC_8   
03AC                STRUC_8:   .SET   STRUC_7   
03AC                STRUC_7:   .SET   STRUC_6   
03AC                STRUC_6:   .SET   STRUC_5   
03AC                STRUC_5:   .SET   STRUC_4   
03AC                STRUC_4:   .SET   STRUC_3   
03AC                STRUC_3:   .SET   STRUC_2   
03AC                STRUC_2:   .SET   STRUC_TOP   
03AC                STRUC_TOP:   .SET   $   
03AC                L_M_977:      
03AC   01 00 00               LD   bc,0   
03AF                          ;*Macro unroll:  _else
03AF   C3 AF 03               JP   $   
03B2                          ;*Macro unroll:  STRUC_FWD
03B2                CUR_ADR:   .SET   $   
03AA                          .ORG   STRUC_TOP - 2   
03AA   B2 03                  DW   CUR_ADR   
03B2                          .ORG   CUR_ADR   
03B2                STRUC_TOP:   .SET   $   
03B2   01 01 00               LD   bc,1   ;   if -ve, result true
03B5                          ;*Macro unroll:  _endif
03B5                          ;*Macro unroll:  STRUC_FWD
03B5                CUR_ADR:   .SET   $   
03B0                          .ORG   STRUC_TOP - 2   
03B0   B5 03                  DW   CUR_ADR   
03B5                          .ORG   CUR_ADR   
03B5                          ;*Macro unroll:  STRUC_POP
03B5                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
03B5                STRUC_TOP:   .SET   STRUC_2   
03B5                STRUC_2:   .SET   STRUC_3   
03B5                STRUC_3:   .SET   STRUC_4   
03B5                STRUC_4:   .SET   STRUC_5   
03B5                STRUC_5:   .SET   STRUC_6   
03B5                STRUC_6:   .SET   STRUC_7   
03B5                STRUC_7:   .SET   STRUC_8   
03B5                STRUC_8:   .SET   STRUC_9   
03B5                STRUC_9:   .SET   STRUC_10   
03B5                STRUC_10:   .SET   STRUC_11   
03B5                STRUC_11:   .SET   STRUC_12   
03B5                STRUC_12:   .SET   0   
03B5                          ;*Macro unroll:  _else
03B5   C3 B5 03               JP   $   
03B8                          ;*Macro unroll:  STRUC_FWD
03B8                CUR_ADR:   .SET   $   
03A4                          .ORG   STRUC_TOP - 2   
03A4   B8 03                  DW   CUR_ADR   
03B8                          .ORG   CUR_ADR   
03B8                STRUC_TOP:   .SET   $   
03B8                          ;*Macro unroll:  _if p
03B8   F2 BE 03               JP   p,L_M_983   
03BB   C3 BB 03               JP   $   
03BE                          ;*Macro unroll:  STRUC_PUSH $
03BE                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
03BE                STRUC_12:   .SET   STRUC_11   
03BE                STRUC_11:   .SET   STRUC_10   
03BE                STRUC_10:   .SET   STRUC_9   
03BE                STRUC_9:   .SET   STRUC_8   
03BE                STRUC_8:   .SET   STRUC_7   
03BE                STRUC_7:   .SET   STRUC_6   
03BE                STRUC_6:   .SET   STRUC_5   
03BE                STRUC_5:   .SET   STRUC_4   
03BE                STRUC_4:   .SET   STRUC_3   
03BE                STRUC_3:   .SET   STRUC_2   
03BE                STRUC_2:   .SET   STRUC_TOP   
03BE                STRUC_TOP:   .SET   $   
03BE                L_M_983:      
03BE   01 00 00               LD   bc,0   
03C1                          ;*Macro unroll:  _else
03C1   C3 C1 03               JP   $   
03C4                          ;*Macro unroll:  STRUC_FWD
03C4                CUR_ADR:   .SET   $   
03BC                          .ORG   STRUC_TOP - 2   
03BC   C4 03                  DW   CUR_ADR   
03C4                          .ORG   CUR_ADR   
03C4                STRUC_TOP:   .SET   $   
03C4   01 01 00               LD   bc,1   ;   if -ve, result true
03C7                          ;*Macro unroll:  _endif
03C7                          ;*Macro unroll:  STRUC_FWD
03C7                CUR_ADR:   .SET   $   
03C2                          .ORG   STRUC_TOP - 2   
03C2   C7 03                  DW   CUR_ADR   
03C7                          .ORG   CUR_ADR   
03C7                          ;*Macro unroll:  STRUC_POP
03C7                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
03C7                STRUC_TOP:   .SET   STRUC_2   
03C7                STRUC_2:   .SET   STRUC_3   
03C7                STRUC_3:   .SET   STRUC_4   
03C7                STRUC_4:   .SET   STRUC_5   
03C7                STRUC_5:   .SET   STRUC_6   
03C7                STRUC_6:   .SET   STRUC_7   
03C7                STRUC_7:   .SET   STRUC_8   
03C7                STRUC_8:   .SET   STRUC_9   
03C7                STRUC_9:   .SET   STRUC_10   
03C7                STRUC_10:   .SET   STRUC_11   
03C7                STRUC_11:   .SET   STRUC_12   
03C7                STRUC_12:   .SET   0   
03C7                          ;*Macro unroll:  _endif
03C7                          ;*Macro unroll:  STRUC_FWD
03C7                CUR_ADR:   .SET   $   
03B6                          .ORG   STRUC_TOP - 2   
03B6   C7 03                  DW   CUR_ADR   
03C7                          .ORG   CUR_ADR   
03C7                          ;*Macro unroll:  STRUC_POP
03C7                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
03C7                STRUC_TOP:   .SET   STRUC_2   
03C7                STRUC_2:   .SET   STRUC_3   
03C7                STRUC_3:   .SET   STRUC_4   
03C7                STRUC_4:   .SET   STRUC_5   
03C7                STRUC_5:   .SET   STRUC_6   
03C7                STRUC_6:   .SET   STRUC_7   
03C7                STRUC_7:   .SET   STRUC_8   
03C7                STRUC_8:   .SET   STRUC_9   
03C7                STRUC_9:   .SET   STRUC_10   
03C7                STRUC_10:   .SET   STRUC_11   
03C7                STRUC_11:   .SET   STRUC_12   
03C7                STRUC_12:   .SET   0   
03C7                          ;*Macro unroll:  NEXT
03C7   C3 A8 07               JP   enter   
03CA                             ; >      n1 n2 -- flag          test n1 > n2
03CA                          ;*Macro unroll: defword ">",1,0,GREATERTHAN	        ; less than
03CA                HEADER_GREATERTHAN:      ; less than
03CA   8F 03                  DW   link   
03CC                LINK:     .SET   HEADER_GREATERTHAN   
03CC   01                     DB   0 + 1   
03CD   3E                     DB   ">"   
03CE                GREATERTHAN:      
03CE                          ;*Macro unroll:  ppop0 H,L                  ; swap operands
03CE   DD 2B                  DEC   IX   ; swap operands
03D0   DD 66 00               LD   H,(IX+0)   
03D3   DD 2B                  DEC   IX   
03D5   DD 6E 00               LD   L,(IX+0)   
03D8                          ;*Macro unroll:  ppush H,L
03D8                          ;*Macro unroll:  ppush0 B,C             ; push TOS reg pair
03D8   DD 71 00               LD   (IX+0),C   ; push TOS reg pair
03DB   DD 23                  INC   IX   
03DD   DD 70 00               LD   (IX+0),B   
03E0   DD 23                  INC   IX   
03E2   44                     LD   B,H   
03E3   4D                     LD   C,L   
03E4   18 AD                  JR   LESSTHAN   
03E6                             ; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
03E6                             ; ;;
03E6                             ; ;; memory access
03E6                             ; ;;
03E6                             ; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
03E6                             ; !        x a-addr --   store cell in memory
03E6                          ;*Macro unroll: defword "!",1,0,STORE
03E6                HEADER_STORE:      
03E6   CA 03                  DW   link   
03E8                LINK:     .SET   HEADER_STORE   
03E8   01                     DB   0 + 1   
03E9   21                     DB   "!"   
03EA                STORE:       
03EA                          ;*Macro unroll:  ppop H,L
03EA   60                     LD   H,B   
03EB   69                     LD   L,C   
03EC                          ;*Macro unroll:  ppop0 B,C
03EC   DD 2B                  DEC   IX   
03EE   DD 46 00               LD   B,(IX+0)   
03F1   DD 2B                  DEC   IX   
03F3   DD 4E 00               LD   C,(IX+0)   
03F6                          ;*Macro unroll:  writeWord HL, B,C
03F6                          ;*Macro unroll:  writeByte HL, C
03F6   71                     LD   (HL),C   
03F7   23                     INC   HL   
03F8                          ;*Macro unroll:  writeByte HL, B
03F8   70                     LD   (HL),B   
03F9   23                     INC   HL   
03FA                          ;*Macro unroll:  ppop0 B,C          ; POP new TOS
03FA   DD 2B                  DEC   IX   ; POP new TOS
03FC   DD 46 00               LD   B,(IX+0)   
03FF   DD 2B                  DEC   IX   
0401   DD 4E 00               LD   C,(IX+0)   
0404                          ;*Macro unroll:  NEXT
0404   C3 A8 07               JP   enter   
0407                          ;*Macro unroll: defword ",",1,0,COMMA
0407                HEADER_COMMA:      
0407   E6 03                  DW   link   
0409                LINK:     .SET   HEADER_COMMA   
0409   01                     DB   0 + 1   
040A   2C                     DB   ","   
040B                COMMA:       
040B   2A C0 22               LD   HL,(VAR_HERE)   ; HERE
040E                          ;*Macro unroll: 	writeWord HL, B,C
040E                          ;*Macro unroll:  writeByte HL, C
040E   71                     LD   (HL),C   
040F   23                     INC   HL   
0410                          ;*Macro unroll:  writeByte HL, B
0410   70                     LD   (HL),B   
0411   23                     INC   HL   
0412   22 C0 22               LD   (VAR_HERE),HL   ; Update HERE (incremented)
0415                          ;*Macro unroll: 	ppop0 B,C		        ; cleanup TOS
0415   DD 2B                  DEC   IX   ; cleanup TOS
0417   DD 46 00               LD   B,(IX+0)   
041A   DD 2B                  DEC   IX   
041C   DD 4E 00               LD   C,(IX+0)   
041F                          ;*Macro unroll:  NEXT
041F   C3 A8 07               JP   enter   
0422                          ;*Macro unroll: defword "@",1,0,FETCH
0422                HEADER_FETCH:      
0422   07 04                  DW   link   
0424                LINK:     .SET   HEADER_FETCH   
0424   01                     DB   0 + 1   
0425   40                     DB   "@"   
0426                FETCH:       
0426                          ;*Macro unroll:  loadWord H,L, B,C ; HL = TOS
0426   69                     LD   L,C   ; HL = TOS
0427   60                     LD   H,B   
0428                          ;*Macro unroll:  readWord HL, B,C
0428   4E                     LD   C,(HL)   
0429   23                     INC   HL   
042A   46                     LD   B,(HL)   
042B   23                     INC   HL   
042C                          ;*Macro unroll:  NEXT
042C   C3 A8 07               JP   enter   
042F                             ; CELLS   ( n1 -- n2 ) n2 is the size in address units of n1 cells.
042F                          ;*Macro unroll: defword "cells",5,0,CELLS
042F                HEADER_CELLS:      
042F   22 04                  DW   link   
0431                LINK:     .SET   HEADER_CELLS   
0431   05                     DB   0 + 5   
0432   63 65 6C 6C 73         DB   "cells"   
0437                CELLS:       
0437   C3 AC 04               JP   twostar   
043A                             ; C!      char c-addr --    store char in memory
043A                          ;*Macro unroll: defword "c!",2,0,CSTORE
043A                HEADER_CSTORE:      
043A   2F 04                  DW   link   
043C                LINK:     .SET   HEADER_CSTORE   
043C   02                     DB   0 + 2   
043D   63 21                  DB   "c!"   
043F                CSTORE:      
043F                          ;*Macro unroll:  ppop H,L
043F   60                     LD   H,B   
0440   69                     LD   L,C   
0441                          ;*Macro unroll:  ppop0 B,C
0441   DD 2B                  DEC   IX   
0443   DD 46 00               LD   B,(IX+0)   
0446   DD 2B                  DEC   IX   
0448   DD 4E 00               LD   C,(IX+0)   
044B   71                     LD   (HL),C   
044C                          ;*Macro unroll:  ppop0 B,C          ; POP new TOS
044C   DD 2B                  DEC   IX   ; POP new TOS
044E   DD 46 00               LD   B,(IX+0)   
0451   DD 2B                  DEC   IX   
0453   DD 4E 00               LD   C,(IX+0)   
0456                          ;*Macro unroll:  NEXT
0456   C3 A8 07               JP   enter   
0459                          ;*Macro unroll: defword "c,",1,0,CCOMMA
0459                HEADER_CCOMMA:      
0459   3A 04                  DW   link   
045B                LINK:     .SET   HEADER_CCOMMA   
045B   01                     DB   0 + 1   
045C   63 2C                  DB   "c,"   
045E                CCOMMA:      
045E                          ;*Macro unroll:  ppush0 H,L
045E   DD 75 00               LD   (IX+0),L   
0461   DD 23                  INC   IX   
0463   DD 74 00               LD   (IX+0),H   
0466   DD 23                  INC   IX   
0468   2A C0 22               LD   HL,(VAR_HERE)   ; HERE
046B   71                     LD   (HL),C   ; Store DE at memory pointed to by VAR_HERE
046C   23                     INC   HL   
046D   22 C0 22               LD   (VAR_HERE),HL   ; Update HERE (incremented)
0470                          ;*Macro unroll:  ppop0 H,L
0470   DD 2B                  DEC   IX   
0472   DD 66 00               LD   H,(IX+0)   
0475   DD 2B                  DEC   IX   
0477   DD 6E 00               LD   L,(IX+0)   
047A                          ;*Macro unroll: 	ppop0 B,C		        ; cleanup TOS
047A   DD 2B                  DEC   IX   ; cleanup TOS
047C   DD 46 00               LD   B,(IX+0)   
047F   DD 2B                  DEC   IX   
0481   DD 4E 00               LD   C,(IX+0)   
0484                          ;*Macro unroll:  NEXT
0484   C3 A8 07               JP   enter   
0487                             ; C@     c-addr -- char   fetch char from memory
0487                          ;*Macro unroll: defword "c@",2,0,CFETCH
0487                HEADER_CFETCH:      
0487   59 04                  DW   link   
0489                LINK:     .SET   HEADER_CFETCH   
0489   02                     DB   0 + 2   
048A   63 40                  DB   "c@"   
048C                CFETCH:      
048C   0A                     LD   A,(BC)   
048D   4F                     LD   C,A   
048E   06 00                  LD   B,0   
0490                          ;*Macro unroll:  NEXT
0490   C3 A8 07               JP   enter   
0493                             ; 
0493                             ; 
0493                             ; arithmetic
0493                             ; 
0493                             ; 
0493                             ; +       n1/u1 n2/u2 -- n3/u3     add n1+n2
0493                          ;*Macro unroll: defword "+",1,0,PLUS
0493                HEADER_PLUS:      
0493   87 04                  DW   link   
0495                LINK:     .SET   HEADER_PLUS   
0495   01                     DB   0 + 1   
0496   2B                     DB   "+"   
0497                PLUS:        
0497                          ;*Macro unroll:  ppop0 H,L
0497   DD 2B                  DEC   IX   
0499   DD 66 00               LD   H,(IX+0)   
049C   DD 2B                  DEC   IX   
049E   DD 6E 00               LD   L,(IX+0)   
04A1   09                     ADD   HL,BC   
04A2                          ;*Macro unroll:  loadWord B,C, H,L
04A2   4D                     LD   C,L   
04A3   44                     LD   B,H   
04A4                          ;*Macro unroll:  NEXT
04A4   C3 A8 07               JP   enter   
04A7                             ; 2*      n1/u1 -- n2/u2            arithmetic left shift
04A7                          ;*Macro unroll: defword "2*",2,0,TWOSTAR
04A7                HEADER_TWOSTAR:      
04A7   93 04                  DW   link   
04A9                LINK:     .SET   HEADER_TWOSTAR   
04A9   02                     DB   0 + 2   
04AA   32 2A                  DB   "2*"   
04AC                TWOSTAR:      
04AC   CB 21                  SLA   C   
04AE   CB 10                  RL   B   
04B0                          ;*Macro unroll:  NEXT
04B0   C3 A8 07               JP   enter   
04B3                          ;*Macro unroll: defword "-",1,0,MINUS
04B3                HEADER_MINUS:      
04B3   A7 04                  DW   link   
04B5                LINK:     .SET   HEADER_MINUS   
04B5   01                     DB   0 + 1   
04B6   2D                     DB   "-"   
04B7                MINUS:       
04B7                          ;*Macro unroll:  ppop0 H,L
04B7   DD 2B                  DEC   IX   
04B9   DD 66 00               LD   H,(IX+0)   
04BC   DD 2B                  DEC   IX   
04BE   DD 6E 00               LD   L,(IX+0)   
04C1   B7                     OR   A   
04C2   ED 42                  SBC   HL,BC   
04C4                          ;*Macro unroll:  loadWord B,C, H,L
04C4   4D                     LD   C,L   
04C5   44                     LD   B,H   
04C6                          ;*Macro unroll:  NEXT
04C6   C3 A8 07               JP   enter   
04C9                             ; U*   u1 u2 -- ud   unsigned mutliply
04C9                          ;*Macro unroll: defword "u*",2,0,USTAR              ; u1 u2 -- ud
04C9                HEADER_USTAR:      ; u1 u2 -- ud
04C9   B3 04                  DW   link   
04CB                LINK:     .SET   HEADER_USTAR   
04CB   02                     DB   0 + 2   
04CC   75 2A                  DB   "u*"   
04CE                USTAR:       
04CE                             ; u2 in BC
04CE                          ;*Macro unroll:  ppop0 D,E                       ; u1 in DE
04CE   DD 2B                  DEC   IX   ; u1 in DE
04D0   DD 56 00               LD   D,(IX+0)   
04D3   DD 2B                  DEC   IX   
04D5   DD 5E 00               LD   E,(IX+0)   
04D8   CD 12 09               CALL   unsignedMultiply   
04DB                          ;*Macro unroll:  ppush0 D,E                      ; udlo result
04DB   DD 73 00               LD   (IX+0),E   ; udlo result
04DE   DD 23                  INC   IX   
04E0   DD 72 00               LD   (IX+0),D   
04E3   DD 23                  INC   IX   
04E5                             ; udhi result
04E5                          ;*Macro unroll:  NEXT
04E5   C3 A8 07               JP   enter   
04E8                             ; U/MOD   u1 u2 -- u1 u2    unsigned 16 / 16 -> r q
04E8                          ;*Macro unroll: defword "u/mod",5,0,USLASHMOD
04E8                HEADER_USLASHMOD:      
04E8   C9 04                  DW   link   
04EA                LINK:     .SET   HEADER_USLASHMOD   
04EA   05                     DB   0 + 5   
04EB   75 2F 6D 6F 64         DB   "u/mod"   
04F0                USLASHMOD:      
04F0                          ;*Macro unroll:  ppop D,E                ; DE = divisor
04F0   50                     LD   D,B   ; DE = divisor
04F1   59                     LD   E,C   
04F2                          ;*Macro unroll:  ppop0 B,C
04F2   DD 2B                  DEC   IX   
04F4   DD 46 00               LD   B,(IX+0)   
04F7   DD 2B                  DEC   IX   
04F9   DD 4E 00               LD   C,(IX+0)   
04FC                             ; BC = dividend
04FC   CD 40 08               CALL   divideWordByWord   
04FF                          ;*Macro unroll:  ppush0 H,L           ; PUSH remainder,
04FF   DD 75 00               LD   (IX+0),L   ; PUSH remainder,
0502   DD 23                  INC   IX   
0504   DD 74 00               LD   (IX+0),H   
0507   DD 23                  INC   IX   
0509                          ;*Macro unroll:  NEXT
0509   C3 A8 07               JP   enter   
050C                             ; 
050C                             ; 
050C                             ; logic
050C                             ; 
050C                             ; 
050C                          ;*Macro unroll: defword "[",1,MSK_IMMED,LBRAC
050C                HEADER_LBRAC:      
050C   E8 04                  DW   link   
050E                LINK:     .SET   HEADER_LBRAC   
050E   81                     DB   MSK_IMMED + 1   
050F   5B                     DB   "["   
0510                LBRAC:       
0510   21 00 00               LD   HL,0   
0513   22 C4 22               LD   (VAR_STATE),HL   ; Set STATE to 0.
0516                          ;*Macro unroll:  NEXT
0516   C3 A8 07               JP   enter   
0519                          ;*Macro unroll: defword "]",1,0,RBRAC
0519                HEADER_RBRAC:      
0519   0C 05                  DW   link   
051B                LINK:     .SET   HEADER_RBRAC   
051B   01                     DB   0 + 1   
051C   5D                     DB   "]"   
051D                RBRAC:       
051D   21 01 00               LD   HL,1   
0520   22 C4 22               LD   (VAR_STATE),HL   ; Set STATE to 1.
0523                          ;*Macro unroll:  NEXT
0523   C3 A8 07               JP   enter   
0526                             ; 0= zero-equal
0526                          ;*Macro unroll: defword "0=",2,0,zEqual
0526                HEADER_ZEQUAL:      
0526   19 05                  DW   link   
0528                LINK:     .SET   HEADER_zEqual   
0528   02                     DB   0 + 2   
0529   30 3D                  DB   "0="   
052B                ZEQUAL:      
052B                          ;*Macro unroll:  checkZeroWord B,C            ; returns 0 if not equal, 1 if equal
052B   79                     LD   A,C   ; returns 0 if not equal, 1 if equal
052C   B0                     OR   B   
052D                          ;*Macro unroll:  _if nz
052D   C2 33 05               JP   nz,L_M_1093   
0530   C3 30 05               JP   $   
0533                          ;*Macro unroll:  STRUC_PUSH $
0533                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
0533                STRUC_12:   .SET   STRUC_11   
0533                STRUC_11:   .SET   STRUC_10   
0533                STRUC_10:   .SET   STRUC_9   
0533                STRUC_9:   .SET   STRUC_8   
0533                STRUC_8:   .SET   STRUC_7   
0533                STRUC_7:   .SET   STRUC_6   
0533                STRUC_6:   .SET   STRUC_5   
0533                STRUC_5:   .SET   STRUC_4   
0533                STRUC_4:   .SET   STRUC_3   
0533                STRUC_3:   .SET   STRUC_2   
0533                STRUC_2:   .SET   STRUC_TOP   
0533                STRUC_TOP:   .SET   $   
0533                L_M_1093:      
0533   01 FF FF               LD   BC,-1   
0536                          ;*Macro unroll:  _endif
0536                          ;*Macro unroll:  STRUC_FWD
0536                CUR_ADR:   .SET   $   
0531                          .ORG   STRUC_TOP - 2   
0531   36 05                  DW   CUR_ADR   
0536                          .ORG   CUR_ADR   
0536                          ;*Macro unroll:  STRUC_POP
0536                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
0536                STRUC_TOP:   .SET   STRUC_2   
0536                STRUC_2:   .SET   STRUC_3   
0536                STRUC_3:   .SET   STRUC_4   
0536                STRUC_4:   .SET   STRUC_5   
0536                STRUC_5:   .SET   STRUC_6   
0536                STRUC_6:   .SET   STRUC_7   
0536                STRUC_7:   .SET   STRUC_8   
0536                STRUC_8:   .SET   STRUC_9   
0536                STRUC_9:   .SET   STRUC_10   
0536                STRUC_10:   .SET   STRUC_11   
0536                STRUC_11:   .SET   STRUC_12   
0536                STRUC_12:   .SET   0   
0536   03                     INC   BC   
0537                          ;*Macro unroll:  NEXT
0537   C3 A8 07               JP   enter   
053A                          ;*Macro unroll: defword "0<>",3,0,zNotEqual
053A                HEADER_ZNOTEQUAL:      
053A   26 05                  DW   link   
053C                LINK:     .SET   HEADER_zNotEqual   
053C   03                     DB   0 + 3   
053D   30 3C 3E               DB   "0<>"   
0540                ZNOTEQUAL:      
0540                          ;*Macro unroll:  checkZeroWord B,C            ; returns 0 if not equal, 1 if equal
0540   79                     LD   A,C   ; returns 0 if not equal, 1 if equal
0541   B0                     OR   B   
0542                          ;*Macro unroll:  _if nz
0542   C2 48 05               JP   nz,L_M_1100   
0545   C3 45 05               JP   $   
0548                          ;*Macro unroll:  STRUC_PUSH $
0548                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
0548                STRUC_12:   .SET   STRUC_11   
0548                STRUC_11:   .SET   STRUC_10   
0548                STRUC_10:   .SET   STRUC_9   
0548                STRUC_9:   .SET   STRUC_8   
0548                STRUC_8:   .SET   STRUC_7   
0548                STRUC_7:   .SET   STRUC_6   
0548                STRUC_6:   .SET   STRUC_5   
0548                STRUC_5:   .SET   STRUC_4   
0548                STRUC_4:   .SET   STRUC_3   
0548                STRUC_3:   .SET   STRUC_2   
0548                STRUC_2:   .SET   STRUC_TOP   
0548                STRUC_TOP:   .SET   $   
0548                L_M_1100:      
0548   01 01 00               LD   BC,1   
054B                          ;*Macro unroll:  _endif
054B                          ;*Macro unroll:  STRUC_FWD
054B                CUR_ADR:   .SET   $   
0546                          .ORG   STRUC_TOP - 2   
0546   4B 05                  DW   CUR_ADR   
054B                          .ORG   CUR_ADR   
054B                          ;*Macro unroll:  STRUC_POP
054B                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
054B                STRUC_TOP:   .SET   STRUC_2   
054B                STRUC_2:   .SET   STRUC_3   
054B                STRUC_3:   .SET   STRUC_4   
054B                STRUC_4:   .SET   STRUC_5   
054B                STRUC_5:   .SET   STRUC_6   
054B                STRUC_6:   .SET   STRUC_7   
054B                STRUC_7:   .SET   STRUC_8   
054B                STRUC_8:   .SET   STRUC_9   
054B                STRUC_9:   .SET   STRUC_10   
054B                STRUC_10:   .SET   STRUC_11   
054B                STRUC_11:   .SET   STRUC_12   
054B                STRUC_12:   .SET   0   
054B                          ;*Macro unroll:  NEXT
054B   C3 A8 07               JP   enter   
054E                             ; and    x1 x2 -- x3            logical and
054E                          ;*Macro unroll: defword "and",3,0,and	        ; bitwise and
054E                HEADER_AND:      ; bitwise and
054E   3A 05                  DW   link   
0550                LINK:     .SET   HEADER_and   
0550   03                     DB   0 + 3   
0551   61 6E 64               DB   "and"   
0554                AND:         
0554                          ;*Macro unroll:  ppop0 H,L
0554   DD 2B                  DEC   IX   
0556   DD 66 00               LD   H,(IX+0)   
0559   DD 2B                  DEC   IX   
055B   DD 6E 00               LD   L,(IX+0)   
055E   78                     LD   A,b   
055F   A4                     AND   H   
0560   47                     LD   B,A   
0561   79                     LD   A,C   
0562   A5                     AND   L   
0563   4F                     LD   C,A   
0564                          ;*Macro unroll:  NEXT
0564   C3 A8 07               JP   enter   
0567                             ; OR    x1 x2 -- x3             logical OR
0567                          ;*Macro unroll: defword "or",2,0,OR	            ; bitwise OR
0567                HEADER_OR:      ; bitwise OR
0567   4E 05                  DW   link   
0569                LINK:     .SET   HEADER_OR   
0569   02                     DB   0 + 2   
056A   6F 72                  DB   "or"   
056C                OR:          
056C                          ;*Macro unroll:  ppop0 H,L
056C   DD 2B                  DEC   IX   
056E   DD 66 00               LD   H,(IX+0)   
0571   DD 2B                  DEC   IX   
0573   DD 6E 00               LD   L,(IX+0)   
0576   78                     LD   A,B   
0577   B4                     OR   H   
0578   47                     LD   B,A   
0579   79                     LD   A,C   
057A   B5                     OR   L   
057B   4F                     LD   C,A   
057C                          ;*Macro unroll:  NEXT
057C   C3 A8 07               JP   enter   
057F                             ; xor    x1 x2 -- x3            logical xor
057F                          ;*Macro unroll: defword "xor",3,0,xor	        ; bitwise xor
057F                HEADER_XOR:      ; bitwise xor
057F   67 05                  DW   link   
0581                LINK:     .SET   HEADER_xor   
0581   03                     DB   0 + 3   
0582   78 6F 72               DB   "xor"   
0585                XOR:         
0585                          ;*Macro unroll:  ppop0 H,L
0585   DD 2B                  DEC   IX   
0587   DD 66 00               LD   H,(IX+0)   
058A   DD 2B                  DEC   IX   
058C   DD 6E 00               LD   L,(IX+0)   
058F   78                     LD   A,B   
0590   AC                     XOR   H   
0591   47                     LD   B,A   
0592   79                     LD   A,C   
0593   AD                     XOR   L   
0594   4F                     LD   C,A   
0595                          ;*Macro unroll:  NEXT
0595   C3 A8 07               JP   enter   
0598                             ; 
0598                             ; 
0598                             ; stack
0598                             ; 
0598                             ; 
0598                          ;*Macro unroll: defword "rot",3,0,ROT       ; x1 x2 x3 -- x2 x3 x1
0598                HEADER_ROT:      ; x1 x2 x3 -- x2 x3 x1
0598   7F 05                  DW   link   
059A                LINK:     .SET   HEADER_ROT   
059A   03                     DB   0 + 3   
059B   72 6F 74               DB   "rot"   
059E                ROT:         
059E                             ; x3 in BC
059E                          ;*Macro unroll:  ppop0 D,E               ; x2 in DE
059E   DD 2B                  DEC   IX   ; x2 in DE
05A0   DD 56 00               LD   D,(IX+0)   
05A3   DD 2B                  DEC   IX   
05A5   DD 5E 00               LD   E,(IX+0)   
05A8                          ;*Macro unroll:  ppop0 H,L               ; x1 in HL
05A8   DD 2B                  DEC   IX   ; x1 in HL
05AA   DD 66 00               LD   H,(IX+0)   
05AD   DD 2B                  DEC   IX   
05AF   DD 6E 00               LD   L,(IX+0)   
05B2                          ;*Macro unroll:  ppush0 D,E              ; x2 on stack
05B2   DD 73 00               LD   (IX+0),E   ; x2 on stack
05B5   DD 23                  INC   IX   
05B7   DD 72 00               LD   (IX+0),D   
05BA   DD 23                  INC   IX   
05BC                          ;*Macro unroll:  ppush H,L               ; PUSH x1 - x2 x3 x1
05BC                          ;*Macro unroll:  ppush0 B,C             ; push TOS reg pair
05BC   DD 71 00               LD   (IX+0),C   ; push TOS reg pair
05BF   DD 23                  INC   IX   
05C1   DD 70 00               LD   (IX+0),B   
05C4   DD 23                  INC   IX   
05C6   44                     LD   B,H   ; PUSH x1 - x2 x3 x1
05C7   4D                     LD   C,L   
05C8                             ; x1 in BC
05C8                          ;*Macro unroll:  NEXT
05C8   C3 A8 07               JP   enter   
05CB                          ;*Macro unroll: defword "-rot",4,0,NROT     ; x1 x2 x3 -- x3 x1 x2
05CB                HEADER_NROT:      ; x1 x2 x3 -- x3 x1 x2
05CB   98 05                  DW   link   
05CD                LINK:     .SET   HEADER_NROT   
05CD   04                     DB   0 + 4   
05CE   2D 72 6F 74            DB   "-rot"   
05D2                NROT:        
05D2                             ; x3 in BC
05D2                          ;*Macro unroll:  ppop0 D,E               ; x2 in DE
05D2   DD 2B                  DEC   IX   ; x2 in DE
05D4   DD 56 00               LD   D,(IX+0)   
05D7   DD 2B                  DEC   IX   
05D9   DD 5E 00               LD   E,(IX+0)   
05DC                          ;*Macro unroll:  ppop0 H,L               ; x1 in HL
05DC   DD 2B                  DEC   IX   ; x1 in HL
05DE   DD 66 00               LD   H,(IX+0)   
05E1   DD 2B                  DEC   IX   
05E3   DD 6E 00               LD   L,(IX+0)   
05E6                          ;*Macro unroll:  ppush H,L               ; PUSH x1 - x3 x1
05E6                          ;*Macro unroll:  ppush0 B,C             ; push TOS reg pair
05E6   DD 71 00               LD   (IX+0),C   ; push TOS reg pair
05E9   DD 23                  INC   IX   
05EB   DD 70 00               LD   (IX+0),B   
05EE   DD 23                  INC   IX   
05F0   44                     LD   B,H   ; PUSH x1 - x3 x1
05F1   4D                     LD   C,L   
05F2                          ;*Macro unroll:  ppush D,E               ; PUSH x2 - x3 x1 x2
05F2                          ;*Macro unroll:  ppush0 B,C             ; push TOS reg pair
05F2   DD 71 00               LD   (IX+0),C   ; push TOS reg pair
05F5   DD 23                  INC   IX   
05F7   DD 70 00               LD   (IX+0),B   
05FA   DD 23                  INC   IX   
05FC   42                     LD   B,D   ; PUSH x2 - x3 x1 x2
05FD   4B                     LD   C,E   
05FE                             ; x2 in BC
05FE                          ;*Macro unroll:  NEXT
05FE   C3 A8 07               JP   enter   
0601                          ;*Macro unroll: defword "dup",3,0,DUP        ; x -- x x
0601                HEADER_DUP:      ; x -- x x
0601   CB 05                  DW   link   
0603                LINK:     .SET   HEADER_DUP   
0603   03                     DB   0 + 3   
0604   64 75 70               DB   "dup"   
0607                DUP:         
0607                          ;*Macro unroll:  ppush0 B,C
0607   DD 71 00               LD   (IX+0),C   
060A   DD 23                  INC   IX   
060C   DD 70 00               LD   (IX+0),B   
060F   DD 23                  INC   IX   
0611                          ;*Macro unroll:  NEXT
0611   C3 A8 07               JP   enter   
0614                             ; SWAP     x1 x2 -- x2 x1    swap top two items
0614                          ;*Macro unroll: defword "swap",4,0,SWAP      ; x1 x2 -- x2 x1
0614                HEADER_SWAP:      ; x1 x2 -- x2 x1
0614   01 06                  DW   link   
0616                LINK:     .SET   HEADER_SWAP   
0616   04                     DB   0 + 4   
0617   73 77 61 70            DB   "swap"   
061B                SWAP:        
061B                          ;*Macro unroll:  ppop0 D,E
061B   DD 2B                  DEC   IX   
061D   DD 56 00               LD   D,(IX+0)   
0620   DD 2B                  DEC   IX   
0622   DD 5E 00               LD   E,(IX+0)   
0625                          ;*Macro unroll:  ppush D,E
0625                          ;*Macro unroll:  ppush0 B,C             ; push TOS reg pair
0625   DD 71 00               LD   (IX+0),C   ; push TOS reg pair
0628   DD 23                  INC   IX   
062A   DD 70 00               LD   (IX+0),B   
062D   DD 23                  INC   IX   
062F   42                     LD   B,D   
0630   4B                     LD   C,E   
0631                          ;*Macro unroll:  NEXT
0631   C3 A8 07               JP   enter   
0634                          ;*Macro unroll: defword "drop",4,0,DROP      ; x --
0634                HEADER_DROP:      ; x --
0634   14 06                  DW   link   
0636                LINK:     .SET   HEADER_DROP   
0636   04                     DB   0 + 4   
0637   64 72 6F 70            DB   "drop"   
063B                DROP:        
063B                          ;*Macro unroll:  ppop0 B,C		    ; drop top of stack
063B   DD 2B                  DEC   IX   ; drop top of stack
063D   DD 46 00               LD   B,(IX+0)   
0640   DD 2B                  DEC   IX   
0642   DD 4E 00               LD   C,(IX+0)   
0645                          ;*Macro unroll:  NEXT
0645   C3 A8 07               JP   enter   
0648                             ; OVER    x1 x2 -- x1 x2 x1
0648                          ;*Macro unroll: defword "over",4,0,OVER
0648                HEADER_OVER:      
0648   34 06                  DW   link   
064A                LINK:     .SET   HEADER_OVER   
064A   04                     DB   0 + 4   
064B   6F 76 65 72            DB   "over"   
064F                OVER:        
064F                          ;*Macro unroll:  ppop0 H,L
064F   DD 2B                  DEC   IX   
0651   DD 66 00               LD   H,(IX+0)   
0654   DD 2B                  DEC   IX   
0656   DD 6E 00               LD   L,(IX+0)   
0659                          ;*Macro unroll:  ppush0 H,L
0659   DD 75 00               LD   (IX+0),L   
065C   DD 23                  INC   IX   
065E   DD 74 00               LD   (IX+0),H   
0661   DD 23                  INC   IX   
0663                          ;*Macro unroll:  ppush H,L
0663                          ;*Macro unroll:  ppush0 B,C             ; push TOS reg pair
0663   DD 71 00               LD   (IX+0),C   ; push TOS reg pair
0666   DD 23                  INC   IX   
0668   DD 70 00               LD   (IX+0),B   
066B   DD 23                  INC   IX   
066D   44                     LD   B,H   
066E   4D                     LD   C,L   
066F                          ;*Macro unroll:  NEXT
066F   C3 A8 07               JP   enter   
0672                             ; >R    ( x -- ) ( R: -- x )  Move  x from TOS to the return stack.
0672                          ;*Macro unroll: defword ">r",2,0,TOR
0672                HEADER_TOR:      
0672   48 06                  DW   link   
0674                LINK:     .SET   HEADER_TOR   
0674   02                     DB   0 + 2   
0675   3E 72                  DB   ">r"   
0677                TOR:         
0677   E1                     POP   HL   
0678   C5                     PUSH   BC   
0679   E5                     PUSH   HL   
067A                          ;*Macro unroll:  ppop0 B,C
067A   DD 2B                  DEC   IX   
067C   DD 46 00               LD   B,(IX+0)   
067F   DD 2B                  DEC   IX   
0681   DD 4E 00               LD   C,(IX+0)   
0684                          ;*Macro unroll:  NEXT
0684   C3 A8 07               JP   enter   
0687                             ; R>    ( -- x ) ( R: x -- )  Move x from the return stack to TOS
0687                          ;*Macro unroll: defword "r>",2,0,RFROM
0687                HEADER_RFROM:      
0687   72 06                  DW   link   
0689                LINK:     .SET   HEADER_RFROM   
0689   02                     DB   0 + 2   
068A   72 3E                  DB   "r>"   
068C                RFROM:       
068C                          ;*Macro unroll:  ppush0 B,C
068C   DD 71 00               LD   (IX+0),C   
068F   DD 23                  INC   IX   
0691   DD 70 00               LD   (IX+0),B   
0694   DD 23                  INC   IX   
0696   E1                     POP   HL   
0697   C1                     POP   BC   
0698   E5                     PUSH   HL   
0699                          ;*Macro unroll:  NEXT
0699   C3 A8 07               JP   enter   
069C                             ; 
069C                             ; 
069C                             ; output
069C                             ; 
069C                             ; 
069C                          ;*Macro unroll: defword ".",1,0,DOT                 ; print top of stack in BASE
069C                HEADER_DOT:      ; print top of stack in BASE
069C   87 06                  DW   link   
069E                LINK:     .SET   HEADER_DOT   
069E   01                     DB   0 + 1   
069F   2E                     DB   "."   
06A0                DOT:         
06A0   E5                     PUSH   HL   
06A1   D5                     PUSH   DE   
06A2   C5                     PUSH   BC   
06A3                          ;*Macro unroll:  loadWord H,L, B,C
06A3   69                     LD   L,C   
06A4   60                     LD   H,B   
06A5   3A CA 22               LD   A,(VAR_BASE)   
06A8   4F                     LD   C,A   
06A9   11 3C 21               LD   DE,wordBuf   
06AC   CD D2 07               CALL   formatNum   
06AF   CD D3 01               CALL   printStr   
06B2   CD E6 01               CALL   printSpace   
06B5   C1                     POP   BC   
06B6   D1                     POP   DE   
06B7   E1                     POP   HL   
06B8                          ;*Macro unroll:  ppop0 B,C
06B8   DD 2B                  DEC   IX   
06BA   DD 46 00               LD   B,(IX+0)   
06BD   DD 2B                  DEC   IX   
06BF   DD 4E 00               LD   C,(IX+0)   
06C2                          ;*Macro unroll:  NEXT
06C2   C3 A8 07               JP   enter   
06C5                          ;*Macro unroll: defword "type",4,0,TYPE             ; ( str len -- )
06C5                HEADER_TYPE:      ; ( str len -- )
06C5   9C 06                  DW   link   
06C7                LINK:     .SET   HEADER_TYPE   
06C7   04                     DB   0 + 4   
06C8   74 79 70 65            DB   "type"   
06CC                TYPE:        
06CC                          ;*Macro unroll:  ppop0 D,E                       ; DE = str BC = length
06CC   DD 2B                  DEC   IX   ; DE = str BC = length
06CE   DD 56 00               LD   D,(IX+0)   
06D1   DD 2B                  DEC   IX   
06D3   DD 5E 00               LD   E,(IX+0)   
06D6   CD D3 01               CALL   printStr   
06D9                          ;*Macro unroll:  ppop0 B,C                       ; clear TOS
06D9   DD 2B                  DEC   IX   ; clear TOS
06DB   DD 46 00               LD   B,(IX+0)   
06DE   DD 2B                  DEC   IX   
06E0   DD 4E 00               LD   C,(IX+0)   
06E3                          ;*Macro unroll:  NEXT
06E3   C3 A8 07               JP   enter   
06E6                          ;*Macro unroll: defword "cr",2,0,cr                 ; ( -- )
06E6                HEADER_CR:      ; ( -- )
06E6   C5 06                  DW   link   
06E8                LINK:     .SET   HEADER_cr   
06E8   02                     DB   0 + 2   
06E9   63 72                  DB   "cr"   
06EB                CR:          
06EB   CD DD 01               CALL   printcr   
06EE                          ;*Macro unroll:  NEXT
06EE   C3 A8 07               JP   enter   
06F1                             ; dw dup, 0<                      ; ptr data data
06F1                             ; cIf
06F1                             ;     dw swap                     ; data ptr
06F1                             ;     dw dup, lit, "-"            ; data ptr ptr "-"
06F1                             ;     dw swap, store              ; data ptr
06F1                             ; cEndif
06F1                             ; 
06F1                             ; HL = data, DE = ptr to lineBuf, C = base ***
06F1                             ; DE = ptr to string, BC = length
06F1                             ; 
06F1                             ; formatNumber:                       ; base data ptr -- ptr length
06F1                             ; bit 7, H
06F1                             ; _if nz
06F1                             ;     ; HL is negative. Output "-" to string and negate HL.
06F1                             ;     ld A, "-"
06F1                             ;     ld (DE), A
06F1                             ;     inc DE
06F1                             ;     call negateNum
06F1                             ; _endif
06F1                             ; ld B, 0     ; B will count character length of number
06F1                             ; _do
06F1                             ;     push BC
06F1                             ;     call divideWordByByte  ; HL = HL / A, A = remainder
06F1                             ;     pop BC
06F1                             ;     push AF
06F1                             ;     inc B
06F1                             ;     checkZeroWord H,L
06F1                             ; _until z
06F1                             ; _enddo
06F1                             ; _do
06F1                             ;     pop AF
06F1                             ;     add A,$30                     ; convert digit to ASCII
06F1                             ;     cp $3A
06F1                             ;     _if nc
06F1                             ;         add A,7
06F1                             ;     _endif
06F1                             ;     ld (DE), A
06F1                             ;     inc DE
06F1                             ; _djnz
06F1                             ; ld HL,wordBuf           ;calc length
06F1                             ; ex DE,HL
06F1                             ; or A
06F1                             ; sbc HL,DE
06F1                             ; loadWord B,C, H,L
06F1                             ; ret
06F1                             ; utilities
06F1                             ; low-level machine code routines
06F1   25 46 69 72 74 68 20 2D 20 61 20 5A 38 30 20 46 6F 72 74 68 20 62 79 20 4A 6F 68 6E 20 48 61 72 64 79 0D 0A 0D 0A TXT_INTRO:   .PSTR   "Firth - a Z80 Forth by John Hardy\r\n\r\n"   
0717                TXT_STACK_UNDERFLOW:      
0717   18 45 72 72 6F 72 3A 20 53 74 61 63 6B 20 75 6E 64 65 72 66 6C 6F 77 0D 0A .PSTR   "Error: Stack underflow\r\n"   
0730   0A 0D 0A 44 6F 6E 65 21 20 0D 0A DONE:   .PSTR   "\r\nDone! \r\n"   
073B   0A 46 61 69 6C 65 64 3A 20 0D 0A FAILED:   .PSTR   "Failed: \r\n"   
0746   23 45 72 72 6F 72 3A 20 44 65 66 69 6E 69 74 69 6F 6E 73 20 63 61 6E 6E 6F 74 20 62 65 20 6E 65 73 74 65 64 NESTINGERR:   .PSTR   "Error: Definitions cannot be nested"   
076A                INITFORTH:      
076A   DD 21 BC 21            LD   IX,data_stack   ; initialise the param stack.
076E   FD 21 A8 07            LD   IY,enter   
0772   DD 22 C8 22            LD   (var_sp0),IX   
0776   01 00 00               LD   BC,0   ; tos
0779   21 00 00               LD   HL,0   
077C   22 3E 22               LD   (var_framePtr),HL   
077F   22 C2 22               LD   (var_intp_stop),HL   
0782   22 3C 22               LD   (is_literal),HL   
0785   22 C6 22               LD   (var_nesting),HL   
0788   22 C4 22               LD   (var_state),HL   
078B   21 0A 00               LD   HL,10   
078E   22 CA 22               LD   (var_base),HL   
0791   21 D2 22               LD   HL,start_user   
0794   22 C0 22               LD   (var_here),HL   
0797   21 83 14               LD   HL,header_latest   
079A   22 CE 22               LD   (var_latest),HL   
079D   22 CC 22               LD   (var_latest_str),HL   
07A0   3E 96                  LD   A,rts_low   
07A2   D3 80                  OUT   ($80),A   ; initialise acia
07A4   ED 56                  IM   1   
07A6   FB                     EI      
07A7   C9                     RET      
07A8                ENTER:       
07A8   E1                     POP   HL   
07A9                ENTER1:      
07A9   5E                     LD   E,(HL)   
07AA   23                     INC   HL   
07AB   56                     LD   D,(HL)   
07AC   23                     INC   HL   
07AD   E5                     PUSH   HL   
07AE   EB                     EX   DE,HL   
07AF   E9                     JP   (HL)   
07B0                FORTH:       ; for calling forth words from assembly
07B0   21 3A 21               LD   HL,exitAddr   
07B3   E3                     EX   (SP),HL   
07B4   22 3A 21               LD   (exitAddr),HL   
07B7   EB                     EX   DE,HL   
07B8   E9                     JP   (HL)   
07B9                PRINTNUM:      
07B9   E5                     PUSH   HL   
07BA   D5                     PUSH   DE   
07BB   C5                     PUSH   BC   
07BC                          ;*Macro unroll:  loadWord H,L, B,C
07BC   69                     LD   L,C   
07BD   60                     LD   H,B   
07BE   3A CA 22               LD   A,(VAR_BASE)   
07C1   4F                     LD   C,A   
07C2   11 3C 21               LD   DE,wordBuf   
07C5   CD D2 07               CALL   formatNum   
07C8   CD D3 01               CALL   printStr   
07CB   CD E6 01               CALL   printSpace   
07CE   C1                     POP   BC   
07CF   D1                     POP   DE   
07D0   E1                     POP   HL   
07D1   C9                     RET      
07D2                             ; 
07D2                             ; HL = data, DE = ptr to lineBuf, C = base ***
07D2                             ; DE = ptr to string, BC = length
07D2                             ; 
07D2                FORMATNUM:      
07D2                             ; Detect sign of HL.
07D2   CB 7C                  BIT   7,H   
07D4                          ;*Macro unroll:  _if nz
07D4   C2 DA 07               JP   nz,L_M_1329   
07D7   C3 D7 07               JP   $   
07DA                          ;*Macro unroll:  STRUC_PUSH $
07DA                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
07DA                STRUC_12:   .SET   STRUC_11   
07DA                STRUC_11:   .SET   STRUC_10   
07DA                STRUC_10:   .SET   STRUC_9   
07DA                STRUC_9:   .SET   STRUC_8   
07DA                STRUC_8:   .SET   STRUC_7   
07DA                STRUC_7:   .SET   STRUC_6   
07DA                STRUC_6:   .SET   STRUC_5   
07DA                STRUC_5:   .SET   STRUC_4   
07DA                STRUC_4:   .SET   STRUC_3   
07DA                STRUC_3:   .SET   STRUC_2   
07DA                STRUC_2:   .SET   STRUC_TOP   
07DA                STRUC_TOP:   .SET   $   
07DA                L_M_1329:      
07DA                             ; HL is negative. Output "-" to string and negate HL.
07DA   3E 2D                  LD   A,"-"   
07DC   12                     LD   (DE),A   
07DD   13                     INC   DE   
07DE   CD 17 08               CALL   negateNum   
07E1                          ;*Macro unroll:  _endif
07E1                          ;*Macro unroll:  STRUC_FWD
07E1                CUR_ADR:   .SET   $   
07D8                          .ORG   STRUC_TOP - 2   
07D8   E1 07                  DW   CUR_ADR   
07E1                          .ORG   CUR_ADR   
07E1                          ;*Macro unroll:  STRUC_POP
07E1                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
07E1                STRUC_TOP:   .SET   STRUC_2   
07E1                STRUC_2:   .SET   STRUC_3   
07E1                STRUC_3:   .SET   STRUC_4   
07E1                STRUC_4:   .SET   STRUC_5   
07E1                STRUC_5:   .SET   STRUC_6   
07E1                STRUC_6:   .SET   STRUC_7   
07E1                STRUC_7:   .SET   STRUC_8   
07E1                STRUC_8:   .SET   STRUC_9   
07E1                STRUC_9:   .SET   STRUC_10   
07E1                STRUC_10:   .SET   STRUC_11   
07E1                STRUC_11:   .SET   STRUC_12   
07E1                STRUC_12:   .SET   0   
07E1   06 00                  LD   B,0   ; B will count character length of number
07E3                          ;*Macro unroll:  _do
07E3   18 03                  JR   L_M_1337   
07E5   C3 E5 07               JP   $   
07E8                          ;*Macro unroll:  DLOOP_PUSH $
07E8                DLOOP_COUNT:   .SET   DLOOP_COUNT + 1   
07E8                DLOOP_12:   .SET   DLOOP_11   
07E8                DLOOP_11:   .SET   DLOOP_10   
07E8                DLOOP_10:   .SET   DLOOP_9   
07E8                DLOOP_9:   .SET   DLOOP_8   
07E8                DLOOP_8:   .SET   DLOOP_7   
07E8                DLOOP_7:   .SET   DLOOP_6   
07E8                DLOOP_6:   .SET   DLOOP_5   
07E8                DLOOP_5:   .SET   DLOOP_4   
07E8                DLOOP_4:   .SET   DLOOP_3   
07E8                DLOOP_3:   .SET   DLOOP_2   
07E8                DLOOP_2:   .SET   DLOOP_TOP   
07E8                DLOOP_TOP:   .SET   $   
07E8                L_M_1337:      
07E8   C5                     PUSH   BC   
07E9   CD 1F 08               CALL   divideWordByByte   ; HL = HL / A, A = remainder
07EC   C1                     POP   BC   
07ED   F5                     PUSH   AF   
07EE   04                     INC   B   
07EF                          ;*Macro unroll:  checkZeroWord H,L
07EF   7D                     LD   A,L   
07F0   B4                     OR   H   
07F1                          ;*Macro unroll:  _until z
07F1   CA E5 07               JP   z,DLOOP_TOP - 3   
07F4                          ;*Macro unroll:  DLOOP_FWD               ; needed?
07F4                CUR_ADR:   .SET   $   ; needed?
07E6                          .ORG   DLOOP_TOP - 2   
07E6   F4 07                  DW   CUR_ADR   
07F4                          .ORG   CUR_ADR   
07F4                          ;*Macro unroll:  _enddo
07F4   C3 E8 07               JP   DLOOP_TOP   
07F7                          ;*Macro unroll:  DLOOP_FWD
07F7                CUR_ADR:   .SET   $   
07E6                          .ORG   DLOOP_TOP - 2   
07E6   F7 07                  DW   CUR_ADR   
07F7                          .ORG   CUR_ADR   
07F7                          ;*Macro unroll:  DLOOP_POP
07F7                DLOOP_COUNT:   .SET   DLOOP_COUNT - 1   
07F7                DLOOP_TOP:   .SET   DLOOP_2   
07F7                DLOOP_2:   .SET   DLOOP_3   
07F7                DLOOP_3:   .SET   DLOOP_4   
07F7                DLOOP_4:   .SET   DLOOP_5   
07F7                DLOOP_5:   .SET   DLOOP_6   
07F7                DLOOP_6:   .SET   DLOOP_7   
07F7                DLOOP_7:   .SET   DLOOP_8   
07F7                DLOOP_8:   .SET   DLOOP_9   
07F7                DLOOP_9:   .SET   DLOOP_10   
07F7                DLOOP_10:   .SET   DLOOP_11   
07F7                DLOOP_11:   .SET   DLOOP_12   
07F7                DLOOP_12:   .SET   0   
07F7                          ;*Macro unroll:  _do
07F7   18 03                  JR   L_M_1346   
07F9   C3 F9 07               JP   $   
07FC                          ;*Macro unroll:  DLOOP_PUSH $
07FC                DLOOP_COUNT:   .SET   DLOOP_COUNT + 1   
07FC                DLOOP_12:   .SET   DLOOP_11   
07FC                DLOOP_11:   .SET   DLOOP_10   
07FC                DLOOP_10:   .SET   DLOOP_9   
07FC                DLOOP_9:   .SET   DLOOP_8   
07FC                DLOOP_8:   .SET   DLOOP_7   
07FC                DLOOP_7:   .SET   DLOOP_6   
07FC                DLOOP_6:   .SET   DLOOP_5   
07FC                DLOOP_5:   .SET   DLOOP_4   
07FC                DLOOP_4:   .SET   DLOOP_3   
07FC                DLOOP_3:   .SET   DLOOP_2   
07FC                DLOOP_2:   .SET   DLOOP_TOP   
07FC                DLOOP_TOP:   .SET   $   
07FC                L_M_1346:      
07FC   F1                     POP   AF   
07FD   C6 30                  ADD   A,$30   ; convert digit to ASCII
07FF   FE 3A                  CP   $3A   
0801                          ;*Macro unroll:  _if nc
0801   D2 07 08               JP   nc,L_M_1350   
0804   C3 04 08               JP   $   
0807                          ;*Macro unroll:  STRUC_PUSH $
0807                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
0807                STRUC_12:   .SET   STRUC_11   
0807                STRUC_11:   .SET   STRUC_10   
0807                STRUC_10:   .SET   STRUC_9   
0807                STRUC_9:   .SET   STRUC_8   
0807                STRUC_8:   .SET   STRUC_7   
0807                STRUC_7:   .SET   STRUC_6   
0807                STRUC_6:   .SET   STRUC_5   
0807                STRUC_5:   .SET   STRUC_4   
0807                STRUC_4:   .SET   STRUC_3   
0807                STRUC_3:   .SET   STRUC_2   
0807                STRUC_2:   .SET   STRUC_TOP   
0807                STRUC_TOP:   .SET   $   
0807                L_M_1350:      
0807   C6 07                  ADD   A,7   
0809                          ;*Macro unroll:  _endif
0809                          ;*Macro unroll:  STRUC_FWD
0809                CUR_ADR:   .SET   $   
0805                          .ORG   STRUC_TOP - 2   
0805   09 08                  DW   CUR_ADR   
0809                          .ORG   CUR_ADR   
0809                          ;*Macro unroll:  STRUC_POP
0809                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
0809                STRUC_TOP:   .SET   STRUC_2   
0809                STRUC_2:   .SET   STRUC_3   
0809                STRUC_3:   .SET   STRUC_4   
0809                STRUC_4:   .SET   STRUC_5   
0809                STRUC_5:   .SET   STRUC_6   
0809                STRUC_6:   .SET   STRUC_7   
0809                STRUC_7:   .SET   STRUC_8   
0809                STRUC_8:   .SET   STRUC_9   
0809                STRUC_9:   .SET   STRUC_10   
0809                STRUC_10:   .SET   STRUC_11   
0809                STRUC_11:   .SET   STRUC_12   
0809                STRUC_12:   .SET   0   
0809   12                     LD   (DE),A   
080A   13                     INC   DE   
080B                          ;*Macro unroll:  _djnz
080B   10 EF                  DJNZ   DLOOP_TOP   
080D                          ;*Macro unroll:  DLOOP_FWD
080D                CUR_ADR:   .SET   $   
07FA                          .ORG   DLOOP_TOP - 2   
07FA   0D 08                  DW   CUR_ADR   
080D                          .ORG   CUR_ADR   
080D                          ;*Macro unroll:  DLOOP_POP
080D                DLOOP_COUNT:   .SET   DLOOP_COUNT - 1   
080D                DLOOP_TOP:   .SET   DLOOP_2   
080D                DLOOP_2:   .SET   DLOOP_3   
080D                DLOOP_3:   .SET   DLOOP_4   
080D                DLOOP_4:   .SET   DLOOP_5   
080D                DLOOP_5:   .SET   DLOOP_6   
080D                DLOOP_6:   .SET   DLOOP_7   
080D                DLOOP_7:   .SET   DLOOP_8   
080D                DLOOP_8:   .SET   DLOOP_9   
080D                DLOOP_9:   .SET   DLOOP_10   
080D                DLOOP_10:   .SET   DLOOP_11   
080D                DLOOP_11:   .SET   DLOOP_12   
080D                DLOOP_12:   .SET   0   
080D   21 3C 21               LD   HL,wordBuf   ;calc length
0810   EB                     EX   DE,HL   
0811   B7                     OR   A   
0812   ED 52                  SBC   HL,DE   
0814                          ;*Macro unroll:  loadWord B,C, H,L
0814   4D                     LD   C,L   
0815   44                     LD   B,H   
0816   C9                     RET      
0817                             ; 
0817                             ; negate ***
0817                             ; params: HL = number
0817                             ; 
0817                NEGATENUM:      
0817                             ; Negate HL (using two's complement)
0817   AF                     XOR   A   
0818   95                     SUB   L   
0819   6F                     LD   L,A   
081A   3E 00                  LD   A,0   ; Note that xor A or SUB A would disturb CF
081C   9C                     SBC   A,H   
081D   67                     LD   H,A   
081E   C9                     RET      
081F                             ; 
081F                             ; divide word by byte ***
081F                             ; params: HL = dividend, C = divisor
081F                             ; returns: HL = result, A = remainder
081F                             ; destroys: ?
081F                             ; 
081F                DIVIDEWORDBYBYTE:      
081F   06 10                  LD   B,16   
0821   AF                     XOR   A   
0822                          ;*Macro unroll:  _do
0822   18 03                  JR   L_M_1384   
0824   C3 24 08               JP   $   
0827                          ;*Macro unroll:  DLOOP_PUSH $
0827                DLOOP_COUNT:   .SET   DLOOP_COUNT + 1   
0827                DLOOP_12:   .SET   DLOOP_11   
0827                DLOOP_11:   .SET   DLOOP_10   
0827                DLOOP_10:   .SET   DLOOP_9   
0827                DLOOP_9:   .SET   DLOOP_8   
0827                DLOOP_8:   .SET   DLOOP_7   
0827                DLOOP_7:   .SET   DLOOP_6   
0827                DLOOP_6:   .SET   DLOOP_5   
0827                DLOOP_5:   .SET   DLOOP_4   
0827                DLOOP_4:   .SET   DLOOP_3   
0827                DLOOP_3:   .SET   DLOOP_2   
0827                DLOOP_2:   .SET   DLOOP_TOP   
0827                DLOOP_TOP:   .SET   $   
0827                L_M_1384:      
0827   29                     ADD   HL,HL   
0828   17                     RLA      
0829                          ;*Macro unroll:  _if c
0829   DA 2F 08               JP   c,L_M_1387   
082C   C3 2C 08               JP   $   
082F                          ;*Macro unroll:  STRUC_PUSH $
082F                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
082F                STRUC_12:   .SET   STRUC_11   
082F                STRUC_11:   .SET   STRUC_10   
082F                STRUC_10:   .SET   STRUC_9   
082F                STRUC_9:   .SET   STRUC_8   
082F                STRUC_8:   .SET   STRUC_7   
082F                STRUC_7:   .SET   STRUC_6   
082F                STRUC_6:   .SET   STRUC_5   
082F                STRUC_5:   .SET   STRUC_4   
082F                STRUC_4:   .SET   STRUC_3   
082F                STRUC_3:   .SET   STRUC_2   
082F                STRUC_2:   .SET   STRUC_TOP   
082F                STRUC_TOP:   .SET   $   
082F                L_M_1387:      
082F   91                     SUB   C   
0830   2C                     INC   L   
0831                          ;*Macro unroll:  _else
0831   C3 31 08               JP   $   
0834                          ;*Macro unroll:  STRUC_FWD
0834                CUR_ADR:   .SET   $   
082D                          .ORG   STRUC_TOP - 2   
082D   34 08                  DW   CUR_ADR   
0834                          .ORG   CUR_ADR   
0834                STRUC_TOP:   .SET   $   
0834   B9                     CP   C   
0835                          ;*Macro unroll:  _if nc
0835   D2 3B 08               JP   nc,L_M_1392   
0838   C3 38 08               JP   $   
083B                          ;*Macro unroll:  STRUC_PUSH $
083B                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
083B                STRUC_12:   .SET   STRUC_11   
083B                STRUC_11:   .SET   STRUC_10   
083B                STRUC_10:   .SET   STRUC_9   
083B                STRUC_9:   .SET   STRUC_8   
083B                STRUC_8:   .SET   STRUC_7   
083B                STRUC_7:   .SET   STRUC_6   
083B                STRUC_6:   .SET   STRUC_5   
083B                STRUC_5:   .SET   STRUC_4   
083B                STRUC_4:   .SET   STRUC_3   
083B                STRUC_3:   .SET   STRUC_2   
083B                STRUC_2:   .SET   STRUC_TOP   
083B                STRUC_TOP:   .SET   $   
083B                L_M_1392:      
083B   91                     SUB   C   
083C   2C                     INC   L   
083D                          ;*Macro unroll:  _endif
083D                          ;*Macro unroll:  STRUC_FWD
083D                CUR_ADR:   .SET   $   
0839                          .ORG   STRUC_TOP - 2   
0839   3D 08                  DW   CUR_ADR   
083D                          .ORG   CUR_ADR   
083D                          ;*Macro unroll:  STRUC_POP
083D                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
083D                STRUC_TOP:   .SET   STRUC_2   
083D                STRUC_2:   .SET   STRUC_3   
083D                STRUC_3:   .SET   STRUC_4   
083D                STRUC_4:   .SET   STRUC_5   
083D                STRUC_5:   .SET   STRUC_6   
083D                STRUC_6:   .SET   STRUC_7   
083D                STRUC_7:   .SET   STRUC_8   
083D                STRUC_8:   .SET   STRUC_9   
083D                STRUC_9:   .SET   STRUC_10   
083D                STRUC_10:   .SET   STRUC_11   
083D                STRUC_11:   .SET   STRUC_12   
083D                STRUC_12:   .SET   0   
083D                          ;*Macro unroll:  _endif
083D                          ;*Macro unroll:  STRUC_FWD
083D                CUR_ADR:   .SET   $   
0832                          .ORG   STRUC_TOP - 2   
0832   3D 08                  DW   CUR_ADR   
083D                          .ORG   CUR_ADR   
083D                          ;*Macro unroll:  STRUC_POP
083D                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
083D                STRUC_TOP:   .SET   STRUC_2   
083D                STRUC_2:   .SET   STRUC_3   
083D                STRUC_3:   .SET   STRUC_4   
083D                STRUC_4:   .SET   STRUC_5   
083D                STRUC_5:   .SET   STRUC_6   
083D                STRUC_6:   .SET   STRUC_7   
083D                STRUC_7:   .SET   STRUC_8   
083D                STRUC_8:   .SET   STRUC_9   
083D                STRUC_9:   .SET   STRUC_10   
083D                STRUC_10:   .SET   STRUC_11   
083D                STRUC_11:   .SET   STRUC_12   
083D                STRUC_12:   .SET   0   
083D                          ;*Macro unroll:  _djnz
083D   10 E8                  DJNZ   DLOOP_TOP   
083F                          ;*Macro unroll:  DLOOP_FWD
083F                CUR_ADR:   .SET   $   
0825                          .ORG   DLOOP_TOP - 2   
0825   3F 08                  DW   CUR_ADR   
083F                          .ORG   CUR_ADR   
083F                          ;*Macro unroll:  DLOOP_POP
083F                DLOOP_COUNT:   .SET   DLOOP_COUNT - 1   
083F                DLOOP_TOP:   .SET   DLOOP_2   
083F                DLOOP_2:   .SET   DLOOP_3   
083F                DLOOP_3:   .SET   DLOOP_4   
083F                DLOOP_4:   .SET   DLOOP_5   
083F                DLOOP_5:   .SET   DLOOP_6   
083F                DLOOP_6:   .SET   DLOOP_7   
083F                DLOOP_7:   .SET   DLOOP_8   
083F                DLOOP_8:   .SET   DLOOP_9   
083F                DLOOP_9:   .SET   DLOOP_10   
083F                DLOOP_10:   .SET   DLOOP_11   
083F                DLOOP_11:   .SET   DLOOP_12   
083F                DLOOP_12:   .SET   0   
083F   C9                     RET      
0840                             ; 
0840                             ; Divide word by word ***
0840                             ; params: BC = dividend, DE = divisor
0840                             ; returns: BC = result, HL = remainder
0840                             ; destroys: ?
0840                             ; 
0840                DIVIDEWORDBYWORD:      
0840   D5                     PUSH   DE   
0841   21 00 00               LD   HL,0   
0844   78                     LD   A,B   
0845   06 08                  LD   B,8   
0847                          ;*Macro unroll:  _do
0847   18 03                  JR   L_M_1410   
0849   C3 49 08               JP   $   
084C                          ;*Macro unroll:  DLOOP_PUSH $
084C                DLOOP_COUNT:   .SET   DLOOP_COUNT + 1   
084C                DLOOP_12:   .SET   DLOOP_11   
084C                DLOOP_11:   .SET   DLOOP_10   
084C                DLOOP_10:   .SET   DLOOP_9   
084C                DLOOP_9:   .SET   DLOOP_8   
084C                DLOOP_8:   .SET   DLOOP_7   
084C                DLOOP_7:   .SET   DLOOP_6   
084C                DLOOP_6:   .SET   DLOOP_5   
084C                DLOOP_5:   .SET   DLOOP_4   
084C                DLOOP_4:   .SET   DLOOP_3   
084C                DLOOP_3:   .SET   DLOOP_2   
084C                DLOOP_2:   .SET   DLOOP_TOP   
084C                DLOOP_TOP:   .SET   $   
084C                L_M_1410:      
084C   17                     RLA      
084D   ED 6A                  ADC   HL,HL   
084F   ED 52                  SBC   HL,DE   
0851                          ;*Macro unroll:  _if c
0851   DA 57 08               JP   c,L_M_1414   
0854   C3 54 08               JP   $   
0857                          ;*Macro unroll:  STRUC_PUSH $
0857                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
0857                STRUC_12:   .SET   STRUC_11   
0857                STRUC_11:   .SET   STRUC_10   
0857                STRUC_10:   .SET   STRUC_9   
0857                STRUC_9:   .SET   STRUC_8   
0857                STRUC_8:   .SET   STRUC_7   
0857                STRUC_7:   .SET   STRUC_6   
0857                STRUC_6:   .SET   STRUC_5   
0857                STRUC_5:   .SET   STRUC_4   
0857                STRUC_4:   .SET   STRUC_3   
0857                STRUC_3:   .SET   STRUC_2   
0857                STRUC_2:   .SET   STRUC_TOP   
0857                STRUC_TOP:   .SET   $   
0857                L_M_1414:      
0857   19                     ADD   HL,DE   
0858                          ;*Macro unroll:  _endif
0858                          ;*Macro unroll:  STRUC_FWD
0858                CUR_ADR:   .SET   $   
0855                          .ORG   STRUC_TOP - 2   
0855   58 08                  DW   CUR_ADR   
0858                          .ORG   CUR_ADR   
0858                          ;*Macro unroll:  STRUC_POP
0858                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
0858                STRUC_TOP:   .SET   STRUC_2   
0858                STRUC_2:   .SET   STRUC_3   
0858                STRUC_3:   .SET   STRUC_4   
0858                STRUC_4:   .SET   STRUC_5   
0858                STRUC_5:   .SET   STRUC_6   
0858                STRUC_6:   .SET   STRUC_7   
0858                STRUC_7:   .SET   STRUC_8   
0858                STRUC_8:   .SET   STRUC_9   
0858                STRUC_9:   .SET   STRUC_10   
0858                STRUC_10:   .SET   STRUC_11   
0858                STRUC_11:   .SET   STRUC_12   
0858                STRUC_12:   .SET   0   
0858                          ;*Macro unroll:  _djnz
0858   10 F2                  DJNZ   DLOOP_TOP   
085A                          ;*Macro unroll:  DLOOP_FWD
085A                CUR_ADR:   .SET   $   
084A                          .ORG   DLOOP_TOP - 2   
084A   5A 08                  DW   CUR_ADR   
085A                          .ORG   CUR_ADR   
085A                          ;*Macro unroll:  DLOOP_POP
085A                DLOOP_COUNT:   .SET   DLOOP_COUNT - 1   
085A                DLOOP_TOP:   .SET   DLOOP_2   
085A                DLOOP_2:   .SET   DLOOP_3   
085A                DLOOP_3:   .SET   DLOOP_4   
085A                DLOOP_4:   .SET   DLOOP_5   
085A                DLOOP_5:   .SET   DLOOP_6   
085A                DLOOP_6:   .SET   DLOOP_7   
085A                DLOOP_7:   .SET   DLOOP_8   
085A                DLOOP_8:   .SET   DLOOP_9   
085A                DLOOP_9:   .SET   DLOOP_10   
085A                DLOOP_10:   .SET   DLOOP_11   
085A                DLOOP_11:   .SET   DLOOP_12   
085A                DLOOP_12:   .SET   0   
085A   17                     RLA      
085B   2F                     CPL      
085C   47                     LD   B,A   
085D   79                     LD   A,C   
085E   48                     LD   C,B   
085F   06 08                  LD   B,8   
0861                          ;*Macro unroll:  _do
0861   18 03                  JR   L_M_1424   
0863   C3 63 08               JP   $   
0866                          ;*Macro unroll:  DLOOP_PUSH $
0866                DLOOP_COUNT:   .SET   DLOOP_COUNT + 1   
0866                DLOOP_12:   .SET   DLOOP_11   
0866                DLOOP_11:   .SET   DLOOP_10   
0866                DLOOP_10:   .SET   DLOOP_9   
0866                DLOOP_9:   .SET   DLOOP_8   
0866                DLOOP_8:   .SET   DLOOP_7   
0866                DLOOP_7:   .SET   DLOOP_6   
0866                DLOOP_6:   .SET   DLOOP_5   
0866                DLOOP_5:   .SET   DLOOP_4   
0866                DLOOP_4:   .SET   DLOOP_3   
0866                DLOOP_3:   .SET   DLOOP_2   
0866                DLOOP_2:   .SET   DLOOP_TOP   
0866                DLOOP_TOP:   .SET   $   
0866                L_M_1424:      
0866   17                     RLA      
0867   ED 6A                  ADC   HL,HL   
0869   ED 52                  SBC   HL,DE   
086B                          ;*Macro unroll:  _if c
086B   DA 71 08               JP   c,L_M_1428   
086E   C3 6E 08               JP   $   
0871                          ;*Macro unroll:  STRUC_PUSH $
0871                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
0871                STRUC_12:   .SET   STRUC_11   
0871                STRUC_11:   .SET   STRUC_10   
0871                STRUC_10:   .SET   STRUC_9   
0871                STRUC_9:   .SET   STRUC_8   
0871                STRUC_8:   .SET   STRUC_7   
0871                STRUC_7:   .SET   STRUC_6   
0871                STRUC_6:   .SET   STRUC_5   
0871                STRUC_5:   .SET   STRUC_4   
0871                STRUC_4:   .SET   STRUC_3   
0871                STRUC_3:   .SET   STRUC_2   
0871                STRUC_2:   .SET   STRUC_TOP   
0871                STRUC_TOP:   .SET   $   
0871                L_M_1428:      
0871   19                     ADD   HL,DE   
0872                          ;*Macro unroll:  _endif
0872                          ;*Macro unroll:  STRUC_FWD
0872                CUR_ADR:   .SET   $   
086F                          .ORG   STRUC_TOP - 2   
086F   72 08                  DW   CUR_ADR   
0872                          .ORG   CUR_ADR   
0872                          ;*Macro unroll:  STRUC_POP
0872                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
0872                STRUC_TOP:   .SET   STRUC_2   
0872                STRUC_2:   .SET   STRUC_3   
0872                STRUC_3:   .SET   STRUC_4   
0872                STRUC_4:   .SET   STRUC_5   
0872                STRUC_5:   .SET   STRUC_6   
0872                STRUC_6:   .SET   STRUC_7   
0872                STRUC_7:   .SET   STRUC_8   
0872                STRUC_8:   .SET   STRUC_9   
0872                STRUC_9:   .SET   STRUC_10   
0872                STRUC_10:   .SET   STRUC_11   
0872                STRUC_11:   .SET   STRUC_12   
0872                STRUC_12:   .SET   0   
0872                          ;*Macro unroll:  _djnz
0872   10 F2                  DJNZ   DLOOP_TOP   
0874                          ;*Macro unroll:  DLOOP_FWD
0874                CUR_ADR:   .SET   $   
0864                          .ORG   DLOOP_TOP - 2   
0864   74 08                  DW   CUR_ADR   
0874                          .ORG   CUR_ADR   
0874                          ;*Macro unroll:  DLOOP_POP
0874                DLOOP_COUNT:   .SET   DLOOP_COUNT - 1   
0874                DLOOP_TOP:   .SET   DLOOP_2   
0874                DLOOP_2:   .SET   DLOOP_3   
0874                DLOOP_3:   .SET   DLOOP_4   
0874                DLOOP_4:   .SET   DLOOP_5   
0874                DLOOP_5:   .SET   DLOOP_6   
0874                DLOOP_6:   .SET   DLOOP_7   
0874                DLOOP_7:   .SET   DLOOP_8   
0874                DLOOP_8:   .SET   DLOOP_9   
0874                DLOOP_9:   .SET   DLOOP_10   
0874                DLOOP_10:   .SET   DLOOP_11   
0874                DLOOP_11:   .SET   DLOOP_12   
0874                DLOOP_12:   .SET   0   
0874   17                     RLA      
0875   2F                     CPL      
0876   41                     LD   B,C   
0877   4F                     LD   C,A   
0878   D1                     POP   DE   
0879   C9                     RET      
087A                             ; 
087A                             ; toNumber -  converts string to number in the ***
087A                             ; base strored in VAR_BASE
087A                             ; 
087A                             ; params: HL = string address, BC = string length
087A                             ; returns: DE = parsed number, BC = 0: success, not 0, uparsed chars
087A                             ; destroys: AF
087A                             ; 
087A                TONUMBER:      
087A   FD E5                  PUSH   IY   ; save regs
087C   E5                     PUSH   HL   
087D   E5                     PUSH   HL   ; IY = HL
087E   FD E1                  POP   IY   
0880   11 00 00               LD   DE,0   ; 16 bit accum
0883   21 00 00               LD   HL,0   ; 8 bit char
0886                          ;*Macro unroll:  checkZeroWord B,C        ; if BC == 0 exit de = 0, BC = 0 (no error)
0886   79                     LD   A,C   ; if BC == 0 exit de = 0, BC = 0 (no error)
0887   B0                     OR   B   
0888                          ;*Macro unroll:  _if z              ; trying to parse a zero-length string is an error, But will return 0.
0888   CA 8E 08               JP   z,L_M_1454   ; trying to parse a zero-length string is an error, But will return 0.
088B   C3 8B 08               JP   $   
088E                          ;*Macro unroll:  STRUC_PUSH $
088E                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
088E                STRUC_12:   .SET   STRUC_11   
088E                STRUC_11:   .SET   STRUC_10   
088E                STRUC_10:   .SET   STRUC_9   
088E                STRUC_9:   .SET   STRUC_8   
088E                STRUC_8:   .SET   STRUC_7   
088E                STRUC_7:   .SET   STRUC_6   
088E                STRUC_6:   .SET   STRUC_5   
088E                STRUC_5:   .SET   STRUC_4   
088E                STRUC_4:   .SET   STRUC_3   
088E                STRUC_3:   .SET   STRUC_2   
088E                STRUC_2:   .SET   STRUC_TOP   
088E                STRUC_TOP:   .SET   $   
088E                L_M_1454:      
088E   E1                     POP   HL   
088F   FD E1                  POP   IY   
0891   C9                     RET      ; de = number, BC = err
0892                          ;*Macro unroll:  _endif
0892                          ;*Macro unroll:  STRUC_FWD
0892                CUR_ADR:   .SET   $   
088C                          .ORG   STRUC_TOP - 2   
088C   92 08                  DW   CUR_ADR   
0892                          .ORG   CUR_ADR   
0892                          ;*Macro unroll:  STRUC_POP
0892                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
0892                STRUC_TOP:   .SET   STRUC_2   
0892                STRUC_2:   .SET   STRUC_3   
0892                STRUC_3:   .SET   STRUC_4   
0892                STRUC_4:   .SET   STRUC_5   
0892                STRUC_5:   .SET   STRUC_6   
0892                STRUC_6:   .SET   STRUC_7   
0892                STRUC_7:   .SET   STRUC_8   
0892                STRUC_8:   .SET   STRUC_9   
0892                STRUC_9:   .SET   STRUC_10   
0892                STRUC_10:   .SET   STRUC_11   
0892                STRUC_11:   .SET   STRUC_12   
0892                STRUC_12:   .SET   0   
0892                             ; Check if first character is "-".
0892   FD 7E 00               LD   A,(IY)   ; l = first character in string
0895   FD 23                  INC   IY   
0897   D5                     PUSH   DE   ; push 0 on stack
0898   FE 2D                  CP   "-"   ; negative number?
089A                          ;*Macro unroll:  _if z
089A   CA A0 08               JP   z,L_M_1464   
089D   C3 9D 08               JP   $   
08A0                          ;*Macro unroll:  STRUC_PUSH $
08A0                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
08A0                STRUC_12:   .SET   STRUC_11   
08A0                STRUC_11:   .SET   STRUC_10   
08A0                STRUC_10:   .SET   STRUC_9   
08A0                STRUC_9:   .SET   STRUC_8   
08A0                STRUC_8:   .SET   STRUC_7   
08A0                STRUC_7:   .SET   STRUC_6   
08A0                STRUC_6:   .SET   STRUC_5   
08A0                STRUC_5:   .SET   STRUC_4   
08A0                STRUC_4:   .SET   STRUC_3   
08A0                STRUC_3:   .SET   STRUC_2   
08A0                STRUC_2:   .SET   STRUC_TOP   
08A0                STRUC_TOP:   .SET   $   
08A0                L_M_1464:      
08A0   D1                     POP   DE   
08A1   21 01 00               LD   HL,1   
08A4   E5                     PUSH   HL   ; push <> 0 on stack, indicating negative
08A5   0B                     DEC   BC   
08A6                          ;*Macro unroll:  checkZeroWord B,C
08A6   79                     LD   A,C   
08A7   B0                     OR   B   
08A8                          ;*Macro unroll:  _if z
08A8   CA AE 08               JP   z,L_M_1470   
08AB   C3 AB 08               JP   $   
08AE                          ;*Macro unroll:  STRUC_PUSH $
08AE                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
08AE                STRUC_12:   .SET   STRUC_11   
08AE                STRUC_11:   .SET   STRUC_10   
08AE                STRUC_10:   .SET   STRUC_9   
08AE                STRUC_9:   .SET   STRUC_8   
08AE                STRUC_8:   .SET   STRUC_7   
08AE                STRUC_7:   .SET   STRUC_6   
08AE                STRUC_6:   .SET   STRUC_5   
08AE                STRUC_5:   .SET   STRUC_4   
08AE                STRUC_4:   .SET   STRUC_3   
08AE                STRUC_3:   .SET   STRUC_2   
08AE                STRUC_2:   .SET   STRUC_TOP   
08AE                STRUC_TOP:   .SET   $   
08AE                L_M_1470:      
08AE   E1                     POP   HL   ; error: string is only "-".
08AF   01 01 00               LD   BC,1   
08B2   E1                     POP   HL   
08B3   FD E1                  POP   IY   
08B5   C9                     RET      ; de = number, BC = err
08B6                          ;*Macro unroll:  _endif
08B6                          ;*Macro unroll:  STRUC_FWD
08B6                CUR_ADR:   .SET   $   
08AC                          .ORG   STRUC_TOP - 2   
08AC   B6 08                  DW   CUR_ADR   
08B6                          .ORG   CUR_ADR   
08B6                          ;*Macro unroll:  STRUC_POP
08B6                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
08B6                STRUC_TOP:   .SET   STRUC_2   
08B6                STRUC_2:   .SET   STRUC_3   
08B6                STRUC_3:   .SET   STRUC_4   
08B6                STRUC_4:   .SET   STRUC_5   
08B6                STRUC_5:   .SET   STRUC_6   
08B6                STRUC_6:   .SET   STRUC_7   
08B6                STRUC_7:   .SET   STRUC_8   
08B6                STRUC_8:   .SET   STRUC_9   
08B6                STRUC_9:   .SET   STRUC_10   
08B6                STRUC_10:   .SET   STRUC_11   
08B6                STRUC_11:   .SET   STRUC_12   
08B6                STRUC_12:   .SET   0   
08B6                             ; Loop reading digits.
08B6   C5                     PUSH   BC   
08B7   ED 4B CA 22            LD   BC,(VAR_BASE)   ; get BASE (in %dl)
08BB   CD 12 09               CALL   unsignedMultiply   ; de *= BASE, HL is destroyed
08BE   C1                     POP   BC   
08BF   FD 7E 00               LD   A,(IY)   ; a = next character in string
08C2   FD 23                  INC   IY   
08C4                          ;*Macro unroll:  _endif
08C4                          ;*Macro unroll:  STRUC_FWD
08C4                CUR_ADR:   .SET   $   
089E                          .ORG   STRUC_TOP - 2   
089E   C4 08                  DW   CUR_ADR   
08C4                          .ORG   CUR_ADR   
08C4                          ;*Macro unroll:  STRUC_POP
08C4                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
08C4                STRUC_TOP:   .SET   STRUC_2   
08C4                STRUC_2:   .SET   STRUC_3   
08C4                STRUC_3:   .SET   STRUC_4   
08C4                STRUC_4:   .SET   STRUC_5   
08C4                STRUC_5:   .SET   STRUC_6   
08C4                STRUC_6:   .SET   STRUC_7   
08C4                STRUC_7:   .SET   STRUC_8   
08C4                STRUC_8:   .SET   STRUC_9   
08C4                STRUC_9:   .SET   STRUC_10   
08C4                STRUC_10:   .SET   STRUC_11   
08C4                STRUC_11:   .SET   STRUC_12   
08C4                STRUC_12:   .SET   0   
08C4                             ; Convert 0-9, A-z to a number 0-35.
08C4                          ;*Macro unroll:  _do
08C4   18 03                  JR   L_M_1486   
08C6   C3 C6 08               JP   $   
08C9                          ;*Macro unroll:  DLOOP_PUSH $
08C9                DLOOP_COUNT:   .SET   DLOOP_COUNT + 1   
08C9                DLOOP_12:   .SET   DLOOP_11   
08C9                DLOOP_11:   .SET   DLOOP_10   
08C9                DLOOP_10:   .SET   DLOOP_9   
08C9                DLOOP_9:   .SET   DLOOP_8   
08C9                DLOOP_8:   .SET   DLOOP_7   
08C9                DLOOP_7:   .SET   DLOOP_6   
08C9                DLOOP_6:   .SET   DLOOP_5   
08C9                DLOOP_5:   .SET   DLOOP_4   
08C9                DLOOP_4:   .SET   DLOOP_3   
08C9                DLOOP_3:   .SET   DLOOP_2   
08C9                DLOOP_2:   .SET   DLOOP_TOP   
08C9                DLOOP_TOP:   .SET   $   
08C9                L_M_1486:      
08C9   D6 30                  SUB   "0"   ; < "0"?
08CB   38 33                  JR   c,toNumberExit   ; invalid char, end of number
08CD   FE 0A                  CP   10   ; <= "9"?
08CF                          ;*Macro unroll:  _if nc
08CF   D2 D5 08               JP   nc,L_M_1490   
08D2   C3 D2 08               JP   $   
08D5                          ;*Macro unroll:  STRUC_PUSH $
08D5                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
08D5                STRUC_12:   .SET   STRUC_11   
08D5                STRUC_11:   .SET   STRUC_10   
08D5                STRUC_10:   .SET   STRUC_9   
08D5                STRUC_9:   .SET   STRUC_8   
08D5                STRUC_8:   .SET   STRUC_7   
08D5                STRUC_7:   .SET   STRUC_6   
08D5                STRUC_6:   .SET   STRUC_5   
08D5                STRUC_5:   .SET   STRUC_4   
08D5                STRUC_4:   .SET   STRUC_3   
08D5                STRUC_3:   .SET   STRUC_2   
08D5                STRUC_2:   .SET   STRUC_TOP   
08D5                STRUC_TOP:   .SET   $   
08D5                L_M_1490:      
08D5   D6 11                  SUB   17   ; < "A"? (17 is "A"-"0")
08D7                          ;*Macro unroll:  _until c            ; BUG: nested until !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
08D7   DA C6 08               JP   c,DLOOP_TOP - 3   ; BUG: nested until !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
08DA                          ;*Macro unroll:  DLOOP_FWD               ; needed?
08DA                CUR_ADR:   .SET   $   ; needed?
08C7                          .ORG   DLOOP_TOP - 2   
08C7   DA 08                  DW   CUR_ADR   
08DA                          .ORG   CUR_ADR   
08DA   C6 0A                  ADD   a,10   
08DC                          ;*Macro unroll:  _endif
08DC                          ;*Macro unroll:  STRUC_FWD
08DC                CUR_ADR:   .SET   $   
08D3                          .ORG   STRUC_TOP - 2   
08D3   DC 08                  DW   CUR_ADR   
08DC                          .ORG   CUR_ADR   
08DC                          ;*Macro unroll:  STRUC_POP
08DC                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
08DC                STRUC_TOP:   .SET   STRUC_2   
08DC                STRUC_2:   .SET   STRUC_3   
08DC                STRUC_3:   .SET   STRUC_4   
08DC                STRUC_4:   .SET   STRUC_5   
08DC                STRUC_5:   .SET   STRUC_6   
08DC                STRUC_6:   .SET   STRUC_7   
08DC                STRUC_7:   .SET   STRUC_8   
08DC                STRUC_8:   .SET   STRUC_9   
08DC                STRUC_9:   .SET   STRUC_10   
08DC                STRUC_10:   .SET   STRUC_11   
08DC                STRUC_11:   .SET   STRUC_12   
08DC                STRUC_12:   .SET   0   
08DC   2A CA 22               LD   HL,(VAR_BASE)   ; get BASE (in %dl)
08DF   BD                     CP   L   ; >= BASE? then invalid char, end of number
08E0                          ;*Macro unroll:  _until nc
08E0   D2 C6 08               JP   nc,DLOOP_TOP - 3   
08E3                          ;*Macro unroll:  DLOOP_FWD               ; needed?
08E3                CUR_ADR:   .SET   $   ; needed?
08C7                          .ORG   DLOOP_TOP - 2   
08C7   E3 08                  DW   CUR_ADR   
08E3                          .ORG   CUR_ADR   
08E3   83                     ADD   A,E   
08E4   5F                     LD   E,A   
08E5   3E 00                  LD   A,0   
08E7   8A                     ADC   a,d   
08E8   57                     LD   D,A   
08E9   0B                     DEC   BC   ; dec char count
08EA                          ;*Macro unroll:  checkZeroWord B,C
08EA   79                     LD   A,C   
08EB   B0                     OR   B   
08EC                          ;*Macro unroll:  _until z
08EC   CA C6 08               JP   z,DLOOP_TOP - 3   
08EF                          ;*Macro unroll:  DLOOP_FWD               ; needed?
08EF                CUR_ADR:   .SET   $   ; needed?
08C7                          .ORG   DLOOP_TOP - 2   
08C7   EF 08                  DW   CUR_ADR   
08EF                          .ORG   CUR_ADR   
08EF   C5                     PUSH   BC   
08F0   ED 4B CA 22            LD   BC,(VAR_BASE)   ; get BASE (in %dl)
08F4   CD 12 09               CALL   unsignedMultiply   ; de *= BASE, HL is destroyed
08F7   C1                     POP   BC   
08F8   FD 7E 00               LD   A,(IY)   ; a = next character in string
08FB   FD 23                  INC   IY   
08FD                          ;*Macro unroll:  _enddo
08FD   C3 C9 08               JP   DLOOP_TOP   
0900                          ;*Macro unroll:  DLOOP_FWD
0900                CUR_ADR:   .SET   $   
08C7                          .ORG   DLOOP_TOP - 2   
08C7   00 09                  DW   CUR_ADR   
0900                          .ORG   CUR_ADR   
0900                          ;*Macro unroll:  DLOOP_POP
0900                DLOOP_COUNT:   .SET   DLOOP_COUNT - 1   
0900                DLOOP_TOP:   .SET   DLOOP_2   
0900                DLOOP_2:   .SET   DLOOP_3   
0900                DLOOP_3:   .SET   DLOOP_4   
0900                DLOOP_4:   .SET   DLOOP_5   
0900                DLOOP_5:   .SET   DLOOP_6   
0900                DLOOP_6:   .SET   DLOOP_7   
0900                DLOOP_7:   .SET   DLOOP_8   
0900                DLOOP_8:   .SET   DLOOP_9   
0900                DLOOP_9:   .SET   DLOOP_10   
0900                DLOOP_10:   .SET   DLOOP_11   
0900                DLOOP_11:   .SET   DLOOP_12   
0900                DLOOP_12:   .SET   0   
0900                TONUMBEREXIT:      
0900   E1                     POP   HL   
0901                          ;*Macro unroll:  checkZeroWord H,L
0901   7D                     LD   A,L   
0902   B4                     OR   H   
0903                          ;*Macro unroll:  _if nz              ; if not -ve then skip
0903   C2 09 09               JP   nz,L_M_1516   ; if not -ve then skip
0906   C3 06 09               JP   $   
0909                          ;*Macro unroll:  STRUC_PUSH $
0909                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
0909                STRUC_12:   .SET   STRUC_11   
0909                STRUC_11:   .SET   STRUC_10   
0909                STRUC_10:   .SET   STRUC_9   
0909                STRUC_9:   .SET   STRUC_8   
0909                STRUC_8:   .SET   STRUC_7   
0909                STRUC_7:   .SET   STRUC_6   
0909                STRUC_6:   .SET   STRUC_5   
0909                STRUC_5:   .SET   STRUC_4   
0909                STRUC_4:   .SET   STRUC_3   
0909                STRUC_3:   .SET   STRUC_2   
0909                STRUC_2:   .SET   STRUC_TOP   
0909                STRUC_TOP:   .SET   $   
0909                L_M_1516:      
0909   EB                     EX   DE,HL   ; negate de
090A   CD 17 08               CALL   negateNum   
090D   EB                     EX   DE,HL   
090E                          ;*Macro unroll:  _endif
090E                          ;*Macro unroll:  STRUC_FWD
090E                CUR_ADR:   .SET   $   
0907                          .ORG   STRUC_TOP - 2   
0907   0E 09                  DW   CUR_ADR   
090E                          .ORG   CUR_ADR   
090E                          ;*Macro unroll:  STRUC_POP
090E                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
090E                STRUC_TOP:   .SET   STRUC_2   
090E                STRUC_2:   .SET   STRUC_3   
090E                STRUC_3:   .SET   STRUC_4   
090E                STRUC_4:   .SET   STRUC_5   
090E                STRUC_5:   .SET   STRUC_6   
090E                STRUC_6:   .SET   STRUC_7   
090E                STRUC_7:   .SET   STRUC_8   
090E                STRUC_8:   .SET   STRUC_9   
090E                STRUC_9:   .SET   STRUC_10   
090E                STRUC_10:   .SET   STRUC_11   
090E                STRUC_11:   .SET   STRUC_12   
090E                STRUC_12:   .SET   0   
090E   E1                     POP   HL   
090F   FD E1                  POP   IY   
0911   C9                     RET      ; de = number, BC = err
0912                             ; 
0912                             ; unsignedMultiply -  unsigned multiply ***
0912                             ; 
0912                             ; params:  u1 in BC, u2 in DE
0912                             ; returns: result in HLDE
0912                             ; destroys: AF
0912                             ; 
0912                UNSIGNEDMULTIPLY:      
0912   21 00 00               LD   HL,0   
0915   3E 11                  LD   A,17   ; loop counter
0917   B7                     OR   A   ; clear carry
0918                          ;*Macro unroll:  _do
0918   18 03                  JR   L_M_1535   
091A   C3 1A 09               JP   $   
091D                          ;*Macro unroll:  DLOOP_PUSH $
091D                DLOOP_COUNT:   .SET   DLOOP_COUNT + 1   
091D                DLOOP_12:   .SET   DLOOP_11   
091D                DLOOP_11:   .SET   DLOOP_10   
091D                DLOOP_10:   .SET   DLOOP_9   
091D                DLOOP_9:   .SET   DLOOP_8   
091D                DLOOP_8:   .SET   DLOOP_7   
091D                DLOOP_7:   .SET   DLOOP_6   
091D                DLOOP_6:   .SET   DLOOP_5   
091D                DLOOP_5:   .SET   DLOOP_4   
091D                DLOOP_4:   .SET   DLOOP_3   
091D                DLOOP_3:   .SET   DLOOP_2   
091D                DLOOP_2:   .SET   DLOOP_TOP   
091D                DLOOP_TOP:   .SET   $   
091D                L_M_1535:      
091D   CB 1C                  RR   H   
091F   CB 1D                  RR   L   
0921   CB 1A                  RR   D   
0923   CB 1B                  RR   E   
0925                          ;*Macro unroll:  _if c
0925   DA 2B 09               JP   c,L_M_1540   
0928   C3 28 09               JP   $   
092B                          ;*Macro unroll:  STRUC_PUSH $
092B                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
092B                STRUC_12:   .SET   STRUC_11   
092B                STRUC_11:   .SET   STRUC_10   
092B                STRUC_10:   .SET   STRUC_9   
092B                STRUC_9:   .SET   STRUC_8   
092B                STRUC_8:   .SET   STRUC_7   
092B                STRUC_7:   .SET   STRUC_6   
092B                STRUC_6:   .SET   STRUC_5   
092B                STRUC_5:   .SET   STRUC_4   
092B                STRUC_4:   .SET   STRUC_3   
092B                STRUC_3:   .SET   STRUC_2   
092B                STRUC_2:   .SET   STRUC_TOP   
092B                STRUC_TOP:   .SET   $   
092B                L_M_1540:      
092B   09                     ADD   HL,BC   
092C                          ;*Macro unroll:  _endif
092C                          ;*Macro unroll:  STRUC_FWD
092C                CUR_ADR:   .SET   $   
0929                          .ORG   STRUC_TOP - 2   
0929   2C 09                  DW   CUR_ADR   
092C                          .ORG   CUR_ADR   
092C                          ;*Macro unroll:  STRUC_POP
092C                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
092C                STRUC_TOP:   .SET   STRUC_2   
092C                STRUC_2:   .SET   STRUC_3   
092C                STRUC_3:   .SET   STRUC_4   
092C                STRUC_4:   .SET   STRUC_5   
092C                STRUC_5:   .SET   STRUC_6   
092C                STRUC_6:   .SET   STRUC_7   
092C                STRUC_7:   .SET   STRUC_8   
092C                STRUC_8:   .SET   STRUC_9   
092C                STRUC_9:   .SET   STRUC_10   
092C                STRUC_10:   .SET   STRUC_11   
092C                STRUC_11:   .SET   STRUC_12   
092C                STRUC_12:   .SET   0   
092C   3D                     DEC   A   
092D                          ;*Macro unroll:  _until z
092D   CA 1A 09               JP   z,DLOOP_TOP - 3   
0930                          ;*Macro unroll:  DLOOP_FWD               ; needed?
0930                CUR_ADR:   .SET   $   ; needed?
091B                          .ORG   DLOOP_TOP - 2   
091B   30 09                  DW   CUR_ADR   
0930                          .ORG   CUR_ADR   
0930                          ;*Macro unroll:  _enddo
0930   C3 1D 09               JP   DLOOP_TOP   
0933                          ;*Macro unroll:  DLOOP_FWD
0933                CUR_ADR:   .SET   $   
091B                          .ORG   DLOOP_TOP - 2   
091B   33 09                  DW   CUR_ADR   
0933                          .ORG   CUR_ADR   
0933                          ;*Macro unroll:  DLOOP_POP
0933                DLOOP_COUNT:   .SET   DLOOP_COUNT - 1   
0933                DLOOP_TOP:   .SET   DLOOP_2   
0933                DLOOP_2:   .SET   DLOOP_3   
0933                DLOOP_3:   .SET   DLOOP_4   
0933                DLOOP_4:   .SET   DLOOP_5   
0933                DLOOP_5:   .SET   DLOOP_6   
0933                DLOOP_6:   .SET   DLOOP_7   
0933                DLOOP_7:   .SET   DLOOP_8   
0933                DLOOP_8:   .SET   DLOOP_9   
0933                DLOOP_9:   .SET   DLOOP_10   
0933                DLOOP_10:   .SET   DLOOP_11   
0933                DLOOP_11:   .SET   DLOOP_12   
0933                DLOOP_12:   .SET   0   
0933   C9                     RET      
0934                             ; 
0934                             ; compareStr - string equal
0934                             ; params: de = string1, HL = string2, BC = length
0934                             ; returns: a = -1, 0, 1, HL = mismatch char if a != 0
0934                             ; destroys: de, HL, BC
0934                             ; 
0934                COMPARESTR:      
0934                          ;*Macro unroll:  checkZeroWord B,C    ; test for Count=0
0934   79                     LD   A,C   ; test for Count=0
0935   B0                     OR   B   
0936                          ;*Macro unroll:  _if nz          ; length zero = match
0936   C2 3C 09               JP   nz,L_M_1555   ; length zero = match
0939   C3 39 09               JP   $   
093C                          ;*Macro unroll:  STRUC_PUSH $
093C                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
093C                STRUC_12:   .SET   STRUC_11   
093C                STRUC_11:   .SET   STRUC_10   
093C                STRUC_10:   .SET   STRUC_9   
093C                STRUC_9:   .SET   STRUC_8   
093C                STRUC_8:   .SET   STRUC_7   
093C                STRUC_7:   .SET   STRUC_6   
093C                STRUC_6:   .SET   STRUC_5   
093C                STRUC_5:   .SET   STRUC_4   
093C                STRUC_4:   .SET   STRUC_3   
093C                STRUC_3:   .SET   STRUC_2   
093C                STRUC_2:   .SET   STRUC_TOP   
093C                STRUC_TOP:   .SET   $   
093C                L_M_1555:      
093C                          ;*Macro unroll:  _do
093C   18 03                  JR   L_M_1556   
093E   C3 3E 09               JP   $   
0941                          ;*Macro unroll:  DLOOP_PUSH $
0941                DLOOP_COUNT:   .SET   DLOOP_COUNT + 1   
0941                DLOOP_12:   .SET   DLOOP_11   
0941                DLOOP_11:   .SET   DLOOP_10   
0941                DLOOP_10:   .SET   DLOOP_9   
0941                DLOOP_9:   .SET   DLOOP_8   
0941                DLOOP_8:   .SET   DLOOP_7   
0941                DLOOP_7:   .SET   DLOOP_6   
0941                DLOOP_6:   .SET   DLOOP_5   
0941                DLOOP_5:   .SET   DLOOP_4   
0941                DLOOP_4:   .SET   DLOOP_3   
0941                DLOOP_3:   .SET   DLOOP_2   
0941                DLOOP_2:   .SET   DLOOP_TOP   
0941                DLOOP_TOP:   .SET   $   
0941                L_M_1556:      
0941   1A                     LD   A,(DE)   
0942   13                     INC   DE   
0943   ED A1                  CPI      
0945                          ;*Macro unroll:  _if nz          ; char mismatch: exit
0945   C2 4B 09               JP   nz,L_M_1560   ; char mismatch: exit
0948   C3 48 09               JP   $   
094B                          ;*Macro unroll:  STRUC_PUSH $
094B                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
094B                STRUC_12:   .SET   STRUC_11   
094B                STRUC_11:   .SET   STRUC_10   
094B                STRUC_10:   .SET   STRUC_9   
094B                STRUC_9:   .SET   STRUC_8   
094B                STRUC_8:   .SET   STRUC_7   
094B                STRUC_7:   .SET   STRUC_6   
094B                STRUC_6:   .SET   STRUC_5   
094B                STRUC_5:   .SET   STRUC_4   
094B                STRUC_4:   .SET   STRUC_3   
094B                STRUC_3:   .SET   STRUC_2   
094B                STRUC_2:   .SET   STRUC_TOP   
094B                STRUC_TOP:   .SET   $   
094B                L_M_1560:      
094B   2B                     DEC   HL   ; point at mismatch char
094C   BE                     CP   (HL)   ; set carry if char1 < char2
094D   9F                     SBC   A,A   
094E   F6 01                  OR   1   ; a = ff if carry, 1 if no carry
0950   C9                     RET      
0951                          ;*Macro unroll:  _endif
0951                          ;*Macro unroll:  STRUC_FWD
0951                CUR_ADR:   .SET   $   
0949                          .ORG   STRUC_TOP - 2   
0949   51 09                  DW   CUR_ADR   
0951                          .ORG   CUR_ADR   
0951                          ;*Macro unroll:  STRUC_POP
0951                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
0951                STRUC_TOP:   .SET   STRUC_2   
0951                STRUC_2:   .SET   STRUC_3   
0951                STRUC_3:   .SET   STRUC_4   
0951                STRUC_4:   .SET   STRUC_5   
0951                STRUC_5:   .SET   STRUC_6   
0951                STRUC_6:   .SET   STRUC_7   
0951                STRUC_7:   .SET   STRUC_8   
0951                STRUC_8:   .SET   STRUC_9   
0951                STRUC_9:   .SET   STRUC_10   
0951                STRUC_10:   .SET   STRUC_11   
0951                STRUC_11:   .SET   STRUC_12   
0951                STRUC_12:   .SET   0   
0951                          ;*Macro unroll:  _until po
0951   E2 3E 09               JP   po,DLOOP_TOP - 3   
0954                          ;*Macro unroll:  DLOOP_FWD               ; needed?
0954                CUR_ADR:   .SET   $   ; needed?
093F                          .ORG   DLOOP_TOP - 2   
093F   54 09                  DW   CUR_ADR   
0954                          .ORG   CUR_ADR   
0954                          ;*Macro unroll:  _enddo
0954   C3 41 09               JP   DLOOP_TOP   
0957                          ;*Macro unroll:  DLOOP_FWD
0957                CUR_ADR:   .SET   $   
093F                          .ORG   DLOOP_TOP - 2   
093F   57 09                  DW   CUR_ADR   
0957                          .ORG   CUR_ADR   
0957                          ;*Macro unroll:  DLOOP_POP
0957                DLOOP_COUNT:   .SET   DLOOP_COUNT - 1   
0957                DLOOP_TOP:   .SET   DLOOP_2   
0957                DLOOP_2:   .SET   DLOOP_3   
0957                DLOOP_3:   .SET   DLOOP_4   
0957                DLOOP_4:   .SET   DLOOP_5   
0957                DLOOP_5:   .SET   DLOOP_6   
0957                DLOOP_6:   .SET   DLOOP_7   
0957                DLOOP_7:   .SET   DLOOP_8   
0957                DLOOP_8:   .SET   DLOOP_9   
0957                DLOOP_9:   .SET   DLOOP_10   
0957                DLOOP_10:   .SET   DLOOP_11   
0957                DLOOP_11:   .SET   DLOOP_12   
0957                DLOOP_12:   .SET   0   
0957                          ;*Macro unroll:  _endif
0957                          ;*Macro unroll:  STRUC_FWD
0957                CUR_ADR:   .SET   $   
093A                          .ORG   STRUC_TOP - 2   
093A   57 09                  DW   CUR_ADR   
0957                          .ORG   CUR_ADR   
0957                          ;*Macro unroll:  STRUC_POP
0957                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
0957                STRUC_TOP:   .SET   STRUC_2   
0957                STRUC_2:   .SET   STRUC_3   
0957                STRUC_3:   .SET   STRUC_4   
0957                STRUC_4:   .SET   STRUC_5   
0957                STRUC_5:   .SET   STRUC_6   
0957                STRUC_6:   .SET   STRUC_7   
0957                STRUC_7:   .SET   STRUC_8   
0957                STRUC_8:   .SET   STRUC_9   
0957                STRUC_9:   .SET   STRUC_10   
0957                STRUC_10:   .SET   STRUC_11   
0957                STRUC_11:   .SET   STRUC_12   
0957                STRUC_12:   .SET   0   
0957                             ; count exhausted & no mismatch found
0957   3E 00                  LD   A,0   ; a=0 (s1=s2)
0959   C9                     RET      
095A                             ; 
095A                             ; lookup - lookup header in dictionary ***
095A                             ; 
095A                             ; params: HL = string address, BC = string length
095A                             ; returns: DE = found header ptr or 0
095A                             ; destroys: AF
095A                             ; 
095A                LOOKUP:      
095A   ED 5B CE 22            LD   DE,(VAR_LATEST)   ; search dictionary backwards from LATEST
095E                          ;*Macro unroll:  _do
095E   18 03                  JR   L_M_1582   
0960   C3 60 09               JP   $   
0963                          ;*Macro unroll:  DLOOP_PUSH $
0963                DLOOP_COUNT:   .SET   DLOOP_COUNT + 1   
0963                DLOOP_12:   .SET   DLOOP_11   
0963                DLOOP_11:   .SET   DLOOP_10   
0963                DLOOP_10:   .SET   DLOOP_9   
0963                DLOOP_9:   .SET   DLOOP_8   
0963                DLOOP_8:   .SET   DLOOP_7   
0963                DLOOP_7:   .SET   DLOOP_6   
0963                DLOOP_6:   .SET   DLOOP_5   
0963                DLOOP_5:   .SET   DLOOP_4   
0963                DLOOP_4:   .SET   DLOOP_3   
0963                DLOOP_3:   .SET   DLOOP_2   
0963                DLOOP_2:   .SET   DLOOP_TOP   
0963                DLOOP_TOP:   .SET   $   
0963                L_M_1582:      
0963                          ;*Macro unroll:  checkZeroWord D,E            ; NULL pointer?  (end of the linked list)
0963   7B                     LD   A,E   ; NULL pointer?  (end of the linked list)
0964   B2                     OR   D   
0965   C8                     RET   z   
0966                             ; Compare the length expected and the length of the word.
0966                             ; Note that if the MSK_HIDDEN flag is set on the word, then by a bit of trickery
0966                             ; this won't pick the word (the length will appear to be wrong).
0966   D5                     PUSH   DE   ; save ptr to header
0967   13                     INC   DE   ; skip over first field
0968   13                     INC   DE   
0969   1A                     LD   A,(DE)   ; a = flags+length field
096A   E6 7F                  AND   MSK_HIDDEN | MSK_LENGTH   ; %al = name length
096C   B9                     CP   C   ; Length is the same?
096D                          ;*Macro unroll:  _if z
096D   CA 73 09               JP   z,L_M_1594   
0970   C3 70 09               JP   $   
0973                          ;*Macro unroll:  STRUC_PUSH $
0973                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
0973                STRUC_12:   .SET   STRUC_11   
0973                STRUC_11:   .SET   STRUC_10   
0973                STRUC_10:   .SET   STRUC_9   
0973                STRUC_9:   .SET   STRUC_8   
0973                STRUC_8:   .SET   STRUC_7   
0973                STRUC_7:   .SET   STRUC_6   
0973                STRUC_6:   .SET   STRUC_5   
0973                STRUC_5:   .SET   STRUC_4   
0973                STRUC_4:   .SET   STRUC_3   
0973                STRUC_3:   .SET   STRUC_2   
0973                STRUC_2:   .SET   STRUC_TOP   
0973                STRUC_TOP:   .SET   $   
0973                L_M_1594:      
0973                             ; Compare the strings in detail.
0973   13                     INC   DE   ; DE = Dictionary string we are checking against.
0974   E5                     PUSH   HL   ; save HL, BC
0975   C5                     PUSH   BC   
0976   CD 34 09               CALL   compareStr   ; Compare the strings. BC = len
0979   C1                     POP   BC   
097A   E1                     POP   HL   
097B   B7                     OR   A   ; if A == 0 then matched
097C                          ;*Macro unroll:  _if z
097C   CA 82 09               JP   z,L_M_1603   
097F   C3 7F 09               JP   $   
0982                          ;*Macro unroll:  STRUC_PUSH $
0982                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
0982                STRUC_12:   .SET   STRUC_11   
0982                STRUC_11:   .SET   STRUC_10   
0982                STRUC_10:   .SET   STRUC_9   
0982                STRUC_9:   .SET   STRUC_8   
0982                STRUC_8:   .SET   STRUC_7   
0982                STRUC_7:   .SET   STRUC_6   
0982                STRUC_6:   .SET   STRUC_5   
0982                STRUC_5:   .SET   STRUC_4   
0982                STRUC_4:   .SET   STRUC_3   
0982                STRUC_3:   .SET   STRUC_2   
0982                STRUC_2:   .SET   STRUC_TOP   
0982                STRUC_TOP:   .SET   $   
0982                L_M_1603:      
0982   D1                     POP   DE   ; matched, restore DE and return
0983   C9                     RET      
0984                          ;*Macro unroll:  _endif
0984                          ;*Macro unroll:  STRUC_FWD
0984                CUR_ADR:   .SET   $   
0980                          .ORG   STRUC_TOP - 2   
0980   84 09                  DW   CUR_ADR   
0984                          .ORG   CUR_ADR   
0984                          ;*Macro unroll:  STRUC_POP
0984                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
0984                STRUC_TOP:   .SET   STRUC_2   
0984                STRUC_2:   .SET   STRUC_3   
0984                STRUC_3:   .SET   STRUC_4   
0984                STRUC_4:   .SET   STRUC_5   
0984                STRUC_5:   .SET   STRUC_6   
0984                STRUC_6:   .SET   STRUC_7   
0984                STRUC_7:   .SET   STRUC_8   
0984                STRUC_8:   .SET   STRUC_9   
0984                STRUC_9:   .SET   STRUC_10   
0984                STRUC_10:   .SET   STRUC_11   
0984                STRUC_11:   .SET   STRUC_12   
0984                STRUC_12:   .SET   0   
0984                          ;*Macro unroll:  _endif
0984                          ;*Macro unroll:  STRUC_FWD
0984                CUR_ADR:   .SET   $   
0971                          .ORG   STRUC_TOP - 2   
0971   84 09                  DW   CUR_ADR   
0984                          .ORG   CUR_ADR   
0984                          ;*Macro unroll:  STRUC_POP
0984                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
0984                STRUC_TOP:   .SET   STRUC_2   
0984                STRUC_2:   .SET   STRUC_3   
0984                STRUC_3:   .SET   STRUC_4   
0984                STRUC_4:   .SET   STRUC_5   
0984                STRUC_5:   .SET   STRUC_6   
0984                STRUC_6:   .SET   STRUC_7   
0984                STRUC_7:   .SET   STRUC_8   
0984                STRUC_8:   .SET   STRUC_9   
0984                STRUC_9:   .SET   STRUC_10   
0984                STRUC_10:   .SET   STRUC_11   
0984                STRUC_11:   .SET   STRUC_12   
0984                STRUC_12:   .SET   0   
0984   D1                     POP   DE   ; restore DE
0985   1A                     LD   A,(DE)   
0986   08                     EX   AF,AF'   
0987   13                     INC   DE   
0988   1A                     LD   A,(DE)   
0989   57                     LD   D,A   
098A   08                     EX   AF,AF'   
098B   5F                     LD   E,A   
098C                          ;*Macro unroll:  _enddo
098C   C3 63 09               JP   DLOOP_TOP   
098F                          ;*Macro unroll:  DLOOP_FWD
098F                CUR_ADR:   .SET   $   
0961                          .ORG   DLOOP_TOP - 2   
0961   8F 09                  DW   CUR_ADR   
098F                          .ORG   CUR_ADR   
098F                          ;*Macro unroll:  DLOOP_POP
098F                DLOOP_COUNT:   .SET   DLOOP_COUNT - 1   
098F                DLOOP_TOP:   .SET   DLOOP_2   
098F                DLOOP_2:   .SET   DLOOP_3   
098F                DLOOP_3:   .SET   DLOOP_4   
098F                DLOOP_4:   .SET   DLOOP_5   
098F                DLOOP_5:   .SET   DLOOP_6   
098F                DLOOP_6:   .SET   DLOOP_7   
098F                DLOOP_7:   .SET   DLOOP_8   
098F                DLOOP_8:   .SET   DLOOP_9   
098F                DLOOP_9:   .SET   DLOOP_10   
098F                DLOOP_10:   .SET   DLOOP_11   
098F                DLOOP_11:   .SET   DLOOP_12   
098F                DLOOP_12:   .SET   0   
098F                             ; 
098F                             ; listWords - prints all the words in dictionary
098F                             ; 
098F                             ; destroys: ?
098F                             ; 
098F                LISTWORDS:      
098F   ED 5B CE 22            LD   DE,(VAR_LATEST)   ; search dictionary backwards from LATEST
0993                          ;*Macro unroll:  _do
0993   18 03                  JR   L_M_1624   
0995   C3 95 09               JP   $   
0998                          ;*Macro unroll:  DLOOP_PUSH $
0998                DLOOP_COUNT:   .SET   DLOOP_COUNT + 1   
0998                DLOOP_12:   .SET   DLOOP_11   
0998                DLOOP_11:   .SET   DLOOP_10   
0998                DLOOP_10:   .SET   DLOOP_9   
0998                DLOOP_9:   .SET   DLOOP_8   
0998                DLOOP_8:   .SET   DLOOP_7   
0998                DLOOP_7:   .SET   DLOOP_6   
0998                DLOOP_6:   .SET   DLOOP_5   
0998                DLOOP_5:   .SET   DLOOP_4   
0998                DLOOP_4:   .SET   DLOOP_3   
0998                DLOOP_3:   .SET   DLOOP_2   
0998                DLOOP_2:   .SET   DLOOP_TOP   
0998                DLOOP_TOP:   .SET   $   
0998                L_M_1624:      
0998                          ;*Macro unroll:  checkZeroWord D,E                ; NULL pointer?  (end of the linked list)
0998   7B                     LD   A,E   ; NULL pointer?  (end of the linked list)
0999   B2                     OR   D   
099A                          ;*Macro unroll:  _until z
099A   CA 95 09               JP   z,DLOOP_TOP - 3   
099D                          ;*Macro unroll:  DLOOP_FWD               ; needed?
099D                CUR_ADR:   .SET   $   ; needed?
0996                          .ORG   DLOOP_TOP - 2   
0996   9D 09                  DW   CUR_ADR   
099D                          .ORG   CUR_ADR   
099D   D5                     PUSH   DE   ; save ptr to header
099E   13                     INC   DE   ; skip over first field
099F   13                     INC   DE   
09A0   1A                     LD   A,(DE)   ; a = flags+length field
09A1   E6 7F                  AND   MSK_HIDDEN | MSK_LENGTH   ; %al = name length
09A3   06 00                  LD   B,0   
09A5   4F                     LD   C,A   
09A6   13                     INC   DE   
09A7   CD D3 01               CALL   printStr   
09AA   CD E6 01               CALL   printSpace   
09AD   CD E5 00               CALL   putc   
09B0   E1                     POP   HL   ; HL = link to previous header
09B1   5E                     LD   E,(HL)   
09B2   23                     INC   HL   
09B3   56                     LD   D,(HL)   ; DE = previous word
09B4                          ;*Macro unroll:  _enddo
09B4   C3 98 09               JP   DLOOP_TOP   
09B7                          ;*Macro unroll:  DLOOP_FWD
09B7                CUR_ADR:   .SET   $   
0996                          .ORG   DLOOP_TOP - 2   
0996   B7 09                  DW   CUR_ADR   
09B7                          .ORG   CUR_ADR   
09B7                          ;*Macro unroll:  DLOOP_POP
09B7                DLOOP_COUNT:   .SET   DLOOP_COUNT - 1   
09B7                DLOOP_TOP:   .SET   DLOOP_2   
09B7                DLOOP_2:   .SET   DLOOP_3   
09B7                DLOOP_3:   .SET   DLOOP_4   
09B7                DLOOP_4:   .SET   DLOOP_5   
09B7                DLOOP_5:   .SET   DLOOP_6   
09B7                DLOOP_6:   .SET   DLOOP_7   
09B7                DLOOP_7:   .SET   DLOOP_8   
09B7                DLOOP_8:   .SET   DLOOP_9   
09B7                DLOOP_9:   .SET   DLOOP_10   
09B7                DLOOP_10:   .SET   DLOOP_11   
09B7                DLOOP_11:   .SET   DLOOP_12   
09B7                DLOOP_12:   .SET   0   
09B7   CD DD 01               CALL   printCR   
09BA   C9                     RET      
09BB                             ; 
09BB                             ; utility routines used by xword
09BB                             ; 
09BB                XWORDSKIP:      ; delim addr -- delim addr char
09BB                          ;*Macro unroll:  ppop H,L
09BB   60                     LD   H,B   
09BC   69                     LD   L,C   
09BD                          ;*Macro unroll:  ppop0 B,C
09BD   DD 2B                  DEC   IX   
09BF   DD 46 00               LD   B,(IX+0)   
09C2   DD 2B                  DEC   IX   
09C4   DD 4E 00               LD   C,(IX+0)   
09C7                          ;*Macro unroll:  ppop D,E
09C7   50                     LD   D,B   
09C8   59                     LD   E,C   
09C9                          ;*Macro unroll:  ppop0 B,C
09C9   DD 2B                  DEC   IX   
09CB   DD 46 00               LD   B,(IX+0)   
09CE   DD 2B                  DEC   IX   
09D0   DD 4E 00               LD   C,(IX+0)   
09D3                          ;*Macro unroll:  ppush0 B,C
09D3   DD 71 00               LD   (IX+0),C   
09D6   DD 23                  INC   IX   
09D8   DD 70 00               LD   (IX+0),B   
09DB   DD 23                  INC   IX   
09DD                          ;*Macro unroll:  ppush0 D,E
09DD   DD 73 00               LD   (IX+0),E   
09E0   DD 23                  INC   IX   
09E2   DD 72 00               LD   (IX+0),D   
09E5   DD 23                  INC   IX   
09E7                          ;*Macro unroll:  ppush0 H,L
09E7   DD 75 00               LD   (IX+0),L   
09EA   DD 23                  INC   IX   
09EC   DD 74 00               LD   (IX+0),H   
09EF   DD 23                  INC   IX   
09F1                          ;*Macro unroll:  _do
09F1   18 03                  JR   L_M_1654   
09F3   C3 F3 09               JP   $   
09F6                          ;*Macro unroll:  DLOOP_PUSH $
09F6                DLOOP_COUNT:   .SET   DLOOP_COUNT + 1   
09F6                DLOOP_12:   .SET   DLOOP_11   
09F6                DLOOP_11:   .SET   DLOOP_10   
09F6                DLOOP_10:   .SET   DLOOP_9   
09F6                DLOOP_9:   .SET   DLOOP_8   
09F6                DLOOP_8:   .SET   DLOOP_7   
09F6                DLOOP_7:   .SET   DLOOP_6   
09F6                DLOOP_6:   .SET   DLOOP_5   
09F6                DLOOP_5:   .SET   DLOOP_4   
09F6                DLOOP_4:   .SET   DLOOP_3   
09F6                DLOOP_3:   .SET   DLOOP_2   
09F6                DLOOP_2:   .SET   DLOOP_TOP   
09F6                DLOOP_TOP:   .SET   $   
09F6                L_M_1654:      
09F6   CD 8F 01               CALL   getKey   ; get next key, returned in A
09F9                          ;*Macro unroll:  _switch
09F9   18 03                  JR   L_M_1656   
09FB   C3 FB 09               JP   $   
09FE                          ;*Macro unroll:  STRUC_PUSH $
09FE                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
09FE                STRUC_12:   .SET   STRUC_11   
09FE                STRUC_11:   .SET   STRUC_10   
09FE                STRUC_10:   .SET   STRUC_9   
09FE                STRUC_9:   .SET   STRUC_8   
09FE                STRUC_8:   .SET   STRUC_7   
09FE                STRUC_7:   .SET   STRUC_6   
09FE                STRUC_6:   .SET   STRUC_5   
09FE                STRUC_5:   .SET   STRUC_4   
09FE                STRUC_4:   .SET   STRUC_3   
09FE                STRUC_3:   .SET   STRUC_2   
09FE                STRUC_2:   .SET   STRUC_TOP   
09FE                STRUC_TOP:   .SET   $   
09FE                L_M_1656:      
09FE   CB 7F                  BIT   7,A   ; check end of input
0A00                          ;*Macro unroll:  _if nz
0A00   C2 06 0A               JP   nz,L_M_1658   
0A03   C3 03 0A               JP   $   
0A06                          ;*Macro unroll:  STRUC_PUSH $
0A06                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
0A06                STRUC_12:   .SET   STRUC_11   
0A06                STRUC_11:   .SET   STRUC_10   
0A06                STRUC_10:   .SET   STRUC_9   
0A06                STRUC_9:   .SET   STRUC_8   
0A06                STRUC_8:   .SET   STRUC_7   
0A06                STRUC_7:   .SET   STRUC_6   
0A06                STRUC_6:   .SET   STRUC_5   
0A06                STRUC_5:   .SET   STRUC_4   
0A06                STRUC_4:   .SET   STRUC_3   
0A06                STRUC_3:   .SET   STRUC_2   
0A06                STRUC_2:   .SET   STRUC_TOP   
0A06                STRUC_TOP:   .SET   $   
0A06                L_M_1658:      
0A06   36 00                  LD   (HL),0   
0A08   3E 00                  LD   A,0   
0A0A                          ;*Macro unroll:  _break
0A0A   C3 F3 09               JP   DLOOP_TOP - 3   
0A0D                          ;*Macro unroll:  _endif
0A0D                          ;*Macro unroll:  STRUC_FWD
0A0D                CUR_ADR:   .SET   $   
0A04                          .ORG   STRUC_TOP - 2   
0A04   0D 0A                  DW   CUR_ADR   
0A0D                          .ORG   CUR_ADR   
0A0D                          ;*Macro unroll:  STRUC_POP
0A0D                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
0A0D                STRUC_TOP:   .SET   STRUC_2   
0A0D                STRUC_2:   .SET   STRUC_3   
0A0D                STRUC_3:   .SET   STRUC_4   
0A0D                STRUC_4:   .SET   STRUC_5   
0A0D                STRUC_5:   .SET   STRUC_6   
0A0D                STRUC_6:   .SET   STRUC_7   
0A0D                STRUC_7:   .SET   STRUC_8   
0A0D                STRUC_8:   .SET   STRUC_9   
0A0D                STRUC_9:   .SET   STRUC_10   
0A0D                STRUC_10:   .SET   STRUC_11   
0A0D                STRUC_11:   .SET   STRUC_12   
0A0D                STRUC_12:   .SET   0   
0A0D   FE 5C                  CP   $5C   ; \ start of a comment?
0A0F                          ;*Macro unroll:  _case z                     ; if yes skip to end of line
0A0F   CA 15 0A               JP   z,L_M_1664   ; if yes skip to end of line
0A12   C3 12 0A               JP   $   
0A15                          ;*Macro unroll:  STRUC_PUSH $
0A15                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
0A15                STRUC_12:   .SET   STRUC_11   
0A15                STRUC_11:   .SET   STRUC_10   
0A15                STRUC_10:   .SET   STRUC_9   
0A15                STRUC_9:   .SET   STRUC_8   
0A15                STRUC_8:   .SET   STRUC_7   
0A15                STRUC_7:   .SET   STRUC_6   
0A15                STRUC_6:   .SET   STRUC_5   
0A15                STRUC_5:   .SET   STRUC_4   
0A15                STRUC_4:   .SET   STRUC_3   
0A15                STRUC_3:   .SET   STRUC_2   
0A15                STRUC_2:   .SET   STRUC_TOP   
0A15                STRUC_TOP:   .SET   $   
0A15                L_M_1664:      
0A15                          ;*Macro unroll:  _do
0A15   18 03                  JR   L_M_1665   
0A17   C3 17 0A               JP   $   
0A1A                          ;*Macro unroll:  DLOOP_PUSH $
0A1A                DLOOP_COUNT:   .SET   DLOOP_COUNT + 1   
0A1A                DLOOP_12:   .SET   DLOOP_11   
0A1A                DLOOP_11:   .SET   DLOOP_10   
0A1A                DLOOP_10:   .SET   DLOOP_9   
0A1A                DLOOP_9:   .SET   DLOOP_8   
0A1A                DLOOP_8:   .SET   DLOOP_7   
0A1A                DLOOP_7:   .SET   DLOOP_6   
0A1A                DLOOP_6:   .SET   DLOOP_5   
0A1A                DLOOP_5:   .SET   DLOOP_4   
0A1A                DLOOP_4:   .SET   DLOOP_3   
0A1A                DLOOP_3:   .SET   DLOOP_2   
0A1A                DLOOP_2:   .SET   DLOOP_TOP   
0A1A                DLOOP_TOP:   .SET   $   
0A1A                L_M_1665:      
0A1A   CD 8F 01               CALL   getKey   
0A1D   FE 0D                  CP   "\r"   ; end of line yet?
0A1F                          ;*Macro unroll:  _if nz
0A1F   C2 25 0A               JP   nz,L_M_1668   
0A22   C3 22 0A               JP   $   
0A25                          ;*Macro unroll:  STRUC_PUSH $
0A25                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
0A25                STRUC_12:   .SET   STRUC_11   
0A25                STRUC_11:   .SET   STRUC_10   
0A25                STRUC_10:   .SET   STRUC_9   
0A25                STRUC_9:   .SET   STRUC_8   
0A25                STRUC_8:   .SET   STRUC_7   
0A25                STRUC_7:   .SET   STRUC_6   
0A25                STRUC_6:   .SET   STRUC_5   
0A25                STRUC_5:   .SET   STRUC_4   
0A25                STRUC_4:   .SET   STRUC_3   
0A25                STRUC_3:   .SET   STRUC_2   
0A25                STRUC_2:   .SET   STRUC_TOP   
0A25                STRUC_TOP:   .SET   $   
0A25                L_M_1668:      
0A25   FE 0A                  CP   "\n"   ; end of line yet?
0A27                          ;*Macro unroll:  _endif
0A27                          ;*Macro unroll:  STRUC_FWD
0A27                CUR_ADR:   .SET   $   
0A23                          .ORG   STRUC_TOP - 2   
0A23   27 0A                  DW   CUR_ADR   
0A27                          .ORG   CUR_ADR   
0A27                          ;*Macro unroll:  STRUC_POP
0A27                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
0A27                STRUC_TOP:   .SET   STRUC_2   
0A27                STRUC_2:   .SET   STRUC_3   
0A27                STRUC_3:   .SET   STRUC_4   
0A27                STRUC_4:   .SET   STRUC_5   
0A27                STRUC_5:   .SET   STRUC_6   
0A27                STRUC_6:   .SET   STRUC_7   
0A27                STRUC_7:   .SET   STRUC_8   
0A27                STRUC_8:   .SET   STRUC_9   
0A27                STRUC_9:   .SET   STRUC_10   
0A27                STRUC_10:   .SET   STRUC_11   
0A27                STRUC_11:   .SET   STRUC_12   
0A27                STRUC_12:   .SET   0   
0A27                          ;*Macro unroll:  _until z
0A27   CA 17 0A               JP   z,DLOOP_TOP - 3   
0A2A                          ;*Macro unroll:  DLOOP_FWD               ; needed?
0A2A                CUR_ADR:   .SET   $   ; needed?
0A18                          .ORG   DLOOP_TOP - 2   
0A18   2A 0A                  DW   CUR_ADR   
0A2A                          .ORG   CUR_ADR   
0A2A                          ;*Macro unroll:  _enddo
0A2A   C3 1A 0A               JP   DLOOP_TOP   
0A2D                          ;*Macro unroll:  DLOOP_FWD
0A2D                CUR_ADR:   .SET   $   
0A18                          .ORG   DLOOP_TOP - 2   
0A18   2D 0A                  DW   CUR_ADR   
0A2D                          .ORG   CUR_ADR   
0A2D                          ;*Macro unroll:  DLOOP_POP
0A2D                DLOOP_COUNT:   .SET   DLOOP_COUNT - 1   
0A2D                DLOOP_TOP:   .SET   DLOOP_2   
0A2D                DLOOP_2:   .SET   DLOOP_3   
0A2D                DLOOP_3:   .SET   DLOOP_4   
0A2D                DLOOP_4:   .SET   DLOOP_5   
0A2D                DLOOP_5:   .SET   DLOOP_6   
0A2D                DLOOP_6:   .SET   DLOOP_7   
0A2D                DLOOP_7:   .SET   DLOOP_8   
0A2D                DLOOP_8:   .SET   DLOOP_9   
0A2D                DLOOP_9:   .SET   DLOOP_10   
0A2D                DLOOP_10:   .SET   DLOOP_11   
0A2D                DLOOP_11:   .SET   DLOOP_12   
0A2D                DLOOP_12:   .SET   0   
0A2D                          ;*Macro unroll:  _endcase
0A2D   C3 FB 09               JP   STRUC_2 - 3   
0A30                          ;*Macro unroll:  STRUC_FWD
0A30                CUR_ADR:   .SET   $   
0A13                          .ORG   STRUC_TOP - 2   
0A13   30 0A                  DW   CUR_ADR   
0A30                          .ORG   CUR_ADR   
0A30                          ;*Macro unroll:  STRUC_POP
0A30                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
0A30                STRUC_TOP:   .SET   STRUC_2   
0A30                STRUC_2:   .SET   STRUC_3   
0A30                STRUC_3:   .SET   STRUC_4   
0A30                STRUC_4:   .SET   STRUC_5   
0A30                STRUC_5:   .SET   STRUC_6   
0A30                STRUC_6:   .SET   STRUC_7   
0A30                STRUC_7:   .SET   STRUC_8   
0A30                STRUC_8:   .SET   STRUC_9   
0A30                STRUC_9:   .SET   STRUC_10   
0A30                STRUC_10:   .SET   STRUC_11   
0A30                STRUC_11:   .SET   STRUC_12   
0A30                STRUC_12:   .SET   0   
0A30   B9                     CP   C   ; = space?
0A31                          ;*Macro unroll:  _case z
0A31   CA 37 0A               JP   z,L_M_1675   
0A34   C3 34 0A               JP   $   
0A37                          ;*Macro unroll:  STRUC_PUSH $
0A37                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
0A37                STRUC_12:   .SET   STRUC_11   
0A37                STRUC_11:   .SET   STRUC_10   
0A37                STRUC_10:   .SET   STRUC_9   
0A37                STRUC_9:   .SET   STRUC_8   
0A37                STRUC_8:   .SET   STRUC_7   
0A37                STRUC_7:   .SET   STRUC_6   
0A37                STRUC_6:   .SET   STRUC_5   
0A37                STRUC_5:   .SET   STRUC_4   
0A37                STRUC_4:   .SET   STRUC_3   
0A37                STRUC_3:   .SET   STRUC_2   
0A37                STRUC_2:   .SET   STRUC_TOP   
0A37                STRUC_TOP:   .SET   $   
0A37                L_M_1675:      
0A37                          ;*Macro unroll:  _endcase
0A37   C3 FB 09               JP   STRUC_2 - 3   
0A3A                          ;*Macro unroll:  STRUC_FWD
0A3A                CUR_ADR:   .SET   $   
0A35                          .ORG   STRUC_TOP - 2   
0A35   3A 0A                  DW   CUR_ADR   
0A3A                          .ORG   CUR_ADR   
0A3A                          ;*Macro unroll:  STRUC_POP
0A3A                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
0A3A                STRUC_TOP:   .SET   STRUC_2   
0A3A                STRUC_2:   .SET   STRUC_3   
0A3A                STRUC_3:   .SET   STRUC_4   
0A3A                STRUC_4:   .SET   STRUC_5   
0A3A                STRUC_5:   .SET   STRUC_6   
0A3A                STRUC_6:   .SET   STRUC_7   
0A3A                STRUC_7:   .SET   STRUC_8   
0A3A                STRUC_8:   .SET   STRUC_9   
0A3A                STRUC_9:   .SET   STRUC_10   
0A3A                STRUC_10:   .SET   STRUC_11   
0A3A                STRUC_11:   .SET   STRUC_12   
0A3A                STRUC_12:   .SET   0   
0A3A   FE 20                  CP   " "   ; < space?
0A3C                          ;*Macro unroll:  _case c
0A3C   DA 42 0A               JP   c,L_M_1678   
0A3F   C3 3F 0A               JP   $   
0A42                          ;*Macro unroll:  STRUC_PUSH $
0A42                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
0A42                STRUC_12:   .SET   STRUC_11   
0A42                STRUC_11:   .SET   STRUC_10   
0A42                STRUC_10:   .SET   STRUC_9   
0A42                STRUC_9:   .SET   STRUC_8   
0A42                STRUC_8:   .SET   STRUC_7   
0A42                STRUC_7:   .SET   STRUC_6   
0A42                STRUC_6:   .SET   STRUC_5   
0A42                STRUC_5:   .SET   STRUC_4   
0A42                STRUC_4:   .SET   STRUC_3   
0A42                STRUC_3:   .SET   STRUC_2   
0A42                STRUC_2:   .SET   STRUC_TOP   
0A42                STRUC_TOP:   .SET   $   
0A42                L_M_1678:      
0A42                          ;*Macro unroll:  _endcase
0A42   C3 FB 09               JP   STRUC_2 - 3   
0A45                          ;*Macro unroll:  STRUC_FWD
0A45                CUR_ADR:   .SET   $   
0A40                          .ORG   STRUC_TOP - 2   
0A40   45 0A                  DW   CUR_ADR   
0A45                          .ORG   CUR_ADR   
0A45                          ;*Macro unroll:  STRUC_POP
0A45                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
0A45                STRUC_TOP:   .SET   STRUC_2   
0A45                STRUC_2:   .SET   STRUC_3   
0A45                STRUC_3:   .SET   STRUC_4   
0A45                STRUC_4:   .SET   STRUC_5   
0A45                STRUC_5:   .SET   STRUC_6   
0A45                STRUC_6:   .SET   STRUC_7   
0A45                STRUC_7:   .SET   STRUC_8   
0A45                STRUC_8:   .SET   STRUC_9   
0A45                STRUC_9:   .SET   STRUC_10   
0A45                STRUC_10:   .SET   STRUC_11   
0A45                STRUC_11:   .SET   STRUC_12   
0A45                STRUC_12:   .SET   0   
0A45                             ; default case
0A45                          ;*Macro unroll:  _break
0A45   C3 F3 09               JP   DLOOP_TOP - 3   
0A48                          ;*Macro unroll:  _endswitch
0A48                          ;*Macro unroll:  STRUC_FWD
0A48                CUR_ADR:   .SET   $   
09FC                          .ORG   STRUC_TOP - 2   
09FC   48 0A                  DW   CUR_ADR   
0A48                          .ORG   CUR_ADR   
0A48                          ;*Macro unroll:  STRUC_POP
0A48                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
0A48                STRUC_TOP:   .SET   STRUC_2   
0A48                STRUC_2:   .SET   STRUC_3   
0A48                STRUC_3:   .SET   STRUC_4   
0A48                STRUC_4:   .SET   STRUC_5   
0A48                STRUC_5:   .SET   STRUC_6   
0A48                STRUC_6:   .SET   STRUC_7   
0A48                STRUC_7:   .SET   STRUC_8   
0A48                STRUC_8:   .SET   STRUC_9   
0A48                STRUC_9:   .SET   STRUC_10   
0A48                STRUC_10:   .SET   STRUC_11   
0A48                STRUC_11:   .SET   STRUC_12   
0A48                STRUC_12:   .SET   0   
0A48                          ;*Macro unroll:  _enddo
0A48   C3 F6 09               JP   DLOOP_TOP   
0A4B                          ;*Macro unroll:  DLOOP_FWD
0A4B                CUR_ADR:   .SET   $   
09F4                          .ORG   DLOOP_TOP - 2   
09F4   4B 0A                  DW   CUR_ADR   
0A4B                          .ORG   CUR_ADR   
0A4B                          ;*Macro unroll:  DLOOP_POP
0A4B                DLOOP_COUNT:   .SET   DLOOP_COUNT - 1   
0A4B                DLOOP_TOP:   .SET   DLOOP_2   
0A4B                DLOOP_2:   .SET   DLOOP_3   
0A4B                DLOOP_3:   .SET   DLOOP_4   
0A4B                DLOOP_4:   .SET   DLOOP_5   
0A4B                DLOOP_5:   .SET   DLOOP_6   
0A4B                DLOOP_6:   .SET   DLOOP_7   
0A4B                DLOOP_7:   .SET   DLOOP_8   
0A4B                DLOOP_8:   .SET   DLOOP_9   
0A4B                DLOOP_9:   .SET   DLOOP_10   
0A4B                DLOOP_10:   .SET   DLOOP_11   
0A4B                DLOOP_11:   .SET   DLOOP_12   
0A4B                DLOOP_12:   .SET   0   
0A4B   06 00                  LD   B,0   
0A4D   4F                     LD   C,A   
0A4E   C9                     RET      
0A4F                XWORDREAD:      ; delim addr char -- c-addr
0A4F   79                     LD   A,C   
0A50                          ;*Macro unroll:  ppop0 B,C
0A50   DD 2B                  DEC   IX   
0A52   DD 46 00               LD   B,(IX+0)   
0A55   DD 2B                  DEC   IX   
0A57   DD 4E 00               LD   C,(IX+0)   
0A5A                          ;*Macro unroll:  ppop H,L
0A5A   60                     LD   H,B   
0A5B   69                     LD   L,C   
0A5C                          ;*Macro unroll:  ppop0 B,C
0A5C   DD 2B                  DEC   IX   
0A5E   DD 46 00               LD   B,(IX+0)   
0A61   DD 2B                  DEC   IX   
0A63   DD 4E 00               LD   C,(IX+0)   
0A66                          ;*Macro unroll:  ppop D,E
0A66   50                     LD   D,B   
0A67   59                     LD   E,C   
0A68                          ;*Macro unroll:  ppop0 B,C
0A68   DD 2B                  DEC   IX   
0A6A   DD 46 00               LD   B,(IX+0)   
0A6D   DD 2B                  DEC   IX   
0A6F   DD 4E 00               LD   C,(IX+0)   
0A72   16 00                  LD   D,0   
0A74   B7                     OR   A   
0A75                          ;*Macro unroll:  _if nz
0A75   C2 7B 0A               JP   nz,L_M_1694   
0A78   C3 78 0A               JP   $   
0A7B                          ;*Macro unroll:  STRUC_PUSH $
0A7B                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
0A7B                STRUC_12:   .SET   STRUC_11   
0A7B                STRUC_11:   .SET   STRUC_10   
0A7B                STRUC_10:   .SET   STRUC_9   
0A7B                STRUC_9:   .SET   STRUC_8   
0A7B                STRUC_8:   .SET   STRUC_7   
0A7B                STRUC_7:   .SET   STRUC_6   
0A7B                STRUC_6:   .SET   STRUC_5   
0A7B                STRUC_5:   .SET   STRUC_4   
0A7B                STRUC_4:   .SET   STRUC_3   
0A7B                STRUC_3:   .SET   STRUC_2   
0A7B                STRUC_2:   .SET   STRUC_TOP   
0A7B                STRUC_TOP:   .SET   $   
0A7B                L_M_1694:      
0A7B   E5                     PUSH   HL   ; save a copy of HL
0A7C   23                     INC   HL   ; move to leave space for length byte
0A7D   43                     LD   B,E   
0A7E                          ;*Macro unroll:  _do
0A7E   18 03                  JR   L_M_1698   
0A80   C3 80 0A               JP   $   
0A83                          ;*Macro unroll:  DLOOP_PUSH $
0A83                DLOOP_COUNT:   .SET   DLOOP_COUNT + 1   
0A83                DLOOP_12:   .SET   DLOOP_11   
0A83                DLOOP_11:   .SET   DLOOP_10   
0A83                DLOOP_10:   .SET   DLOOP_9   
0A83                DLOOP_9:   .SET   DLOOP_8   
0A83                DLOOP_8:   .SET   DLOOP_7   
0A83                DLOOP_7:   .SET   DLOOP_6   
0A83                DLOOP_6:   .SET   DLOOP_5   
0A83                DLOOP_5:   .SET   DLOOP_4   
0A83                DLOOP_4:   .SET   DLOOP_3   
0A83                DLOOP_3:   .SET   DLOOP_2   
0A83                DLOOP_2:   .SET   DLOOP_TOP   
0A83                DLOOP_TOP:   .SET   $   
0A83                L_M_1698:      
0A83   77                     LD   (HL),A   ; add character to return lineBuf
0A84   23                     INC   HL   
0A85   14                     INC   D   
0A86   CD 8F 01               CALL   getKey   ; get next key
0A89   B9                     CP   C   ; = delim?
0A8A                          ;*Macro unroll:  _until z
0A8A   CA 80 0A               JP   z,DLOOP_TOP - 3   
0A8D                          ;*Macro unroll:  DLOOP_FWD               ; needed?
0A8D                CUR_ADR:   .SET   $   ; needed?
0A81                          .ORG   DLOOP_TOP - 2   
0A81   8D 0A                  DW   CUR_ADR   
0A8D                          .ORG   CUR_ADR   
0A8D   FE 20                  CP   " "   ; < space? i.e. control chars
0A8F                          ;*Macro unroll:  _until c
0A8F   DA 80 0A               JP   c,DLOOP_TOP - 3   
0A92                          ;*Macro unroll:  DLOOP_FWD               ; needed?
0A92                CUR_ADR:   .SET   $   ; needed?
0A81                          .ORG   DLOOP_TOP - 2   
0A81   92 0A                  DW   CUR_ADR   
0A92                          .ORG   CUR_ADR   
0A92                          ;*Macro unroll:  _djnz
0A92   10 EF                  DJNZ   DLOOP_TOP   
0A94                          ;*Macro unroll:  DLOOP_FWD
0A94                CUR_ADR:   .SET   $   
0A81                          .ORG   DLOOP_TOP - 2   
0A81   94 0A                  DW   CUR_ADR   
0A94                          .ORG   CUR_ADR   
0A94                          ;*Macro unroll:  DLOOP_POP
0A94                DLOOP_COUNT:   .SET   DLOOP_COUNT - 1   
0A94                DLOOP_TOP:   .SET   DLOOP_2   
0A94                DLOOP_2:   .SET   DLOOP_3   
0A94                DLOOP_3:   .SET   DLOOP_4   
0A94                DLOOP_4:   .SET   DLOOP_5   
0A94                DLOOP_5:   .SET   DLOOP_6   
0A94                DLOOP_6:   .SET   DLOOP_7   
0A94                DLOOP_7:   .SET   DLOOP_8   
0A94                DLOOP_8:   .SET   DLOOP_9   
0A94                DLOOP_9:   .SET   DLOOP_10   
0A94                DLOOP_10:   .SET   DLOOP_11   
0A94                DLOOP_11:   .SET   DLOOP_12   
0A94                DLOOP_12:   .SET   0   
0A94   E1                     POP   HL   ; restore HL
0A95                          ;*Macro unroll:  _endif
0A95                          ;*Macro unroll:  STRUC_FWD
0A95                CUR_ADR:   .SET   $   
0A79                          .ORG   STRUC_TOP - 2   
0A79   95 0A                  DW   CUR_ADR   
0A95                          .ORG   CUR_ADR   
0A95                          ;*Macro unroll:  STRUC_POP
0A95                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
0A95                STRUC_TOP:   .SET   STRUC_2   
0A95                STRUC_2:   .SET   STRUC_3   
0A95                STRUC_3:   .SET   STRUC_4   
0A95                STRUC_4:   .SET   STRUC_5   
0A95                STRUC_5:   .SET   STRUC_6   
0A95                STRUC_6:   .SET   STRUC_7   
0A95                STRUC_7:   .SET   STRUC_8   
0A95                STRUC_8:   .SET   STRUC_9   
0A95                STRUC_9:   .SET   STRUC_10   
0A95                STRUC_10:   .SET   STRUC_11   
0A95                STRUC_11:   .SET   STRUC_12   
0A95                STRUC_12:   .SET   0   
0A95   72                     LD   (HL),D   ; write length
0A96                          ;*Macro unroll:  loadWord B,C, H,L                   ; TOS = str ptr
0A96   4D                     LD   C,L   ; TOS = str ptr
0A97   44                     LD   B,H   
0A98   C9                     RET      
0A99                             ; 
0A99                             ; words
0A99                             ; 
0A99                             ; forth word defintions
0A99                             ; 
0A99                          ;*Macro unroll: defword "quit",4,0,quit
0A99                HEADER_QUIT:      
0A99   E6 06                  DW   link   
0A9B                LINK:     .SET   HEADER_quit   
0A9B   04                     DB   0 + 4   
0A9C   71 75 69 74            DB   "quit"   
0AA0                QUIT:        
0AA0   CF                     RST   $08   ; enter forth
0AA1   40 14 26 04 F3 10      DW   sp0,fetch,spStore   
0AA7   52 0B                  DW   interpret   
0AA9                          ;*Macro unroll:  EXIT
0AA9   84 0F                  DW   exit   
0AAB   C3 A8 07               JP   enter   
0AAE                          ;*Macro unroll: defword "word",5,0,WORD                 ; delim -- c-addr
0AAE                HEADER_WORD:      ; delim -- c-addr
0AAE   99 0A                  DW   link   
0AB0                LINK:     .SET   HEADER_WORD   
0AB0   05                     DB   0 + 5   
0AB1   77 6F 72 64            DB   "word"   
0AB5                WORD:        
0AB5   CF                     RST   $08   ; enter forth
0AB6   0E 03 40 00            DW   lit,64   ; limit
0ABA   DC 13 26 04            DW   here,fetch   
0ABE   26 02                  DW   xword   ; writes to HERE!
0AC0                          ;*Macro unroll:  EXIT
0AC0   84 0F                  DW   exit   
0AC2   C3 A8 07               JP   enter   
0AC5                          ;*Macro unroll: defword ">cfa",4,0,tcfa
0AC5                HEADER_TCFA:      
0AC5   AE 0A                  DW   link   
0AC7                LINK:     .SET   HEADER_tcfa   
0AC7   04                     DB   0 + 4   
0AC8   3E 63 66 61            DB   ">cfa"   
0ACC                TCFA:        
0ACC   CF                     RST   $08   ; enter forth
0ACD   0E 03 02 00 97 04      DW   lit,2,plus   
0AD3   EA 0A                  DW   count   
0AD5   0E 03 3F 00 54 05      DW   lit,msk_length,and   
0ADB   97 04                  DW   plus   
0ADD                          ;*Macro unroll:  EXIT
0ADD   84 0F                  DW   exit   
0ADF   C3 A8 07               JP   enter   
0AE2                             ; count extract string length from pascal string  ( ptr -- ptr+1 len )
0AE2                          ;*Macro unroll: defword "count",5,0,count
0AE2                HEADER_COUNT:      
0AE2   C5 0A                  DW   link   
0AE4                LINK:     .SET   HEADER_count   
0AE4   05                     DB   0 + 5   
0AE5   63 6F 75 6E 74         DB   "count"   
0AEA                COUNT:       
0AEA   CF                     RST   $08   ; enter forth
0AEB   07 06 0E 03 01 00 97 04 DW   dup,lit,1,plus   ; ( ptr -- ptr ptr+1)
0AF3   1B 06 8C 04            DW   swap,cfetch   ; ( ptr ptr+1 -- ptr+1 len)
0AF7                          ;*Macro unroll:  EXIT
0AF7   84 0F                  DW   exit   
0AF9   C3 A8 07               JP   enter   
0AFC                             ; allocate n bytes of memory                                   ( n -- ) allocate n bytes of memory
0AFC                          ;*Macro unroll: defword "allot",5,0,allot               ;
0AFC                HEADER_ALLOT:      ; 
0AFC   E2 0A                  DW   link   
0AFE                LINK:     .SET   HEADER_allot   
0AFE   05                     DB   0 + 5   
0AFF   61 6C 6C 6F 74         DB   "allot"   
0B04                ALLOT:       
0B04   CF                     RST   $08   ; enter forth
0B05   DC 13 87 02            DW   here,addstore   ; adds n to here
0B09                          ;*Macro unroll:  EXIT
0B09   84 0F                  DW   exit   
0B0B   C3 A8 07               JP   enter   
0B0E                             ; abs   n -- u                          absolute value
0B0E                          ;*Macro unroll: defword "abs",3,0,ABS                   ; case sensitive for ABS label for some reason
0B0E                HEADER_ABS:      ; case sensitive for ABS label for some reason
0B0E   FC 0A                  DW   link   
0B10                LINK:     .SET   HEADER_ABS   
0B10   03                     DB   0 + 3   
0B11   61 62 73               DB   "abs"   
0B14                ABS:         
0B14   CF                     RST   $08   ; enter forth
0B15   07 06                  DW   dup   ; copy arg
0B17   25 03                  DW   zeroless   
0B19                          ;*Macro unroll:  cif
0B19   E2 02 00 00            DW   ZBRANCH,0   
0B1D                          ;*Macro unroll:  CPL_PUSH $
0B1D                CPL_COUNT:   .SET   CPL_COUNT + 1   
0B1D                CPL_10:   .SET   CPL_9   
0B1D                CPL_9:    .SET   CPL_8   
0B1D                CPL_8:    .SET   CPL_7   
0B1D                CPL_7:    .SET   CPL_6   
0B1D                CPL_6:    .SET   CPL_5   
0B1D                CPL_5:    .SET   CPL_4   
0B1D                CPL_4:    .SET   CPL_3   
0B1D                CPL_3:    .SET   CPL_2   
0B1D                CPL_2:    .SET   CPL_TOP   
0B1D                CPL_TOP:   .SET   $   
0B1D   2D 0B                  DW   negate   ; if signs differ then negate answer
0B1F                          ;*Macro unroll:  cendif
0B1F                          ;*Macro unroll:  cBRANCH_FWD
0B1F                CUR_ADR:   .SET   $   
0B1B                          .ORG   CPL_TOP - 2   
0B1B   04 00                  DW   CUR_ADR - CPL_TOP + 2   
0B1F                          .ORG   CUR_ADR   
0B1F                          ;*Macro unroll:  CPL_POP
0B1F                CPL_COUNT:   .SET   CPL_COUNT - 1   
0B1F                CPL_TOP:   .SET   CPL_2   
0B1F                CPL_2:    .SET   CPL_3   
0B1F                CPL_3:    .SET   CPL_4   
0B1F                CPL_4:    .SET   CPL_5   
0B1F                CPL_5:    .SET   CPL_6   
0B1F                CPL_6:    .SET   CPL_7   
0B1F                CPL_7:    .SET   CPL_8   
0B1F                CPL_8:    .SET   CPL_9   
0B1F                CPL_9:    .SET   CPL_10   
0B1F                CPL_10:   .SET   0   
0B1F                          ;*Macro unroll:  EXIT
0B1F   84 0F                  DW   exit   
0B21   C3 A8 07               JP   enter   
0B24                             ; negate  n1 -- n2                      negate n1
0B24                          ;*Macro unroll: defword "negate",6,0,negate
0B24                HEADER_NEGATE:      
0B24   0E 0B                  DW   link   
0B26                LINK:     .SET   HEADER_negate   
0B26   06                     DB   0 + 6   
0B27   6E 65 67 61 74 65      DB   "negate"   
0B2D                NEGATE:      
0B2D   CF                     RST   $08   ; enter forth
0B2E   39 03                  DW   invert   
0B30   CA 02                  DW   oneplus   
0B32                          ;*Macro unroll:  EXIT
0B32   84 0F                  DW   exit   
0B34   C3 A8 07               JP   enter   
0B37                          ;*Macro unroll: defword "bl",2,0,bl
0B37                HEADER_BL:      
0B37   24 0B                  DW   link   
0B39                LINK:     .SET   HEADER_bl   
0B39   02                     DB   0 + 2   
0B3A   62 6C                  DB   "bl"   
0B3C                BL:          
0B3C   CF                     RST   $08   ; enter forth
0B3D   0E 03 20 00            DW   lit,$20   ; compile branch on zero
0B41                          ;*Macro unroll:  EXIT
0B41   84 0F                  DW   exit   
0B43   C3 A8 07               JP   enter   
0B46                          ;*Macro unroll: defword "interpret",6,0,interpret
0B46                HEADER_INTERPRET:      
0B46   37 0B                  DW   link   
0B48                LINK:     .SET   HEADER_interpret   
0B48   06                     DB   0 + 6   
0B49   69 6E 74 65 72 70 72 65 74 DB   "interpret"   
0B52                INTERPRET:      
0B52   CF                     RST   $08   
0B53                          ;*Macro unroll:  cDo
0B53   FF 02 06 00            DW   BRANCH,6   
0B57   FF 02 00 00            DW   BRANCH,0   
0B5B                          ;*Macro unroll:  CPL_PUSH $
0B5B                CPL_COUNT:   .SET   CPL_COUNT + 1   
0B5B                CPL_10:   .SET   CPL_9   
0B5B                CPL_9:    .SET   CPL_8   
0B5B                CPL_8:    .SET   CPL_7   
0B5B                CPL_7:    .SET   CPL_6   
0B5B                CPL_6:    .SET   CPL_5   
0B5B                CPL_5:    .SET   CPL_4   
0B5B                CPL_4:    .SET   CPL_3   
0B5B                CPL_3:    .SET   CPL_2   
0B5B                CPL_2:    .SET   CPL_TOP   
0B5B                CPL_TOP:   .SET   $   
0B5B   3C 0B B5 0A EA 0A      DW   bl,word,count   ; pstr -- ptr len
0B61   07 06 2B 05            DW   dup,zEqual   
0B65                          ;*Macro unroll:  cIf
0B65   E2 02 00 00            DW   ZBRANCH,0   
0B69                          ;*Macro unroll:  CPL_PUSH $
0B69                CPL_COUNT:   .SET   CPL_COUNT + 1   
0B69                CPL_10:   .SET   CPL_9   
0B69                CPL_9:    .SET   CPL_8   
0B69                CPL_8:    .SET   CPL_7   
0B69                CPL_7:    .SET   CPL_6   
0B69                CPL_6:    .SET   CPL_5   
0B69                CPL_5:    .SET   CPL_4   
0B69                CPL_4:    .SET   CPL_3   
0B69                CPL_3:    .SET   CPL_2   
0B69                CPL_2:    .SET   CPL_TOP   
0B69                CPL_TOP:   .SET   $   
0B69   3B 06 3B 06            DW   drop,drop   ; ptr len --
0B6D                          ;*Macro unroll:  EXIT
0B6D   84 0F                  DW   exit   
0B6F   C3 A8 07               JP   enter   
0B72                          ;*Macro unroll:  cEndif
0B72                          ;*Macro unroll:  cBRANCH_FWD
0B72                CUR_ADR:   .SET   $   
0B67                          .ORG   CPL_TOP - 2   
0B67   0B 00                  DW   CUR_ADR - CPL_TOP + 2   
0B72                          .ORG   CUR_ADR   
0B72                          ;*Macro unroll:  CPL_POP
0B72                CPL_COUNT:   .SET   CPL_COUNT - 1   
0B72                CPL_TOP:   .SET   CPL_2   
0B72                CPL_2:    .SET   CPL_3   
0B72                CPL_3:    .SET   CPL_4   
0B72                CPL_4:    .SET   CPL_5   
0B72                CPL_5:    .SET   CPL_6   
0B72                CPL_6:    .SET   CPL_7   
0B72                CPL_7:    .SET   CPL_8   
0B72                CPL_8:    .SET   CPL_9   
0B72                CPL_9:    .SET   CPL_10   
0B72                CPL_10:   .SET   0   
0B72   9A 0F                  DW   interpToken   ; interpret the next word
0B74                          ;*Macro unroll:  cEndDo
0B74   FF 02 E5 FF            DW   BRANCH,CPL_TOP - $ - 2   
0B78                          ;*Macro unroll:  cBRANCH_FWD
0B78                CUR_ADR:   .SET   $   
0B59                          .ORG   CPL_TOP - 2   
0B59   1F 00                  DW   CUR_ADR - CPL_TOP + 2   
0B78                          .ORG   CUR_ADR   
0B78                          ;*Macro unroll:  CPL_POP
0B78                CPL_COUNT:   .SET   CPL_COUNT - 1   
0B78                CPL_TOP:   .SET   CPL_2   
0B78                CPL_2:    .SET   CPL_3   
0B78                CPL_3:    .SET   CPL_4   
0B78                CPL_4:    .SET   CPL_5   
0B78                CPL_5:    .SET   CPL_6   
0B78                CPL_6:    .SET   CPL_7   
0B78                CPL_7:    .SET   CPL_8   
0B78                CPL_8:    .SET   CPL_9   
0B78                CPL_9:    .SET   CPL_10   
0B78                CPL_10:   .SET   0   
0B78                          ;*Macro unroll:  EXIT
0B78   84 0F                  DW   exit   
0B7A   C3 A8 07               JP   enter   
0B7D                          ;*Macro unroll: defword "'",1,0,tick                    ; quotes next word
0B7D                HEADER_TICK:      ; quotes next word
0B7D   46 0B                  DW   link   
0B7F                LINK:     .SET   HEADER_tick   
0B7F   01                     DB   0 + 1   
0B80   27                     DB   "'"   
0B81                TICK:        
0B81   3C 0B B5 0A 36 02 2B 05 DW   bl,word,find,zEqual   
0B89   8C 06 EA 0A 4F 06 4F 06 97 04 77 06 DW   rFrom,count,over,over,plus,toR   
0B95   84 0F                  DW   EXIT   
0B97                          ;*Macro unroll: defword "*",1,0,star                    ; u1 u2 -- ud
0B97                HEADER_STAR:      ; u1 u2 -- ud
0B97   7D 0B                  DW   link   
0B99                LINK:     .SET   HEADER_star   
0B99   01                     DB   0 + 1   
0B9A   2A                     DB   "*"   
0B9B                STAR:        
0B9B   CF                     RST   $08   ; enter forth
0B9C   4F 06 4F 06            DW   over,over   ; dupe both args
0BA0   14 0B 1B 06 14 0B      DW   ABS,swap,ABS   ; remove sign from both args
0BA6   CE 04 3B 06            DW   ustar,drop   ; unsigned multiply, drop hi-word
0BAA   D2 05                  DW   nrot   ; move to bottom
0BAC   85 05                  DW   xor   ; zero if signs are the same
0BAE   25 03                  DW   zeroless   ; if high bit set
0BB0                          ;*Macro unroll:  cif
0BB0   E2 02 00 00            DW   ZBRANCH,0   
0BB4                          ;*Macro unroll:  CPL_PUSH $
0BB4                CPL_COUNT:   .SET   CPL_COUNT + 1   
0BB4                CPL_10:   .SET   CPL_9   
0BB4                CPL_9:    .SET   CPL_8   
0BB4                CPL_8:    .SET   CPL_7   
0BB4                CPL_7:    .SET   CPL_6   
0BB4                CPL_6:    .SET   CPL_5   
0BB4                CPL_5:    .SET   CPL_4   
0BB4                CPL_4:    .SET   CPL_3   
0BB4                CPL_3:    .SET   CPL_2   
0BB4                CPL_2:    .SET   CPL_TOP   
0BB4                CPL_TOP:   .SET   $   
0BB4   2D 0B                  DW   negate   ; if signs differ then negate answer
0BB6                          ;*Macro unroll:  cendif
0BB6                          ;*Macro unroll:  cBRANCH_FWD
0BB6                CUR_ADR:   .SET   $   
0BB2                          .ORG   CPL_TOP - 2   
0BB2   04 00                  DW   CUR_ADR - CPL_TOP + 2   
0BB6                          .ORG   CUR_ADR   
0BB6                          ;*Macro unroll:  CPL_POP
0BB6                CPL_COUNT:   .SET   CPL_COUNT - 1   
0BB6                CPL_TOP:   .SET   CPL_2   
0BB6                CPL_2:    .SET   CPL_3   
0BB6                CPL_3:    .SET   CPL_4   
0BB6                CPL_4:    .SET   CPL_5   
0BB6                CPL_5:    .SET   CPL_6   
0BB6                CPL_6:    .SET   CPL_7   
0BB6                CPL_7:    .SET   CPL_8   
0BB6                CPL_8:    .SET   CPL_9   
0BB6                CPL_9:    .SET   CPL_10   
0BB6                CPL_10:   .SET   0   
0BB6                          ;*Macro unroll:  EXIT
0BB6   84 0F                  DW   exit   
0BB8   C3 A8 07               JP   enter   
0BBB                          ;*Macro unroll: defword "/mod",4,0,slashmod             ; dvend dvisr -- rem quot
0BBB                HEADER_SLASHMOD:      ; dvend dvisr -- rem quot
0BBB   97 0B                  DW   link   
0BBD                LINK:     .SET   HEADER_slashmod   
0BBD   04                     DB   0 + 4   
0BBE   2F 6D 6F 64            DB   "/mod"   
0BC2                SLASHMOD:      
0BC2   CF                     RST   $08   ; enter forth
0BC3   4F 06 4F 06            DW   over,over   ;       u1 u2 -- u1 u2 u1 u2  dupe both args
0BC7   85 05                  DW   xor   ; u1 u2 u1 u2 -- u1 u2 b1     xor hi bits
0BC9   25 03                  DW   zeroless   ; true if high bit still set
0BCB   D2 05                  DW   nrot   ;    u1 u2 b1 -- b1 u1 u2     move to bottom
0BCD   4F 06                  DW   over   ;    b1 u1 u2 -- b1 u1 u2 u1  dupe dividend
0BCF   25 03                  DW   zeroless   ; b1 u1 u2 u1 -- b1 u1 u2 b2  zero if signs are the same
0BD1   D2 05                  DW   nrot   ; b1 u1 u2 b2 -- b1 b2 u1 u2  move to bottom
0BD3   14 0B 1B 06 14 0B 1B 06 DW   ABS,swap,ABS,swap   ; remove sign from both args
0BDB   F0 04                  DW   uslashmod   ; b1 b2 u1 u2 -- b1 b2 r q    unsigned divide (remainder, quotient)
0BDD   1B 06                  DW   swap   ; b1 b2 u1 u2 -- b1 b2 q r
0BDF   9E 05                  DW   rot   ; b1 b2 q r -- b1 q r b2      bring to top
0BE1                          ;*Macro unroll:  cif
0BE1   E2 02 00 00            DW   ZBRANCH,0   
0BE5                          ;*Macro unroll:  CPL_PUSH $
0BE5                CPL_COUNT:   .SET   CPL_COUNT + 1   
0BE5                CPL_10:   .SET   CPL_9   
0BE5                CPL_9:    .SET   CPL_8   
0BE5                CPL_8:    .SET   CPL_7   
0BE5                CPL_7:    .SET   CPL_6   
0BE5                CPL_6:    .SET   CPL_5   
0BE5                CPL_5:    .SET   CPL_4   
0BE5                CPL_4:    .SET   CPL_3   
0BE5                CPL_3:    .SET   CPL_2   
0BE5                CPL_2:    .SET   CPL_TOP   
0BE5                CPL_TOP:   .SET   $   
0BE5   2D 0B                  DW   negate   ;   b1 q r b2 -- b1 q -r      if -ve then negate answer
0BE7                          ;*Macro unroll:  cendif
0BE7                          ;*Macro unroll:  cBRANCH_FWD
0BE7                CUR_ADR:   .SET   $   
0BE3                          .ORG   CPL_TOP - 2   
0BE3   04 00                  DW   CUR_ADR - CPL_TOP + 2   
0BE7                          .ORG   CUR_ADR   
0BE7                          ;*Macro unroll:  CPL_POP
0BE7                CPL_COUNT:   .SET   CPL_COUNT - 1   
0BE7                CPL_TOP:   .SET   CPL_2   
0BE7                CPL_2:    .SET   CPL_3   
0BE7                CPL_3:    .SET   CPL_4   
0BE7                CPL_4:    .SET   CPL_5   
0BE7                CPL_5:    .SET   CPL_6   
0BE7                CPL_6:    .SET   CPL_7   
0BE7                CPL_7:    .SET   CPL_8   
0BE7                CPL_8:    .SET   CPL_9   
0BE7                CPL_9:    .SET   CPL_10   
0BE7                CPL_10:   .SET   0   
0BE7   D2 05                  DW   nrot   ;     b1 q -r -- -r b1 q     bring to top
0BE9   1B 06                  DW   swap   ;     -r b1 q -- -r q b1      bring to top
0BEB                          ;*Macro unroll:  cif
0BEB   E2 02 00 00            DW   ZBRANCH,0   
0BEF                          ;*Macro unroll:  CPL_PUSH $
0BEF                CPL_COUNT:   .SET   CPL_COUNT + 1   
0BEF                CPL_10:   .SET   CPL_9   
0BEF                CPL_9:    .SET   CPL_8   
0BEF                CPL_8:    .SET   CPL_7   
0BEF                CPL_7:    .SET   CPL_6   
0BEF                CPL_6:    .SET   CPL_5   
0BEF                CPL_5:    .SET   CPL_4   
0BEF                CPL_4:    .SET   CPL_3   
0BEF                CPL_3:    .SET   CPL_2   
0BEF                CPL_2:    .SET   CPL_TOP   
0BEF                CPL_TOP:   .SET   $   
0BEF   2D 0B                  DW   negate   ;     -r q b1 -- -r -q       if signs differ then negate answer
0BF1                          ;*Macro unroll:  cendif
0BF1                          ;*Macro unroll:  cBRANCH_FWD
0BF1                CUR_ADR:   .SET   $   
0BED                          .ORG   CPL_TOP - 2   
0BED   04 00                  DW   CUR_ADR - CPL_TOP + 2   
0BF1                          .ORG   CUR_ADR   
0BF1                          ;*Macro unroll:  CPL_POP
0BF1                CPL_COUNT:   .SET   CPL_COUNT - 1   
0BF1                CPL_TOP:   .SET   CPL_2   
0BF1                CPL_2:    .SET   CPL_3   
0BF1                CPL_3:    .SET   CPL_4   
0BF1                CPL_4:    .SET   CPL_5   
0BF1                CPL_5:    .SET   CPL_6   
0BF1                CPL_6:    .SET   CPL_7   
0BF1                CPL_7:    .SET   CPL_8   
0BF1                CPL_8:    .SET   CPL_9   
0BF1                CPL_9:    .SET   CPL_10   
0BF1                CPL_10:   .SET   0   
0BF1                          ;*Macro unroll:  EXIT
0BF1   84 0F                  DW   exit   
0BF3   C3 A8 07               JP   enter   
0BF6                          ;*Macro unroll: defword "/",1,0,slash                   ; dvend dvisr -- quot
0BF6                HEADER_SLASH:      ; dvend dvisr -- quot
0BF6   BB 0B                  DW   link   
0BF8                LINK:     .SET   HEADER_slash   
0BF8   01                     DB   0 + 1   
0BF9   2F                     DB   "/"   
0BFA                SLASH:       
0BFA   CF                     RST   $08   ; enter forth
0BFB   C2 0B                  DW   slashmod   
0BFD   1B 06 3B 06            DW   swap,drop   ; drop remainder
0C01                          ;*Macro unroll:  EXIT
0C01   84 0F                  DW   exit   
0C03   C3 A8 07               JP   enter   
0C06                          ;*Macro unroll: defword "mod",3,0,mod                   ; dvend dvisr -- remainder
0C06                HEADER_MOD:      ; dvend dvisr -- remainder
0C06   F6 0B                  DW   link   
0C08                LINK:     .SET   HEADER_mod   
0C08   03                     DB   0 + 3   
0C09   6D 6F 64               DB   "mod"   
0C0C                MOD:         
0C0C   CF                     RST   $08   ; enter forth
0C0D   C2 0B                  DW   slashmod   
0C0F   3B 06                  DW   drop   ; drop quotient
0C11                          ;*Macro unroll:  EXIT
0C11   84 0F                  DW   exit   
0C13   C3 A8 07               JP   enter   
0C16                             ; 
0C16                             ; 
0C16                             ; flow control
0C16                             ; 
0C16                             ; 
0C16                          ;*Macro unroll: defword "if",2,msk_immed,if
0C16                HEADER_IF:      
0C16   06 0C                  DW   link   
0C18                LINK:     .SET   HEADER_if   
0C18   82                     DB   msk_immed + 2   
0C19   69 66                  DB   "if"   
0C1B                IF:          
0C1B   CF                     RST   $08   ; enter forth
0C1C   3C 0D                  DW   lbrace   
0C1E   0E 03 E2 02 0B 04      DW   lit,zbranch,comma   ; compile 0branch
0C24   DC 13 26 04 07 06 0B 04 DW   here,fetch,dup,comma   ; compile here and also push on stack
0C2C                          ;*Macro unroll:  EXIT
0C2C   84 0F                  DW   exit   
0C2E   C3 A8 07               JP   enter   
0C31                          ;*Macro unroll: defword "else",4,msk_immed,else
0C31                HEADER_ELSE:      
0C31   16 0C                  DW   link   
0C33                LINK:     .SET   HEADER_else   
0C33   84                     DB   msk_immed + 4   
0C34   65 6C 73 65            DB   "else"   
0C38                ELSE:        
0C38   CF                     RST   $08   ; enter forth
0C39   0E 03 FF 02 0B 04      DW   lit,branch,comma   ; definite branch to just over the false-part
0C3F   DC 13 26 04            DW   here,fetch   ; save here on stack
0C43   0E 03 00 00 0B 04      DW   lit,0,comma   ; compile a dummy offset
0C49   1B 06                  DW   swap   ; now back-fill the original (if) offset
0C4B   64 0C                  DW   xendif   ; must call xendif not endif
0C4D                          ;*Macro unroll:  EXIT
0C4D   84 0F                  DW   exit   
0C4F   C3 A8 07               JP   enter   
0C52                          ;*Macro unroll: defword "endif",5,msk_immed,endif
0C52                HEADER_ENDIF:      
0C52   31 0C                  DW   link   
0C54                LINK:     .SET   HEADER_endif   
0C54   85                     DB   msk_immed + 5   
0C55   65 6E 64 69 66         DB   "endif"   
0C5A                ENDIF:       
0C5A   CF                     RST   $08   ; enter forth
0C5B   64 0C                  DW   xendif   ; must call xendif not endif
0C5D   8C 0D                  DW   rbraceExec   
0C5F                          ;*Macro unroll:  EXIT
0C5F   84 0F                  DW   exit   
0C61   C3 A8 07               JP   enter   
0C64                XENDIF:      ; must call xendif not endif
0C64   CF                     RST   $08   ; enter forth
0C65   07 06                  DW   dup   
0C67   DC 13 26 04 1B 06 B7 04 DW   here,fetch,swap,minus   ; calculate the offset from the address saved on the stack
0C6F   1B 06 EA 03            DW   swap,store   ; store the offset in the back-filled location
0C73                          ;*Macro unroll:  EXIT
0C73   84 0F                  DW   exit   
0C75   C3 A8 07               JP   enter   
0C78                             ; begin condition while ... repeat
0C78                          ;*Macro unroll: defword "begin",5,msk_immed,begin
0C78                HEADER_BEGIN:      
0C78   52 0C                  DW   link   
0C7A                LINK:     .SET   HEADER_begin   
0C7A   85                     DB   msk_immed + 5   
0C7B   62 65 67 69 6E         DB   "begin"   
0C80                BEGIN:       
0C80   CF                     RST   $08   ; enter forth
0C81   3C 0D                  DW   lbrace   
0C83   DC 13 26 04            DW   here,fetch   ; save here on stack (here1)
0C87                          ;*Macro unroll:  EXIT
0C87   84 0F                  DW   exit   
0C89   C3 A8 07               JP   enter   
0C8C                          ;*Macro unroll: defword "while",5,msk_immed,while
0C8C                HEADER_WHILE:      
0C8C   78 0C                  DW   link   
0C8E                LINK:     .SET   HEADER_while   
0C8E   85                     DB   msk_immed + 5   
0C8F   77 68 69 6C 65         DB   "while"   
0C94                WHILE:       
0C94   CF                     RST   $08   ; enter forth
0C95   0E 03 E2 02 0B 04      DW   lit,zbranch,comma   ; compile branch on zero
0C9B   DC 13 26 04            DW   here,fetch   ; save here in stack (here2)
0C9F   0E 03 00 00 0B 04      DW   lit,0,comma   ; compile dummy offset
0CA5                          ;*Macro unroll:  EXIT
0CA5   84 0F                  DW   exit   
0CA7   C3 A8 07               JP   enter   
0CAA                          ;*Macro unroll: defword "repeat",6,msk_immed,repeat
0CAA                HEADER_REPEAT:      
0CAA   8C 0C                  DW   link   
0CAC                LINK:     .SET   HEADER_repeat   
0CAC   86                     DB   msk_immed + 6   
0CAD   72 65 70 65 61 74      DB   "repeat"   
0CB3                REPEAT:      
0CB3   CF                     RST   $08   ; enter forth
0CB4   0E 03 FF 02 0B 04      DW   lit,branch,comma   ; compile branch
0CBA   1B 06                  DW   swap   ; tos = here1
0CBC   DC 13 26 04 B7 04 0B 04 DW   here,fetch,minus,comma   ; compile offset (here1 - here3)
0CC4   07 06                  DW   dup   
0CC6   DC 13 26 04 1B 06 B7 04 DW   here,fetch,swap,minus   ; compile offset (here2 - here3)
0CCE   1B 06 EA 03            DW   swap,store   ; save offset in here2
0CD2   8C 0D                  DW   rbraceExec   
0CD4                          ;*Macro unroll:  EXIT
0CD4   84 0F                  DW   exit   
0CD6   C3 A8 07               JP   enter   
0CD9                             ; using 00bbMDBzc0luTWkhLCQyMg== because it's surprisingly difficult
0CD9                             ; to define the name s" using asm80
0CD9                          ;*Macro unroll: defword {"s",$22},2,msk_immed,squote
0CD9                HEADER_SQUOTE:      
0CD9   AA 0C                  DW   link   
0CDB                LINK:     .SET   HEADER_squote   
0CDB   82                     DB   msk_immed + 2   
0CDC   73 22                  DB   "s",$22   
0CDE                SQUOTE:      
0CDE   18 04                  JR   qt   
0CE0                          ;*Macro unroll: defword $22,1,msk_immed,qt
0CE0                HEADER_QT:      
0CE0   D9 0C                  DW   link   
0CE2                LINK:     .SET   HEADER_qt   
0CE2   81                     DB   msk_immed + 1   
0CE3   22                     DB   $22   
0CE4                QT:          
0CE4   CF                     RST   $08   ; enter forth
0CE5   10 14 26 04 2B 05      DW   state,fetch,zequal   
0CEB                          ;*Macro unroll:  cIf
0CEB   E2 02 00 00            DW   ZBRANCH,0   
0CEF                          ;*Macro unroll:  CPL_PUSH $
0CEF                CPL_COUNT:   .SET   CPL_COUNT + 1   
0CEF                CPL_10:   .SET   CPL_9   
0CEF                CPL_9:    .SET   CPL_8   
0CEF                CPL_8:    .SET   CPL_7   
0CEF                CPL_7:    .SET   CPL_6   
0CEF                CPL_6:    .SET   CPL_5   
0CEF                CPL_5:    .SET   CPL_4   
0CEF                CPL_4:    .SET   CPL_3   
0CEF                CPL_3:    .SET   CPL_2   
0CEF                CPL_2:    .SET   CPL_TOP   
0CEF                CPL_TOP:   .SET   $   
0CEF   0E 03 22 00            DW   lit,$22   ; delim
0CF3   0E 03 3F 00            DW   lit,63   ; limit 63 + length
0CF7   73 14 26 04            DW   latestStr,fetch   
0CFB   0E 03 3C 21 75 03      DW   lit,wordBuf,equal   
0D01                          ;*Macro unroll:  cIf
0D01   E2 02 00 00            DW   ZBRANCH,0   
0D05                          ;*Macro unroll:  CPL_PUSH $
0D05                CPL_COUNT:   .SET   CPL_COUNT + 1   
0D05                CPL_10:   .SET   CPL_9   
0D05                CPL_9:    .SET   CPL_8   
0D05                CPL_8:    .SET   CPL_7   
0D05                CPL_7:    .SET   CPL_6   
0D05                CPL_6:    .SET   CPL_5   
0D05                CPL_5:    .SET   CPL_4   
0D05                CPL_4:    .SET   CPL_3   
0D05                CPL_3:    .SET   CPL_2   
0D05                CPL_2:    .SET   CPL_TOP   
0D05                CPL_TOP:   .SET   $   
0D05   0E 03 7C 21            DW   lit,wordBuf2   
0D09                          ;*Macro unroll:  cElse
0D09   FF 02 00 00            DW   BRANCH,0   
0D0D                          ;*Macro unroll:  cBRANCH_FWD
0D0D                CUR_ADR:   .SET   $   
0D03                          .ORG   CPL_TOP - 2   
0D03   0A 00                  DW   CUR_ADR - CPL_TOP + 2   
0D0D                          .ORG   CUR_ADR   
0D0D                CPL_TOP:   .SET   $   
0D0D   0E 03 3C 21            DW   lit,wordBuf   
0D11                          ;*Macro unroll:  cEndIf
0D11                          ;*Macro unroll:  cBRANCH_FWD
0D11                CUR_ADR:   .SET   $   
0D0B                          .ORG   CPL_TOP - 2   
0D0B   06 00                  DW   CUR_ADR - CPL_TOP + 2   
0D11                          .ORG   CUR_ADR   
0D11                          ;*Macro unroll:  CPL_POP
0D11                CPL_COUNT:   .SET   CPL_COUNT - 1   
0D11                CPL_TOP:   .SET   CPL_2   
0D11                CPL_2:    .SET   CPL_3   
0D11                CPL_3:    .SET   CPL_4   
0D11                CPL_4:    .SET   CPL_5   
0D11                CPL_5:    .SET   CPL_6   
0D11                CPL_6:    .SET   CPL_7   
0D11                CPL_7:    .SET   CPL_8   
0D11                CPL_8:    .SET   CPL_9   
0D11                CPL_9:    .SET   CPL_10   
0D11                CPL_10:   .SET   0   
0D11   73 14 EA 03            DW   latestStr,store   ; store here in latestStr
0D15   73 14 26 04            DW   latestStr,fetch   
0D19   26 02 EA 0A            DW   xword,count   
0D1D                          ;*Macro unroll:  cElse
0D1D   FF 02 00 00            DW   BRANCH,0   
0D21                          ;*Macro unroll:  cBRANCH_FWD
0D21                CUR_ADR:   .SET   $   
0CED                          .ORG   CPL_TOP - 2   
0CED   34 00                  DW   CUR_ADR - CPL_TOP + 2   
0D21                          .ORG   CUR_ADR   
0D21                CPL_TOP:   .SET   $   
0D21   0E 03 88 0F 0B 04      DW   lit,litstr,comma   
0D27   0E 03 22 00 B5 0A      DW   lit,$22,word   
0D2D   8C 04 CA 02            DW   cfetch,oneplus   
0D31   04 0B                  DW   allot   
0D33                          ;*Macro unroll:  cEndif
0D33                          ;*Macro unroll:  cBRANCH_FWD
0D33                CUR_ADR:   .SET   $   
0D1F                          .ORG   CPL_TOP - 2   
0D1F   14 00                  DW   CUR_ADR - CPL_TOP + 2   
0D33                          .ORG   CUR_ADR   
0D33                          ;*Macro unroll:  CPL_POP
0D33                CPL_COUNT:   .SET   CPL_COUNT - 1   
0D33                CPL_TOP:   .SET   CPL_2   
0D33                CPL_2:    .SET   CPL_3   
0D33                CPL_3:    .SET   CPL_4   
0D33                CPL_4:    .SET   CPL_5   
0D33                CPL_5:    .SET   CPL_6   
0D33                CPL_6:    .SET   CPL_7   
0D33                CPL_7:    .SET   CPL_8   
0D33                CPL_8:    .SET   CPL_9   
0D33                CPL_9:    .SET   CPL_10   
0D33                CPL_10:   .SET   0   
0D33                          ;*Macro unroll:  EXIT
0D33   84 0F                  DW   exit   
0D35   C3 A8 07               JP   enter   
0D38                             ; 
0D38                             ; non-standard words
0D38                             ; 
0D38                             ; 
0D38                          ;*Macro unroll: defword "{",1,msk_immed,lbrace
0D38                HEADER_LBRACE:      
0D38   E0 0C                  DW   link   
0D3A                LINK:     .SET   HEADER_lbrace   
0D3A   81                     DB   msk_immed + 1   
0D3B   7B                     DB   "{"   
0D3C                LBRACE:      
0D3C   CF                     RST   $08   ; enter forth
0D3D   10 14 26 04 2B 05      DW   state,fetch,zEqual   
0D43   2A 14 26 04 2B 05      DW   nesting,fetch,zEqual   
0D49   54 05                  DW   and   
0D4B                          ;*Macro unroll:  cIf
0D4B   E2 02 00 00            DW   ZBRANCH,0   
0D4F                          ;*Macro unroll:  CPL_PUSH $
0D4F                CPL_COUNT:   .SET   CPL_COUNT + 1   
0D4F                CPL_10:   .SET   CPL_9   
0D4F                CPL_9:    .SET   CPL_8   
0D4F                CPL_8:    .SET   CPL_7   
0D4F                CPL_7:    .SET   CPL_6   
0D4F                CPL_6:    .SET   CPL_5   
0D4F                CPL_5:    .SET   CPL_4   
0D4F                CPL_4:    .SET   CPL_3   
0D4F                CPL_3:    .SET   CPL_2   
0D4F                CPL_2:    .SET   CPL_TOP   
0D4F                CPL_TOP:   .SET   $   
0D4F   DC 13 26 04            DW   here,fetch   ; TOS = here
0D53   0E 03 CF 00 5E 04      DW   lit,rst08_opcode,ccomma   ; write z80 jp opcode to word
0D59                          ;*Macro unroll:  cEndIf
0D59                          ;*Macro unroll:  cBRANCH_FWD
0D59                CUR_ADR:   .SET   $   
0D4D                          .ORG   CPL_TOP - 2   
0D4D   0C 00                  DW   CUR_ADR - CPL_TOP + 2   
0D59                          .ORG   CUR_ADR   
0D59                          ;*Macro unroll:  CPL_POP
0D59                CPL_COUNT:   .SET   CPL_COUNT - 1   
0D59                CPL_TOP:   .SET   CPL_2   
0D59                CPL_2:    .SET   CPL_3   
0D59                CPL_3:    .SET   CPL_4   
0D59                CPL_4:    .SET   CPL_5   
0D59                CPL_5:    .SET   CPL_6   
0D59                CPL_6:    .SET   CPL_7   
0D59                CPL_7:    .SET   CPL_8   
0D59                CPL_8:    .SET   CPL_9   
0D59                CPL_9:    .SET   CPL_10   
0D59                CPL_10:   .SET   0   
0D59   39 10                  DW   nestPlus   ; increase nesting
0D5B                          ;*Macro unroll:  EXIT                             ; return from the function.
0D5B   84 0F                  DW   exit   ; return from the function.
0D5D   C3 A8 07               JP   enter   
0D60                          ;*Macro unroll: defword "}",1,msk_immed,rbrace
0D60                HEADER_RBRACE:      
0D60   38 0D                  DW   link   
0D62                LINK:     .SET   HEADER_rbrace   
0D62   81                     DB   msk_immed + 1   
0D63   7D                     DB   "}"   
0D64                RBRACE:      
0D64   CF                     RST   $08   ; enter forth
0D65   43 10                  DW   nestMinus   ; reduce nesting
0D67   10 14 26 04 2B 05      DW   state,fetch,zEqual   
0D6D   2A 14 26 04 2B 05      DW   nesting,fetch,zEqual   
0D73   54 05                  DW   and   
0D75                          ;*Macro unroll:  cIf
0D75   E2 02 00 00            DW   ZBRANCH,0   
0D79                          ;*Macro unroll:  CPL_PUSH $
0D79                CPL_COUNT:   .SET   CPL_COUNT + 1   
0D79                CPL_10:   .SET   CPL_9   
0D79                CPL_9:    .SET   CPL_8   
0D79                CPL_8:    .SET   CPL_7   
0D79                CPL_7:    .SET   CPL_6   
0D79                CPL_6:    .SET   CPL_5   
0D79                CPL_5:    .SET   CPL_4   
0D79                CPL_4:    .SET   CPL_3   
0D79                CPL_3:    .SET   CPL_2   
0D79                CPL_2:    .SET   CPL_TOP   
0D79                CPL_TOP:   .SET   $   
0D79   0E 03 84 0F 0B 04      DW   lit,exit,comma   ; append exit (so the word will return).
0D7F                          ;*Macro unroll:  cEndIf
0D7F                          ;*Macro unroll:  cBRANCH_FWD
0D7F                CUR_ADR:   .SET   $   
0D77                          .ORG   CPL_TOP - 2   
0D77   08 00                  DW   CUR_ADR - CPL_TOP + 2   
0D7F                          .ORG   CUR_ADR   
0D7F                          ;*Macro unroll:  CPL_POP
0D7F                CPL_COUNT:   .SET   CPL_COUNT - 1   
0D7F                CPL_TOP:   .SET   CPL_2   
0D7F                CPL_2:    .SET   CPL_3   
0D7F                CPL_3:    .SET   CPL_4   
0D7F                CPL_4:    .SET   CPL_5   
0D7F                CPL_5:    .SET   CPL_6   
0D7F                CPL_6:    .SET   CPL_7   
0D7F                CPL_7:    .SET   CPL_8   
0D7F                CPL_8:    .SET   CPL_9   
0D7F                CPL_9:    .SET   CPL_10   
0D7F                CPL_10:   .SET   0   
0D7F                          ;*Macro unroll:  EXIT                             ; return from the function.
0D7F   84 0F                  DW   exit   ; return from the function.
0D81   C3 A8 07               JP   enter   
0D84                          ;*Macro unroll: defword "}exec",5,msk_immed,rbraceExec
0D84                HEADER_RBRACEEXEC:      
0D84   60 0D                  DW   link   
0D86                LINK:     .SET   HEADER_rbraceExec   
0D86   85                     DB   msk_immed + 5   
0D87   7D 65 78 65 63         DB   "}exec"   
0D8C                RBRACEEXEC:      
0D8C   CF                     RST   $08   ; enter forth
0D8D   64 0D                  DW   rbrace   
0D8F   10 14 26 04 2B 05      DW   state,fetch,zEqual   
0D95   2A 14 26 04 2B 05      DW   nesting,fetch,zEqual   
0D9B   54 05                  DW   and   
0D9D                          ;*Macro unroll:  cIf
0D9D   E2 02 00 00            DW   ZBRANCH,0   
0DA1                          ;*Macro unroll:  CPL_PUSH $
0DA1                CPL_COUNT:   .SET   CPL_COUNT + 1   
0DA1                CPL_10:   .SET   CPL_9   
0DA1                CPL_9:    .SET   CPL_8   
0DA1                CPL_8:    .SET   CPL_7   
0DA1                CPL_7:    .SET   CPL_6   
0DA1                CPL_6:    .SET   CPL_5   
0DA1                CPL_5:    .SET   CPL_4   
0DA1                CPL_4:    .SET   CPL_3   
0DA1                CPL_3:    .SET   CPL_2   
0DA1                CPL_2:    .SET   CPL_TOP   
0DA1                CPL_TOP:   .SET   $   
0DA1   07 06                  DW   dup   
0DA3   DC 13 EA 03            DW   here,store   
0DA7   52 02                  DW   execute   
0DA9                          ;*Macro unroll:  cEndIf
0DA9                          ;*Macro unroll:  cBRANCH_FWD
0DA9                CUR_ADR:   .SET   $   
0D9F                          .ORG   CPL_TOP - 2   
0D9F   0A 00                  DW   CUR_ADR - CPL_TOP + 2   
0DA9                          .ORG   CUR_ADR   
0DA9                          ;*Macro unroll:  CPL_POP
0DA9                CPL_COUNT:   .SET   CPL_COUNT - 1   
0DA9                CPL_TOP:   .SET   CPL_2   
0DA9                CPL_2:    .SET   CPL_3   
0DA9                CPL_3:    .SET   CPL_4   
0DA9                CPL_4:    .SET   CPL_5   
0DA9                CPL_5:    .SET   CPL_6   
0DA9                CPL_6:    .SET   CPL_7   
0DA9                CPL_7:    .SET   CPL_8   
0DA9                CPL_8:    .SET   CPL_9   
0DA9                CPL_9:    .SET   CPL_10   
0DA9                CPL_10:   .SET   0   
0DA9                          ;*Macro unroll:  EXIT                             ; return from the function.
0DA9   84 0F                  DW   exit   ; return from the function.
0DAB   C3 A8 07               JP   enter   
0DAE                             ; 
0DAE                             ; 
0DAE                             ; dictionary words
0DAE                             ; 
0DAE                             ; 
0DAE                          ;*Macro unroll: defword ":",1,0,colon
0DAE                HEADER_COLON:      
0DAE   84 0D                  DW   link   
0DB0                LINK:     .SET   HEADER_colon   
0DB0   01                     DB   0 + 1   
0DB1   3A                     DB   ":"   
0DB2                COLON:       
0DB2   CF                     RST   $08   ; enter forth
0DB3   4E 0E                  DW   create   ; create the dictionary entry / header
0DB5   DC 13 26 04            DW   here,fetch   ; back up 3 bytes to start of data area
0DB9   0E 03 03 00 B7 04      DW   lit,3,minus   
0DBF   DC 13 EA 03            DW   here,store   
0DC3   0E 03 CF 00 5E 04      DW   lit,rst08_opcode,ccomma   ; write z80 jp opcode to word
0DC9   8C 14 26 04 B0 02      DW   latest,fetch,hidden   ; make the word hidden (see below for definition).
0DCF   1D 05                  DW   rbrac   ; go into compile mode.
0DD1                          ;*Macro unroll:  EXIT                                ; return from the function.
0DD1   84 0F                  DW   exit   ; return from the function.
0DD3   C3 A8 07               JP   enter   
0DD6                          ;*Macro unroll: defword ";",1,msk_immed,semicolon
0DD6                HEADER_SEMICOLON:      
0DD6   AE 0D                  DW   link   
0DD8                LINK:     .SET   HEADER_semicolon   
0DD8   81                     DB   msk_immed + 1   
0DD9   3B                     DB   ";"   
0DDA                SEMICOLON:      
0DDA   CF                     RST   $08   ; enter forth
0DDB   0E 03 84 0F 0B 04      DW   lit,exit,comma   ; append exit (so the word will return).
0DE1   8C 14 26 04 B0 02      DW   latest,fetch,hidden   ; toggle hidden flag -- unhide the word (see below for definition).
0DE7   10 05                  DW   lbrac   ; go back to immediate mode.
0DE9                          ;*Macro unroll:  EXIT                                ; return from the function.
0DE9   84 0F                  DW   exit   ; return from the function.
0DEB   C3 A8 07               JP   enter   
0DEE                          ;*Macro unroll: defword ":noname",7,0,colonNoName
0DEE                HEADER_COLONNONAME:      
0DEE   D6 0D                  DW   link   
0DF0                LINK:     .SET   HEADER_colonNoName   
0DF0   07                     DB   0 + 7   
0DF1   3A 6E 6F 6E 61 6D 65   DB   ":noname"   
0DF8                COLONNONAME:      
0DF8   CF                     RST   $08   ; enter forth
0DF9   DC 13 26 04            DW   here,fetch   ; TOS = here
0DFD   0E 03 CF 00 5E 04      DW   lit,rst08_opcode,ccomma   ; write z80 jp opcode to word
0E03   1D 05                  DW   rbrac   ; go into compile mode.
0E05                          ;*Macro unroll:  EXIT                                ; return from the function.
0E05   84 0F                  DW   exit   ; return from the function.
0E07   C3 A8 07               JP   enter   
0E0A                          ;*Macro unroll: defword "variable",8,0,variable         ; ( n -- ) get name from input
0E0A                HEADER_VARIABLE:      ; ( n -- ) get name from input
0E0A   EE 0D                  DW   link   
0E0C                LINK:     .SET   HEADER_variable   
0E0C   08                     DB   0 + 8   
0E0D   76 61 72 69 61 62 6C 65 DB   "variable"   
0E15                VARIABLE:      
0E15   CF                     RST   $08   ; enter forth
0E16   0E 03 01 00 37 04      DW   lit,1,cells   
0E1C   DC 13 26 04 1B 06      DW   here,fetch,swap   ; n -- here n
0E22   04 0B                  DW   allot   ; allocate n bytes, push addr
0E24   B9 0E                  DW   constant   
0E26                          ;*Macro unroll:  EXIT
0E26   84 0F                  DW   exit   
0E28   C3 A8 07               JP   enter   
0E2B                          ;*Macro unroll: defword "buffer:",7,0,bufferColon       ; ( n -- ) get name from input
0E2B                HEADER_BUFFERCOLON:      ; ( n -- ) get name from input
0E2B   0A 0E                  DW   link   
0E2D                LINK:     .SET   HEADER_bufferColon   
0E2D   07                     DB   0 + 7   
0E2E   62 75 66 66 65 72 3A   DB   "buffer:"   
0E35                BUFFERCOLON:      
0E35   CF                     RST   $08   ; enter forth
0E36   DC 13 26 04 1B 06      DW   here,fetch,swap   ; n -- here n
0E3C   04 0B                  DW   allot   ; allocate n bytes, push addr
0E3E   B9 0E                  DW   constant   
0E40                          ;*Macro unroll:  EXIT
0E40   84 0F                  DW   exit   
0E42   C3 A8 07               JP   enter   
0E45                          ;*Macro unroll: defword "create",6,0,create             ; --
0E45                HEADER_CREATE:      ; --
0E45   2B 0E                  DW   link   
0E47                LINK:     .SET   HEADER_create   
0E47   06                     DB   0 + 6   
0E48   63 72 65 61 74 65      DB   "create"   
0E4E                CREATE:      
0E4E   CF                     RST   $08   ; enter forth
0E4F   DC 13 26 04            DW   here,fetch   ; get old "here"
0E53   8C 14 26 04 0B 04      DW   latest,fetch,comma   ; write link to previous word to "here"
0E59   8C 14 EA 03            DW   latest,store   ; update latest to old "here"
0E5D   3C 0B B5 0A            DW   bl,word   ; read word token
0E61   8C 04 CA 02 04 0B      DW   cfetch,oneplus,allot   ; 
0E67   0E 03 C3 00 5E 04      DW   lit,jp_opcode,cComma   ; compile default behavious
0E6D   0E 03 78 0E 0B 04      DW   lit,xcreate,comma   ; i.e. push addr of data area
0E73                          ;*Macro unroll:  EXIT                                ; exit from forth
0E73   84 0F                  DW   exit   ; exit from forth
0E75   C3 A8 07               JP   enter   
0E78                XCREATE:      
0E78   CF                     RST   $08   ; enter forth
0E79   8C 06                  DW   rfrom   ; push onto stack
0E7B                          ;*Macro unroll:  EXIT
0E7B   84 0F                  DW   exit   
0E7D   C3 A8 07               JP   enter   
0E80                          ;*Macro unroll: defword "does>", 5, msk_immed, does         ; --
0E80                HEADER_DOES:      ; --
0E80   45 0E                  DW   link   
0E82                LINK:     .SET   HEADER_does   
0E82   85                     DB   msk_immed + 5   
0E83   64 6F 65 73 3E         DB   "does>"   
0E88                DOES:        
0E88   CF                     RST   $08   ; enter forth
0E89   0E 03 5D 10 0B 04      DW   lit,xdoes,comma   
0E8F   0E 03 4D 10            DW   lit,dodoes   
0E93   DC 13 26 04            DW   here,fetch   
0E97   0E 03 CD 00            DW   lit,call_opcode   
0E9B   4F 06 3F 04            DW   over,cstore   
0E9F   CA 02 EA 03            DW   oneplus,store   
0EA3   0E 03 03 00 04 0B      DW   lit,3,allot   
0EA9                          ;*Macro unroll:  EXIT
0EA9   84 0F                  DW   exit   
0EAB   C3 A8 07               JP   enter   
0EAE                          ;*Macro unroll: defword "constant",8,0,constant         ; --
0EAE                HEADER_CONSTANT:      ; --
0EAE   80 0E                  DW   link   
0EB0                LINK:     .SET   HEADER_constant   
0EB0   08                     DB   0 + 8   
0EB1   63 6F 6E 73 74 61 6E 74 DB   "constant"   
0EB9                CONSTANT:      
0EB9   CF                     RST   $08   ; enter forth
0EBA   4E 0E 0B 04 5D 10      DW   create,comma,xdoes   
0EC0   CF                     RST   $08   
0EC1   8C 06                  DW   rfrom   ; push onto stack
0EC3   26 04                  DW   fetch   
0EC5                          ;*Macro unroll:  EXIT
0EC5   84 0F                  DW   exit   
0EC7   C3 A8 07               JP   enter   
0ECA                             ; 
0ECA                             ; 
0ECA                             ; Firth extended (non-standard) words
0ECA                             ; 
0ECA                             ; 
0ECA                          ;*Macro unroll: defword "S[",2,0,beginFrame             ; begin a stack frame
0ECA                HEADER_BEGINFRAME:      ; begin a stack frame
0ECA   AE 0E                  DW   link   
0ECC                LINK:     .SET   HEADER_beginFrame   
0ECC   02                     DB   0 + 2   
0ECD   53 5B                  DB   "S["   
0ECF                BEGINFRAME:      
0ECF   CF                     RST   $08   ; enter forth
0ED0   AF 13 07 06            DW   framePtr,dup   ; addr addr
0ED4   26 04 1B 06            DW   fetch,swap   ; framePtr0 addr
0ED8   DB 10 1B 06            DW   spfetch,swap   ; framePtr0 addr -- framePtr0 paramSP addr
0EDC   EA 03                  DW   store   ; framePtr0 paramSP addr -- framePtr0
0EDE                          ;*Macro unroll:  EXIT                                ; TOS = framePtr0
0EDE   84 0F                  DW   exit   ; TOS = framePtr0
0EE0   C3 A8 07               JP   enter   
0EE3                             ; ]S                                    ; framePtr0 result --
0EE3                          ;*Macro unroll: defword "]S",2,0,endFrame               ; end a stack frame
0EE3                HEADER_ENDFRAME:      ; end a stack frame
0EE3   CA 0E                  DW   link   
0EE5                LINK:     .SET   HEADER_endFrame   
0EE5   02                     DB   0 + 2   
0EE6   5D 53                  DB   "]S"   
0EE8                ENDFRAME:      
0EE8   CF                     RST   $08   ; enter forth
0EE9                             ; TOS = framePtr0
0EE9   1B 06 07 06            DW   swap,dup   ; result framePtr0 framePtr0
0EED   AF 13 EA 03            DW   framePtr,store   ; result framePtr0
0EF1   1B 06 4F 06 CA 02      DW   swap,over,oneplus   ; framePtr0 result framePtr0+1
0EF7   EA 03                  DW   store   ; framePtr0
0EF9   F3 10                  DW   spstore   ; store framePtr0 in sp
0EFB                          ;*Macro unroll:  EXIT
0EFB   84 0F                  DW   exit   
0EFD   C3 A8 07               JP   enter   
0F00                          ;*Macro unroll: defword "param",5,0,param               ; n -- addr return addr of param n, -ve args, +ve locals
0F00                HEADER_PARAM:      ; n -- addr return addr of param n, -ve args, +ve locals
0F00   E3 0E                  DW   link   
0F02                LINK:     .SET   HEADER_param   
0F02   05                     DB   0 + 5   
0F03   70 61 72 61 6D         DB   "param"   
0F08                PARAM:       
0F08   CF                     RST   $08   ; enter forth
0F09   A6 10 37 04            DW   oneminus,cells   ; n *= 2
0F0D   AF 13 26 04 97 04      DW   framePtr,fetch,plus   
0F13                          ;*Macro unroll:  EXIT
0F13   84 0F                  DW   exit   
0F15   C3 A8 07               JP   enter   
0F18                          ;*Macro unroll: defword "p1",2,0,p1                     ;  -- p1addr
0F18                HEADER_P1:      ;  -- p1addr
0F18   00 0F                  DW   link   
0F1A                LINK:     .SET   HEADER_p1   
0F1A   02                     DB   0 + 2   
0F1B   70 31                  DB   "p1"   
0F1D                P1:          
0F1D   CF                     RST   $08   ; enter forth
0F1E   0E 03 FF FF 08 0F 26 04 DW   lit,-1,param,fetch   
0F26                          ;*Macro unroll:  EXIT
0F26   84 0F                  DW   exit   
0F28   C3 A8 07               JP   enter   
0F2B                          ;*Macro unroll: defword "p2",2,0,p2                     ;  -- p2addr
0F2B                HEADER_P2:      ;  -- p2addr
0F2B   18 0F                  DW   link   
0F2D                LINK:     .SET   HEADER_p2   
0F2D   02                     DB   0 + 2   
0F2E   70 32                  DB   "p2"   
0F30                P2:          
0F30   CF                     RST   $08   ; enter forth
0F31   0E 03 FE FF 08 0F 26 04 DW   lit,-2,param,fetch   
0F39                          ;*Macro unroll:  EXIT
0F39   84 0F                  DW   exit   
0F3B   C3 A8 07               JP   enter   
0F3E                          ;*Macro unroll: defword "p3",2,0,p3                     ;  -- p3addr
0F3E                HEADER_P3:      ;  -- p3addr
0F3E   2B 0F                  DW   link   
0F40                LINK:     .SET   HEADER_p3   
0F40   02                     DB   0 + 2   
0F41   70 33                  DB   "p3"   
0F43                P3:          
0F43   CF                     RST   $08   ; enter forth
0F44   0E 03 FD FF 08 0F 26 04 DW   lit,-3,param,fetch   
0F4C                          ;*Macro unroll:  EXIT
0F4C   84 0F                  DW   exit   
0F4E   C3 A8 07               JP   enter   
0F51                          ;*Macro unroll: defword "v1",2,0,v1                     ;  -- v1addr
0F51                HEADER_V1:      ;  -- v1addr
0F51   3E 0F                  DW   link   
0F53                LINK:     .SET   HEADER_v1   
0F53   02                     DB   0 + 2   
0F54   76 31                  DB   "v1"   
0F56                V1:          
0F56   CF                     RST   $08   ; enter forth
0F57   0E 03 01 00 08 0F      DW   lit,1,param   
0F5D                          ;*Macro unroll:  EXIT
0F5D   84 0F                  DW   exit   
0F5F   C3 A8 07               JP   enter   
0F62                          ;*Macro unroll: defword "v2",2,0,v2                     ;  -- v2addr
0F62                HEADER_V2:      ;  -- v2addr
0F62   51 0F                  DW   link   
0F64                LINK:     .SET   HEADER_v2   
0F64   02                     DB   0 + 2   
0F65   76 32                  DB   "v2"   
0F67                V2:          
0F67   CF                     RST   $08   ; enter forth
0F68   0E 03 02 00 08 0F      DW   lit,2,param   
0F6E                          ;*Macro unroll:  EXIT
0F6E   84 0F                  DW   exit   
0F70   C3 A8 07               JP   enter   
0F73                          ;*Macro unroll: defword "v3",2,0,v3                     ;  -- v3addr
0F73                HEADER_V3:      ;  -- v3addr
0F73   62 0F                  DW   link   
0F75                LINK:     .SET   HEADER_v3   
0F75   02                     DB   0 + 2   
0F76   76 33                  DB   "v3"   
0F78                V3:          
0F78   CF                     RST   $08   ; enter forth
0F79   0E 03 03 00 08 0F      DW   lit,3,param   
0F7F                          ;*Macro unroll:  EXIT
0F7F   84 0F                  DW   exit   
0F81   C3 A8 07               JP   enter   
0F84                             ; defword "#base",5,0,hashbase            ; n --      ; switch to basel for one word
0F84                             ;     rst $08
0F84                             ;     dw base,fetch                       ; 16 base0
0F84                             ;     dw swap, base, store                ; base0
0F84                             ;     dw lit, $20, word, count            ; base0 addr length
0F84                             ;     dw dup, zEqual
0F84                             ;     cIf
0F84                             ;         dw drop, drop                   ; base0
0F84                             ;     cElse
0F84                             ;         dw number                       ; base0 value error
0F84                             ;         dw zNotEqual                    ; base0 value
0F84                             ;         dw dup, dot
0F84                             ;         cif
0F84                             ;             dw drop                     ; base0
0F84                             ;             dw litstr
0F84                             ;             .pstr "Error: parsing"
0F84                             ;             dw type
0F84                             ;         cElse
0F84                             ;             dw swap                     ; value base0
0F84                             ;         cEndIf
0F84                             ;     cEndif
0F84                             ;     dw base, store                      ; restore base0
0F84                             ;     EXIT
0F84                             ; defword "#h",2,0,hashh                  ; switch to hex for one word
0F84                             ;     rst $08                             ; enter forth
0F84                             ;     dw lit,16,hashbase
0F84                             ;     EXIT
0F84                             ; defword "#d",2,0,hashd                  ; switch to decimal for one word
0F84                             ;     rst $08                             ; enter forth
0F84                             ;     dw lit,10,hashbase
0F84                             ;     EXIT
0F84                             ; defword "define:",7,0,defineColon
0F84                             ;     rst $08                             ; enter forth
0F84                             ;     dw create                           ; create the dictionary entry / header
0F84                             ;     dw here,fetch                       ; back up 3 bytes to start of data area
0F84                             ;     dw lit, 3, minus
0F84                             ;     dw here, store
0F84                             ;     dw lit, jp_opcode, ccomma          ; write z80 jp opcode to word
0F84                             ;     dw comma                            ; compile address TOS
0F84                             ;     EXIT                             ; return from the function.
0F84                             ; defword "stack",6,0,stackColon          ; ( n -- addr ) allocates memory and puts pointer at 0
0F84                             ;     rst $08                             ; enter forth
0F84                             ;     dw twoPlus, allot                   ; allocate n + 2 bytes, push addr
0F84                             ;     dw dup                              ; addr -- addr addr
0F84                             ;     dw dup, twoPlus, swap, store        ; addr addr -- addr
0F84                             ;     EXIT
0F84                             ; defword "stackPush",5,0,stackPush       ; value stack --
0F84                             ;     rst $08                             ; enter forth
0F84                             ;     dw dup, nrot                        ; value stack - stack value stack
0F84                             ;     dw fetch, dup, nrot                 ; stack value ptr -- stack ptr value ptr
0F84                             ;     dw store                            ; stack ptr value ptr -- stack ptr
0F84                             ;     dw twoplus, swap, store             ; stack ptr --
0F84                             ;     EXIT
0F84                             ; defword "stackPop",5,0,stackPop         ; stack -- value
0F84                             ;     rst $08                             ; enter forth
0F84                             ;     dw dup                              ; stack -- stack stack
0F84                             ;     dw fetch, dup                       ; stack stack -- stack ptr ptr
0F84                             ;     dw fetch, nrot                      ; stack ptr ptr -- value stack ptr
0F84                             ;     dw twominus, swap                   ; value stack ptr -- value ptr stack
0F84                             ;     dw store
0F84                             ;     EXIT
0F84                             ; litIf:
0F84                             ;     rst $08
0F84                             ;     dw rfrom, dup
0F84                             ;     dw lit, 4, plus, tor                ;
0F84                             ;     dw swap
0F84                             ;     cIf
0F84                             ;         dw fetch
0F84                             ;     cElse
0F84                             ;         dw twoplus, fetch
0F84                             ;     cEndif
0F84                             ;     EXIT
0F84                             ; litComma:                               ; pushes ptr to string and length on stack
0F84                             ;     rst $08                             ; enter forth
0F84                             ;     dw rfrom, dup
0F84                             ;     dw lit, 2, plus, tor
0F84                             ;     dw fetch, comma
0F84                             ;     EXIT
0F84                             ; litCComma:                              ; pushes ptr to string and length on stack
0F84                             ;     rst $08                             ; enter forth
0F84                             ;     dw rfrom, dup
0F84                             ;     dw lit, 2, plus, tor
0F84                             ;     dw fetch, cComma
0F84                             ;     EXIT
0F84                             ; 
0F84                             ; headless words
0F84                             ; 
0F84                             ; forth words not in dictionary
0F84                             ; 
0F84                EXIT:        
0F84   E1                     POP   HL   
0F85   FD E9                  JP   (IY)   
0F87                EXIT_FORTH:      
0F87   C9                     RET      
0F88                LITSTR:      ; pushes ptr to string and length on stack
0F88   CF                     RST   $08   ; enter forth
0F89   8C 06                  DW   rfrom   
0F8B   EA 0A 4F 06 4F 06 97 04 DW   count,over,over,plus   
0F93   77 06                  DW   tor   
0F95                          ;*Macro unroll:  EXIT
0F95   84 0F                  DW   exit   
0F97   C3 A8 07               JP   enter   
0F9A                INTERPTOKEN:      ; ptr len --
0F9A   CF                     RST   $08   
0F9B   4F 06 4F 06 36 02      DW   over,over,find   ; ptr len -- ptr len addr
0FA1   07 06 40 05            DW   dup,zNotEqual   
0FA5                          ;*Macro unroll:  cIf
0FA5   E2 02 00 00            DW   ZBRANCH,0   
0FA9                          ;*Macro unroll:  CPL_PUSH $
0FA9                CPL_COUNT:   .SET   CPL_COUNT + 1   
0FA9                CPL_10:   .SET   CPL_9   
0FA9                CPL_9:    .SET   CPL_8   
0FA9                CPL_8:    .SET   CPL_7   
0FA9                CPL_7:    .SET   CPL_6   
0FA9                CPL_6:    .SET   CPL_5   
0FA9                CPL_5:    .SET   CPL_4   
0FA9                CPL_4:    .SET   CPL_3   
0FA9                CPL_3:    .SET   CPL_2   
0FA9                CPL_2:    .SET   CPL_TOP   
0FA9                CPL_TOP:   .SET   $   
0FA9   B6 0F                  DW   interpWord   
0FAB                          ;*Macro unroll:  cElse
0FAB   FF 02 00 00            DW   BRANCH,0   
0FAF                          ;*Macro unroll:  cBRANCH_FWD
0FAF                CUR_ADR:   .SET   $   
0FA7                          .ORG   CPL_TOP - 2   
0FA7   08 00                  DW   CUR_ADR - CPL_TOP + 2   
0FAF                          .ORG   CUR_ADR   
0FAF                CPL_TOP:   .SET   $   
0FAF   FA 0F                  DW   interpLiteral   
0FB1                          ;*Macro unroll:  cEndif
0FB1                          ;*Macro unroll:  cBRANCH_FWD
0FB1                CUR_ADR:   .SET   $   
0FAD                          .ORG   CPL_TOP - 2   
0FAD   04 00                  DW   CUR_ADR - CPL_TOP + 2   
0FB1                          .ORG   CUR_ADR   
0FB1                          ;*Macro unroll:  CPL_POP
0FB1                CPL_COUNT:   .SET   CPL_COUNT - 1   
0FB1                CPL_TOP:   .SET   CPL_2   
0FB1                CPL_2:    .SET   CPL_3   
0FB1                CPL_3:    .SET   CPL_4   
0FB1                CPL_4:    .SET   CPL_5   
0FB1                CPL_5:    .SET   CPL_6   
0FB1                CPL_6:    .SET   CPL_7   
0FB1                CPL_7:    .SET   CPL_8   
0FB1                CPL_8:    .SET   CPL_9   
0FB1                CPL_9:    .SET   CPL_10   
0FB1                CPL_10:   .SET   0   
0FB1                          ;*Macro unroll:  EXIT
0FB1   84 0F                  DW   exit   
0FB3   C3 A8 07               JP   enter   
0FB6                INTERPWORD:      ; ptr len addr --
0FB6   CF                     RST   $08   ; enter forth
0FB7   1B 06 3B 06 1B 06 3B 06 DW   swap,drop,swap,drop   ; ptr len addr -- addr
0FBF   07 06 0E 03 02 00 97 04 8C 04 DW   dup,lit,2,plus,cfetch   ; ( headptr -- headptr flags ) add 2 to headptr
0FC9   0E 03 80 00 54 05      DW   lit,msk_immed,and   ; ( headptr flags -- headptr immedflag )
0FCF   2B 05                  DW   zEqual   
0FD1                          ;*Macro unroll:  cif
0FD1   E2 02 00 00            DW   ZBRANCH,0   
0FD5                          ;*Macro unroll:  CPL_PUSH $
0FD5                CPL_COUNT:   .SET   CPL_COUNT + 1   
0FD5                CPL_10:   .SET   CPL_9   
0FD5                CPL_9:    .SET   CPL_8   
0FD5                CPL_8:    .SET   CPL_7   
0FD5                CPL_7:    .SET   CPL_6   
0FD5                CPL_6:    .SET   CPL_5   
0FD5                CPL_5:    .SET   CPL_4   
0FD5                CPL_4:    .SET   CPL_3   
0FD5                CPL_3:    .SET   CPL_2   
0FD5                CPL_2:    .SET   CPL_TOP   
0FD5                CPL_TOP:   .SET   $   
0FD5   CC 0A                  DW   tcfa   ; ( headptr -- xt )
0FD7   10 14 26 04            DW   state,fetch   
0FDB   2A 14 26 04            DW   nesting,fetch   
0FDF   6C 05                  DW   or   
0FE1                          ;*Macro unroll:  cif
0FE1   E2 02 00 00            DW   ZBRANCH,0   
0FE5                          ;*Macro unroll:  CPL_PUSH $
0FE5                CPL_COUNT:   .SET   CPL_COUNT + 1   
0FE5                CPL_10:   .SET   CPL_9   
0FE5                CPL_9:    .SET   CPL_8   
0FE5                CPL_8:    .SET   CPL_7   
0FE5                CPL_7:    .SET   CPL_6   
0FE5                CPL_6:    .SET   CPL_5   
0FE5                CPL_5:    .SET   CPL_4   
0FE5                CPL_4:    .SET   CPL_3   
0FE5                CPL_3:    .SET   CPL_2   
0FE5                CPL_2:    .SET   CPL_TOP   
0FE5                CPL_TOP:   .SET   $   
0FE5   0B 04                  DW   comma   ; compile xt
0FE7                          ;*Macro unroll:  cElse
0FE7   FF 02 00 00            DW   BRANCH,0   
0FEB                          ;*Macro unroll:  cBRANCH_FWD
0FEB                CUR_ADR:   .SET   $   
0FE3                          .ORG   CPL_TOP - 2   
0FE3   08 00                  DW   CUR_ADR - CPL_TOP + 2   
0FEB                          .ORG   CUR_ADR   
0FEB                CPL_TOP:   .SET   $   
0FEB   52 02                  DW   execute   ; execute xt
0FED                          ;*Macro unroll:  cendif
0FED                          ;*Macro unroll:  cBRANCH_FWD
0FED                CUR_ADR:   .SET   $   
0FE9                          .ORG   CPL_TOP - 2   
0FE9   04 00                  DW   CUR_ADR - CPL_TOP + 2   
0FED                          .ORG   CUR_ADR   
0FED                          ;*Macro unroll:  CPL_POP
0FED                CPL_COUNT:   .SET   CPL_COUNT - 1   
0FED                CPL_TOP:   .SET   CPL_2   
0FED                CPL_2:    .SET   CPL_3   
0FED                CPL_3:    .SET   CPL_4   
0FED                CPL_4:    .SET   CPL_5   
0FED                CPL_5:    .SET   CPL_6   
0FED                CPL_6:    .SET   CPL_7   
0FED                CPL_7:    .SET   CPL_8   
0FED                CPL_8:    .SET   CPL_9   
0FED                CPL_9:    .SET   CPL_10   
0FED                CPL_10:   .SET   0   
0FED                          ;*Macro unroll:  cElse
0FED   FF 02 00 00            DW   BRANCH,0   
0FF1                          ;*Macro unroll:  cBRANCH_FWD
0FF1                CUR_ADR:   .SET   $   
0FD3                          .ORG   CPL_TOP - 2   
0FD3   1E 00                  DW   CUR_ADR - CPL_TOP + 2   
0FF1                          .ORG   CUR_ADR   
0FF1                CPL_TOP:   .SET   $   
0FF1   CC 0A 52 02            DW   tcfa,execute   ; execute xt
0FF5                          ;*Macro unroll:  cendif
0FF5                          ;*Macro unroll:  cBRANCH_FWD
0FF5                CUR_ADR:   .SET   $   
0FEF                          .ORG   CPL_TOP - 2   
0FEF   06 00                  DW   CUR_ADR - CPL_TOP + 2   
0FF5                          .ORG   CUR_ADR   
0FF5                          ;*Macro unroll:  CPL_POP
0FF5                CPL_COUNT:   .SET   CPL_COUNT - 1   
0FF5                CPL_TOP:   .SET   CPL_2   
0FF5                CPL_2:    .SET   CPL_3   
0FF5                CPL_3:    .SET   CPL_4   
0FF5                CPL_4:    .SET   CPL_5   
0FF5                CPL_5:    .SET   CPL_6   
0FF5                CPL_6:    .SET   CPL_7   
0FF5                CPL_7:    .SET   CPL_8   
0FF5                CPL_8:    .SET   CPL_9   
0FF5                CPL_9:    .SET   CPL_10   
0FF5                CPL_10:   .SET   0   
0FF5                          ;*Macro unroll:  EXIT
0FF5   84 0F                  DW   exit   
0FF7   C3 A8 07               JP   enter   
0FFA                INTERPLITERAL:      ; ptr len addr --
0FFA   CF                     RST   $08   ; enter forth
0FFB   3B 06                  DW   drop   ; ptr len addr - ptr len
0FFD   68 02 2B 05            DW   number,zEqual   ; parse to number
1001                          ;*Macro unroll:  cif
1001   E2 02 00 00            DW   ZBRANCH,0   
1005                          ;*Macro unroll:  CPL_PUSH $
1005                CPL_COUNT:   .SET   CPL_COUNT + 1   
1005                CPL_10:   .SET   CPL_9   
1005                CPL_9:    .SET   CPL_8   
1005                CPL_8:    .SET   CPL_7   
1005                CPL_7:    .SET   CPL_6   
1005                CPL_6:    .SET   CPL_5   
1005                CPL_5:    .SET   CPL_4   
1005                CPL_4:    .SET   CPL_3   
1005                CPL_3:    .SET   CPL_2   
1005                CPL_2:    .SET   CPL_TOP   
1005                CPL_TOP:   .SET   $   
1005   10 14 26 04            DW   state,fetch   
1009   2A 14 26 04            DW   nesting,fetch   
100D   6C 05                  DW   or   
100F                          ;*Macro unroll:  cIf
100F   E2 02 00 00            DW   ZBRANCH,0   
1013                          ;*Macro unroll:  CPL_PUSH $
1013                CPL_COUNT:   .SET   CPL_COUNT + 1   
1013                CPL_10:   .SET   CPL_9   
1013                CPL_9:    .SET   CPL_8   
1013                CPL_8:    .SET   CPL_7   
1013                CPL_7:    .SET   CPL_6   
1013                CPL_6:    .SET   CPL_5   
1013                CPL_5:    .SET   CPL_4   
1013                CPL_4:    .SET   CPL_3   
1013                CPL_3:    .SET   CPL_2   
1013                CPL_2:    .SET   CPL_TOP   
1013                CPL_TOP:   .SET   $   
1013   0E 03 0E 03            DW   lit,lit   ; (val -- val "lit" )
1017   0B 04 0B 04            DW   comma,comma   ; compile "lit" val
101B                          ;*Macro unroll:  cEndIf
101B                          ;*Macro unroll:  cBRANCH_FWD
101B                CUR_ADR:   .SET   $   
1011                          .ORG   CPL_TOP - 2   
1011   0A 00                  DW   CUR_ADR - CPL_TOP + 2   
101B                          .ORG   CUR_ADR   
101B                          ;*Macro unroll:  CPL_POP
101B                CPL_COUNT:   .SET   CPL_COUNT - 1   
101B                CPL_TOP:   .SET   CPL_2   
101B                CPL_2:    .SET   CPL_3   
101B                CPL_3:    .SET   CPL_4   
101B                CPL_4:    .SET   CPL_5   
101B                CPL_5:    .SET   CPL_6   
101B                CPL_6:    .SET   CPL_7   
101B                CPL_7:    .SET   CPL_8   
101B                CPL_8:    .SET   CPL_9   
101B                CPL_9:    .SET   CPL_10   
101B                CPL_10:   .SET   0   
101B                          ;*Macro unroll:  cElse
101B   FF 02 00 00            DW   BRANCH,0   
101F                          ;*Macro unroll:  cBRANCH_FWD
101F                CUR_ADR:   .SET   $   
1003                          .ORG   CPL_TOP - 2   
1003   1C 00                  DW   CUR_ADR - CPL_TOP + 2   
101F                          .ORG   CUR_ADR   
101F                CPL_TOP:   .SET   $   
101F   3B 06                  DW   drop   ; ( ptr len zero -- ptr len ), not found
1021   88 0F                  DW   litstr   ; err != 0, parse error
1023   0E 45 72 72 6F 72 3A 20 70 61 72 73 69 6E 67 .PSTR   "Error: parsing"   
1032   CC 06                  DW   type   
1034                          ;*Macro unroll:  cEndIf
1034                          ;*Macro unroll:  cBRANCH_FWD
1034                CUR_ADR:   .SET   $   
101D                          .ORG   CPL_TOP - 2   
101D   17 00                  DW   CUR_ADR - CPL_TOP + 2   
1034                          .ORG   CUR_ADR   
1034                          ;*Macro unroll:  CPL_POP
1034                CPL_COUNT:   .SET   CPL_COUNT - 1   
1034                CPL_TOP:   .SET   CPL_2   
1034                CPL_2:    .SET   CPL_3   
1034                CPL_3:    .SET   CPL_4   
1034                CPL_4:    .SET   CPL_5   
1034                CPL_5:    .SET   CPL_6   
1034                CPL_6:    .SET   CPL_7   
1034                CPL_7:    .SET   CPL_8   
1034                CPL_8:    .SET   CPL_9   
1034                CPL_9:    .SET   CPL_10   
1034                CPL_10:   .SET   0   
1034                          ;*Macro unroll:  EXIT
1034   84 0F                  DW   exit   
1036   C3 A8 07               JP   enter   
1039                NESTPLUS:      
1039   2A C6 22               LD   HL,(VAR_NESTING)   
103C   23                     INC   HL   
103D   22 C6 22               LD   (VAR_NESTING),HL   
1040                          ;*Macro unroll:  NEXT
1040   C3 A8 07               JP   enter   
1043                NESTMINUS:      
1043   2A C6 22               LD   HL,(VAR_NESTING)   
1046   2B                     DEC   HL   
1047   22 C6 22               LD   (VAR_NESTING),HL   
104A                          ;*Macro unroll:  NEXT
104A   C3 A8 07               JP   enter   
104D                DODOES:      ; -- a-addr
104D                          ;*Macro unroll:  ppush0 B,C
104D   DD 71 00               LD   (IX+0),C   
1050   DD 23                  INC   IX   
1052   DD 70 00               LD   (IX+0),B   
1055   DD 23                  INC   IX   
1057   E1                     POP   HL   ; parameter field address
1058   C1                     POP   BC   
1059   E5                     PUSH   HL   
105A                          ;*Macro unroll:  NEXT
105A   C3 A8 07               JP   enter   
105D                XDOES:       ; --
105D   CF                     RST   $08   ; enter forth
105E   8C 06                  DW   rfrom   
1060   8C 14 26 04 CC 0A      DW   latest,fetch,tcfa   
1066   0E 03 CD 00            DW   lit,call_opcode   
106A   4F 06 3F 04            DW   over,cstore   
106E   CA 02 EA 03            DW   oneplus,store   
1072                          ;*Macro unroll:  EXIT
1072   84 0F                  DW   exit   
1074   C3 A8 07               JP   enter   
1077                             ; words must preserve: BC, DE, SP, IX
1077                             ; words may destroy: HL, IY, AF, AF", BC", DE" HL"
1077                          ;*Macro unroll: defword "words", 5, 0, WORDS
1077                HEADER_WORDS:      
1077   73 0F                  DW   link   
1079                LINK:     .SET   HEADER_WORDS   
1079   05                     DB   0 + 5   
107A   77 6F 72 64 73         DB   "words"   
107F                WORDS:       
107F   C5                     PUSH   BC   
1080   CD 8F 09               CALL   listWords   
1083   C1                     POP   BC   
1084                          ;*Macro unroll:  NEXT
1084   C3 A8 07               JP   enter   
1087                          ;*Macro unroll: defword "print",5,0,PRINT
1087                HEADER_PRINT:      
1087   77 10                  DW   link   
1089                LINK:     .SET   HEADER_PRINT   
1089   05                     DB   0 + 5   
108A   70 72 69 6E 74         DB   "print"   
108F                PRINT:       
108F                          ;*Macro unroll:  ppop D,E
108F   50                     LD   D,B   
1090   59                     LD   E,C   
1091                          ;*Macro unroll:  ppop0 B,C
1091   DD 2B                  DEC   IX   
1093   DD 46 00               LD   B,(IX+0)   
1096   DD 2B                  DEC   IX   
1098   DD 4E 00               LD   C,(IX+0)   
109B   CD C4 01               CALL   printPStr   
109E                          ;*Macro unroll:  NEXT
109E   C3 A8 07               JP   enter   
10A1                          ;*Macro unroll: defword "1-",2,0,oneMinus
10A1                HEADER_ONEMINUS:      
10A1   87 10                  DW   link   
10A3                LINK:     .SET   HEADER_oneMinus   
10A3   02                     DB   0 + 2   
10A4   31 2D                  DB   "1-"   
10A6                ONEMINUS:      
10A6   0B                     DEC   BC   
10A7                          ;*Macro unroll:  NEXT
10A7   C3 A8 07               JP   enter   
10AA                          ;*Macro unroll: defword "2-",2,0,twoMinus
10AA                HEADER_TWOMINUS:      
10AA   A1 10                  DW   link   
10AC                LINK:     .SET   HEADER_twoMinus   
10AC   02                     DB   0 + 2   
10AD   32 2D                  DB   "2-"   
10AF                TWOMINUS:      
10AF   0B                     DEC   BC   
10B0   0B                     DEC   BC   
10B1                          ;*Macro unroll:  NEXT
10B1   C3 A8 07               JP   enter   
10B4                             ; 1*      n1/u1 -- n2/u2            do nothing
10B4                          ;*Macro unroll: defword "noop",4,0,noop
10B4                HEADER_NOOP:      
10B4   AA 10                  DW   link   
10B6                LINK:     .SET   HEADER_noop   
10B6   04                     DB   0 + 4   
10B7   6E 6F 6F 70            DB   "noop"   
10BB                NOOP:        
10BB                          ;*Macro unroll:  NEXT
10BB   C3 A8 07               JP   enter   
10BE                             ;z RSP!  a-addr --                  set return stack pointer
10BE                          ;*Macro unroll: defword "rsp!",4,0,RSPSTORE
10BE                HEADER_RSPSTORE:      
10BE   B4 10                  DW   link   
10C0                LINK:     .SET   HEADER_RSPSTORE   
10C0   04                     DB   0 + 4   
10C1   72 73 70 21            DB   "rsp!"   
10C5                RSPSTORE:      
10C5                          ;*Macro unroll:  SET_RET_SP B,C
10C5                          ;*Macro unroll:  loadWord H,L, B,C
10C5   69                     LD   L,C   
10C6   60                     LD   H,B   
10C7   F9                     LD   SP,HL   
10C8                          ;*Macro unroll: 	ppop0 B,C                      ; POP TOS
10C8   DD 2B                  DEC   IX   ; POP TOS
10CA   DD 46 00               LD   B,(IX+0)   
10CD   DD 2B                  DEC   IX   
10CF   DD 4E 00               LD   C,(IX+0)   
10D2                          ;*Macro unroll:  NEXT
10D2   C3 A8 07               JP   enter   
10D5                          ;*Macro unroll: defword "sp@",3,0,SPFETCH
10D5                HEADER_SPFETCH:      
10D5   BE 10                  DW   link   
10D7                LINK:     .SET   HEADER_SPFETCH   
10D7   03                     DB   0 + 3   
10D8   73 70 40               DB   "sp@"   
10DB                SPFETCH:      
10DB   DD E5                  PUSH   IX   
10DD   E1                     POP   HL   
10DE                          ;*Macro unroll:  ppush H,L
10DE                          ;*Macro unroll:  ppush0 B,C             ; push TOS reg pair
10DE   DD 71 00               LD   (IX+0),C   ; push TOS reg pair
10E1   DD 23                  INC   IX   
10E3   DD 70 00               LD   (IX+0),B   
10E6   DD 23                  INC   IX   
10E8   44                     LD   B,H   
10E9   4D                     LD   C,L   
10EA                          ;*Macro unroll:  NEXT
10EA   C3 A8 07               JP   enter   
10ED                          ;*Macro unroll: defword "sp!",3,0,SPSTORE
10ED                HEADER_SPSTORE:      
10ED   D5 10                  DW   link   
10EF                LINK:     .SET   HEADER_SPSTORE   
10EF   03                     DB   0 + 3   
10F0   73 70 21               DB   "sp!"   
10F3                SPSTORE:      
10F3                          ;*Macro unroll:  ppop H,L
10F3   60                     LD   H,B   
10F4   69                     LD   L,C   
10F5                          ;*Macro unroll:  ppop0 B,C
10F5   DD 2B                  DEC   IX   
10F7   DD 46 00               LD   B,(IX+0)   
10FA   DD 2B                  DEC   IX   
10FC   DD 4E 00               LD   C,(IX+0)   
10FF   E5                     PUSH   HL   
1100   DD E1                  POP   IX   
1102                          ;*Macro unroll:  NEXT
1102   C3 A8 07               JP   enter   
1105                             ; 
1105                             ; 
1105                             ; memory access
1105                             ; 
1105                             ; 
1105                             ; CELL+    c-addr1 -- c-addr2   add cell size to addr
1105                          ;*Macro unroll: defword "cell+",5,0,CELLPLUS
1105                HEADER_CELLPLUS:      
1105   ED 10                  DW   link   
1107                LINK:     .SET   HEADER_CELLPLUS   
1107   05                     DB   0 + 5   
1108   63 65 6C 6C 2B         DB   "cell+"   
110D                CELLPLUS:      
110D   C3 D3 02               JP   twoplus   
1110                             ; CHAR+    c-addr1 -- c-addr2   add char size to addr
1110                          ;*Macro unroll: defword "char+",5,0,CHARPLUS
1110                HEADER_CHARPLUS:      
1110   05 11                  DW   link   
1112                LINK:     .SET   HEADER_CHARPLUS   
1112   05                     DB   0 + 5   
1113   63 68 61 72 2B         DB   "char+"   
1118                CHARPLUS:      
1118   C3 CA 02               JP   oneplus   
111B                             ; CELLS   ( n1 -- n2 ) n2 is the size in address units of n1 cells.
111B                          ;*Macro unroll: defword "chars",5,0,CHARS
111B                HEADER_CHARS:      
111B   10 11                  DW   link   
111D                LINK:     .SET   HEADER_CHARS   
111D   05                     DB   0 + 5   
111E   63 68 61 72 73         DB   "chars"   
1123                CHARS:       
1123   C3 BB 10               JP   noop   
1126                             ; 
1126                             ; 
1126                             ; arithmetic
1126                             ; 
1126                             ; 
1126                             ; */MOD star-slash-mod
1126                             ; 2/      x1 -- x2                  arithmetic right shift
1126                          ;*Macro unroll: defword "2/",2,0,TWOSLASH
1126                HEADER_TWOSLASH:      
1126   1B 11                  DW   link   
1128                LINK:     .SET   HEADER_TWOSLASH   
1128   02                     DB   0 + 2   
1129   32 2F                  DB   "2/"   
112B                TWOSLASH:      
112B   CB 28                  SRA   B   
112D   CB 19                  RR   C   
112F                          ;*Macro unroll:  NEXT
112F   C3 A8 07               JP   enter   
1132                             ; LSHIFT  x1 u -- x2       logical L shift u places
1132                          ;*Macro unroll: defword "lshift",6,0,lShift
1132                HEADER_LSHIFT:      
1132   26 11                  DW   link   
1134                LINK:     .SET   HEADER_lShift   
1134   06                     DB   0 + 6   
1135   6C 73 68 69 66 74      DB   "lshift"   
113B                LSHIFT:      
113B                          ;*Macro unroll:  ppop0 H,L              ;   NB: hi 8 bits ignored!
113B   DD 2B                  DEC   IX   ;   NB: hi 8 bits ignored!
113D   DD 66 00               LD   H,(IX+0)   
1140   DD 2B                  DEC   IX   
1142   DD 6E 00               LD   L,(IX+0)   
1145   41                     LD   B,C   ; b = loop counter
1146   04                     INC   B   ; test for counter=0 case
1147   18 06                  JR   LSHIFT2   
1149                          ;*Macro unroll:  _do
1149   18 03                  JR   L_M_2304   
114B   C3 4B 11               JP   $   
114E                          ;*Macro unroll:  DLOOP_PUSH $
114E                DLOOP_COUNT:   .SET   DLOOP_COUNT + 1   
114E                DLOOP_12:   .SET   DLOOP_11   
114E                DLOOP_11:   .SET   DLOOP_10   
114E                DLOOP_10:   .SET   DLOOP_9   
114E                DLOOP_9:   .SET   DLOOP_8   
114E                DLOOP_8:   .SET   DLOOP_7   
114E                DLOOP_7:   .SET   DLOOP_6   
114E                DLOOP_6:   .SET   DLOOP_5   
114E                DLOOP_5:   .SET   DLOOP_4   
114E                DLOOP_4:   .SET   DLOOP_3   
114E                DLOOP_3:   .SET   DLOOP_2   
114E                DLOOP_2:   .SET   DLOOP_TOP   
114E                DLOOP_TOP:   .SET   $   
114E                L_M_2304:      
114E   29                     ADD   HL,HL   ; left shift HL, n times
114F                LSHIFT2:      
114F                          ;*Macro unroll:  _djnz
114F   10 FD                  DJNZ   DLOOP_TOP   
1151                          ;*Macro unroll:  DLOOP_FWD
1151                CUR_ADR:   .SET   $   
114C                          .ORG   DLOOP_TOP - 2   
114C   51 11                  DW   CUR_ADR   
1151                          .ORG   CUR_ADR   
1151                          ;*Macro unroll:  DLOOP_POP
1151                DLOOP_COUNT:   .SET   DLOOP_COUNT - 1   
1151                DLOOP_TOP:   .SET   DLOOP_2   
1151                DLOOP_2:   .SET   DLOOP_3   
1151                DLOOP_3:   .SET   DLOOP_4   
1151                DLOOP_4:   .SET   DLOOP_5   
1151                DLOOP_5:   .SET   DLOOP_6   
1151                DLOOP_6:   .SET   DLOOP_7   
1151                DLOOP_7:   .SET   DLOOP_8   
1151                DLOOP_8:   .SET   DLOOP_9   
1151                DLOOP_9:   .SET   DLOOP_10   
1151                DLOOP_10:   .SET   DLOOP_11   
1151                DLOOP_11:   .SET   DLOOP_12   
1151                DLOOP_12:   .SET   0   
1151                          ;*Macro unroll:  loadWord B,C, H,L     ; result is new TOS
1151   4D                     LD   C,L   ; result is new TOS
1152   44                     LD   B,H   
1153                          ;*Macro unroll:  NEXT
1153   C3 A8 07               JP   enter   
1156                          ;*Macro unroll: defword "<<",2,0,ltlt
1156                HEADER_LTLT:      
1156   32 11                  DW   link   
1158                LINK:     .SET   HEADER_ltlt   
1158   02                     DB   0 + 2   
1159   3C 3C                  DB   "<<"   
115B                LTLT:        
115B   18 DE                  JR   lShift   
115D                             ;RSHIFT  x1 u -- x2    logical R shift u places
115D                          ;*Macro unroll: defword "rshift",6,0,RSHIFT
115D                HEADER_RSHIFT:      
115D   56 11                  DW   link   
115F                LINK:     .SET   HEADER_RSHIFT   
115F   06                     DB   0 + 6   
1160   72 73 68 69 66 74      DB   "rshift"   
1166                RSHIFT:      
1166                          ;*Macro unroll:  ppop0 H,L         ;   NB: hi 8 bits ignored!
1166   DD 2B                  DEC   IX   ;   NB: hi 8 bits ignored!
1168   DD 66 00               LD   H,(IX+0)   
116B   DD 2B                  DEC   IX   
116D   DD 6E 00               LD   L,(IX+0)   
1170   41                     LD   B,C   ; b = loop counter
1171   04                     INC   B   ; test for counter=0 case
1172   18 09                  JR   RSHIFT2   
1174                          ;*Macro unroll:  _do
1174   18 03                  JR   L_M_2318   
1176   C3 76 11               JP   $   
1179                          ;*Macro unroll:  DLOOP_PUSH $
1179                DLOOP_COUNT:   .SET   DLOOP_COUNT + 1   
1179                DLOOP_12:   .SET   DLOOP_11   
1179                DLOOP_11:   .SET   DLOOP_10   
1179                DLOOP_10:   .SET   DLOOP_9   
1179                DLOOP_9:   .SET   DLOOP_8   
1179                DLOOP_8:   .SET   DLOOP_7   
1179                DLOOP_7:   .SET   DLOOP_6   
1179                DLOOP_6:   .SET   DLOOP_5   
1179                DLOOP_5:   .SET   DLOOP_4   
1179                DLOOP_4:   .SET   DLOOP_3   
1179                DLOOP_3:   .SET   DLOOP_2   
1179                DLOOP_2:   .SET   DLOOP_TOP   
1179                DLOOP_TOP:   .SET   $   
1179                L_M_2318:      
1179   CB 3C                  SRL   H   ; right shift HL, n times
117B   CB 1D                  RR   L   
117D                RSHIFT2:      
117D                          ;*Macro unroll:  _djnz
117D   10 FA                  DJNZ   DLOOP_TOP   
117F                          ;*Macro unroll:  DLOOP_FWD
117F                CUR_ADR:   .SET   $   
1177                          .ORG   DLOOP_TOP - 2   
1177   7F 11                  DW   CUR_ADR   
117F                          .ORG   CUR_ADR   
117F                          ;*Macro unroll:  DLOOP_POP
117F                DLOOP_COUNT:   .SET   DLOOP_COUNT - 1   
117F                DLOOP_TOP:   .SET   DLOOP_2   
117F                DLOOP_2:   .SET   DLOOP_3   
117F                DLOOP_3:   .SET   DLOOP_4   
117F                DLOOP_4:   .SET   DLOOP_5   
117F                DLOOP_5:   .SET   DLOOP_6   
117F                DLOOP_6:   .SET   DLOOP_7   
117F                DLOOP_7:   .SET   DLOOP_8   
117F                DLOOP_8:   .SET   DLOOP_9   
117F                DLOOP_9:   .SET   DLOOP_10   
117F                DLOOP_10:   .SET   DLOOP_11   
117F                DLOOP_11:   .SET   DLOOP_12   
117F                DLOOP_12:   .SET   0   
117F                          ;*Macro unroll:  loadWord B,C, H,L     ; result is new TOS
117F   4D                     LD   C,L   ; result is new TOS
1180   44                     LD   B,H   
1181                          ;*Macro unroll:  NEXT
1181   C3 A8 07               JP   enter   
1184                          ;*Macro unroll: defword ">>",2,0,gtgt
1184                HEADER_GTGT:      
1184   5D 11                  DW   link   
1186                LINK:     .SET   HEADER_gtgt   
1186   02                     DB   0 + 2   
1187   3E 3E                  DB   ">>"   
1189                GTGT:        
1189   18 DB                  JR   rShift   
118B                             ; R@ r-fetch
118B                             ; 
118B                             ; 
118B                             ; definitions
118B                             ; 
118B                             ; 
118B                          ;*Macro unroll: defword "immediate",9,MSK_IMMED,IMMEDIATE
118B                HEADER_IMMEDIATE:      
118B   84 11                  DW   link   
118D                LINK:     .SET   HEADER_IMMEDIATE   
118D   89                     DB   MSK_IMMED + 9   
118E   69 6D 6D 65 64 69 61 74 65 DB   "immediate"   
1197                IMMEDIATE:      
1197   2A CE 22               LD   HL,(VAR_LATEST)   ; get head of latest word
119A   23                     INC   HL   ; point to flags byte
119B   23                     INC   HL   
119C   3E 80                  LD   a,MSK_IMMED   
119E   AE                     XOR   (HL)   ; toggle the IMMED bit.
119F   77                     LD   (HL),a   
11A0                          ;*Macro unroll:  NEXT
11A0   C3 A8 07               JP   enter   
11A3                             ; DOES> does
11A3                             ; 
11A3                             ; 
11A3                             ; device
11A3                             ; 
11A3                             ; 
11A3                          ;*Macro unroll: defword "accept",6,0,ACCEPT              ; ( addr max -- len )
11A3                HEADER_ACCEPT:      ; ( addr max -- len )
11A3   8B 11                  DW   link   
11A5                LINK:     .SET   HEADER_ACCEPT   
11A5   06                     DB   0 + 6   
11A6   61 63 63 65 70 74      DB   "accept"   
11AC                ACCEPT:      
11AC                          ;*Macro unroll:  ppop D,E                    ; max - up to 255
11AC   50                     LD   D,B   ; max - up to 255
11AD   59                     LD   E,C   
11AE                          ;*Macro unroll:  ppop0 B,C
11AE   DD 2B                  DEC   IX   
11B0   DD 46 00               LD   B,(IX+0)   
11B3   DD 2B                  DEC   IX   
11B5   DD 4E 00               LD   C,(IX+0)   
11B8                          ;*Macro unroll: 	ppop0 H,L                          ; addr
11B8   DD 2B                  DEC   IX   ; addr
11BA   DD 66 00               LD   H,(IX+0)   
11BD   DD 2B                  DEC   IX   
11BF   DD 6E 00               LD   L,(IX+0)   
11C2   CD FF 00               CALL   getline   
11C5                          ;*Macro unroll:  NEXT
11C5   C3 A8 07               JP   enter   
11C8                          ;*Macro unroll: defword "key",3,0,KEY                ; ( -- c )
11C8                HEADER_KEY:      ; ( -- c )
11C8   A3 11                  DW   link   
11CA                LINK:     .SET   HEADER_KEY   
11CA   03                     DB   0 + 3   
11CB   6B 65 79               DB   "key"   
11CE                KEY:         
11CE   CD 8F 01               CALL   getKey   
11D1   06 00                  LD   b,0   
11D3   4F                     LD   c,a   
11D4                          ;*Macro unroll:  NEXT
11D4   C3 A8 07               JP   enter   
11D7                          ;*Macro unroll: defword "emit",4,0,EMIT              ; print the character on the stack
11D7                HEADER_EMIT:      ; print the character on the stack
11D7   C8 11                  DW   link   
11D9                LINK:     .SET   HEADER_EMIT   
11D9   04                     DB   0 + 4   
11DA   65 6D 69 74            DB   "emit"   
11DE                EMIT:        
11DE   79                     LD   A,C   ; (c -- )
11DF   CD E5 00               CALL   putc   
11E2                          ;*Macro unroll:  ppop0 B,C                      ; clear stack
11E2   DD 2B                  DEC   IX   ; clear stack
11E4   DD 46 00               LD   B,(IX+0)   
11E7   DD 2B                  DEC   IX   
11E9   DD 4E 00               LD   C,(IX+0)   
11EC                          ;*Macro unroll:  NEXT
11EC   C3 A8 07               JP   enter   
11EF                          ;*Macro unroll: defword "key?",4,0,QKEY              ; ( -- c )
11EF                HEADER_QKEY:      ; ( -- c )
11EF   D7 11                  DW   link   
11F1                LINK:     .SET   HEADER_QKEY   
11F1   04                     DB   0 + 4   
11F2   6B 65 79 3F            DB   "key?"   
11F6                QKEY:        
11F6                          ;*Macro unroll: 	ppush0 B,C		                ; save TOS
11F6   DD 71 00               LD   (IX+0),C   ; save TOS
11F9   DD 23                  INC   IX   
11FB   DD 70 00               LD   (IX+0),B   
11FE   DD 23                  INC   IX   
1200   CD F9 00               CALL   inputReady   
1203   01 01 00               LD   BC,1   ; TOS = true
1206                          ;*Macro unroll:  _if z
1206   CA 0C 12               JP   z,L_M_2366   
1209   C3 09 12               JP   $   
120C                          ;*Macro unroll:  STRUC_PUSH $
120C                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
120C                STRUC_12:   .SET   STRUC_11   
120C                STRUC_11:   .SET   STRUC_10   
120C                STRUC_10:   .SET   STRUC_9   
120C                STRUC_9:   .SET   STRUC_8   
120C                STRUC_8:   .SET   STRUC_7   
120C                STRUC_7:   .SET   STRUC_6   
120C                STRUC_6:   .SET   STRUC_5   
120C                STRUC_5:   .SET   STRUC_4   
120C                STRUC_4:   .SET   STRUC_3   
120C                STRUC_3:   .SET   STRUC_2   
120C                STRUC_2:   .SET   STRUC_TOP   
120C                STRUC_TOP:   .SET   $   
120C                L_M_2366:      
120C   01 00 00               LD   BC,0   ; TOS = false
120F                          ;*Macro unroll:  _endif
120F                          ;*Macro unroll:  STRUC_FWD
120F                CUR_ADR:   .SET   $   
120A                          .ORG   STRUC_TOP - 2   
120A   0F 12                  DW   CUR_ADR   
120F                          .ORG   CUR_ADR   
120F                          ;*Macro unroll:  STRUC_POP
120F                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
120F                STRUC_TOP:   .SET   STRUC_2   
120F                STRUC_2:   .SET   STRUC_3   
120F                STRUC_3:   .SET   STRUC_4   
120F                STRUC_4:   .SET   STRUC_5   
120F                STRUC_5:   .SET   STRUC_6   
120F                STRUC_6:   .SET   STRUC_7   
120F                STRUC_7:   .SET   STRUC_8   
120F                STRUC_8:   .SET   STRUC_9   
120F                STRUC_9:   .SET   STRUC_10   
120F                STRUC_10:   .SET   STRUC_11   
120F                STRUC_11:   .SET   STRUC_12   
120F                STRUC_12:   .SET   0   
120F                          ;*Macro unroll:  NEXT
120F   C3 A8 07               JP   enter   
1212                          ;*Macro unroll: defword "pack",4,0,pack             ; ( adr1 len adr2 -- adr2 )
1212                HEADER_PACK:      ; ( adr1 len adr2 -- adr2 )
1212   EF 11                  DW   link   
1214                LINK:     .SET   HEADER_pack   
1214   04                     DB   0 + 4   
1215   70 61 63 6B            DB   "pack"   
1219                PACK:        
1219                          ;*Macro unroll:  ppop D,E                        ; DE = adr2, BC = len
1219   50                     LD   D,B   ; DE = adr2, BC = len
121A   59                     LD   E,C   
121B                          ;*Macro unroll:  ppop0 B,C
121B   DD 2B                  DEC   IX   
121D   DD 46 00               LD   B,(IX+0)   
1220   DD 2B                  DEC   IX   
1222   DD 4E 00               LD   C,(IX+0)   
1225   D5                     PUSH   DE   
1226                          ;*Macro unroll:  ppop0 H,L                       ; HL = adr1
1226   DD 2B                  DEC   IX   ; HL = adr1
1228   DD 66 00               LD   H,(IX+0)   
122B   DD 2B                  DEC   IX   
122D   DD 6E 00               LD   L,(IX+0)   
1230   79                     LD   A,C   
1231   12                     LD   (DE),A   ; write length byte to adr2
1232   13                     INC   DE   ; adr2 += 1
1233   ED B0                  LDIR      
1235   C1                     POP   BC   ; TOS = adr2
1236                          ;*Macro unroll:  NEXT
1236   C3 A8 07               JP   enter   
1239                             ; extra utilities
1239                             ; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
1239                             ; ; toLowercase -  converts ASCII value register A
1239                             ; ; to lowercase
1239                             ; ;
1239                             ; ; params: A = ASCII char
1239                             ; ; returns: A = lowercase ASCII char
1239                             ; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
1239                             ; toLowercase:
1239                             ;     cp "A"
1239                             ;     _if nc
1239                             ;         cp "Z" + 1
1239                             ;         _if c
1239                             ;             or $20      ; set bit 6
1239                             ;         _endif
1239                             ;     _endif
1239                             ;     ret
1239                             ; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
1239                             ; ; reverseLookup - CFA -> header
1239                             ; ;
1239                             ; ; params: BC = CFA of word
1239                             ; ; returns: DE = found header ptr or 0
1239                             ; ; destroys: AF, HL
1239                             ; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
1239                             ; reverseLookup:
1239                             ;     ld DE, (VAR_LATEST)             ; search dictionary backwards from LATEST
1239                             ;     _do
1239                             ;         checkZeroWord D,E                ; NULL pointer?  (end of the linked list)
1239                             ;     _until z
1239                             ;         push DE                     ; save ptr to header
1239                             ;         inc DE                      ; skip over first field
1239                             ;         inc DE
1239                             ;         ld A, (DE)                  ; a = flags+length field
1239                             ;         and MSK_HIDDEN | MSK_LENGTH ; %al = name length
1239                             ;         ld H,0
1239                             ;         ld L,A
1239                             ;         add HL,DE
1239                             ;         or A
1239                             ;         sbc HL,BC
1239                             ;         pop DE
1239                             ;     _until z
1239                             ;         ex DE, HL                   ; load HL with link to previous header
1239                             ;         ld E,(HL)                   ; in dictionary
1239                             ;         inc HL
1239                             ;         ld D,(HL)
1239                             ;     _enddo
1239                             ;     ret
1239                             ; 
1239                             ; extra words
1239                             ; 
1239                             ; forth word defintions
1239                             ; 
1239                          ;*Macro unroll: defword "decimal",7,0,decimal           ; pushes ptr to string and length on stack
1239                HEADER_DECIMAL:      ; pushes ptr to string and length on stack
1239   12 12                  DW   link   
123B                LINK:     .SET   HEADER_decimal   
123B   07                     DB   0 + 7   
123C   64 65 63 69 6D 61 6C   DB   "decimal"   
1243                DECIMAL:      
1243   CF                     RST   $08   ; enter forth
1244   0E 03 0A 00 57 14 EA 03 DW   lit,10,base,store   
124C                          ;*Macro unroll:  EXIT
124C   84 0F                  DW   exit   
124E   C3 A8 07               JP   enter   
1251                          ;*Macro unroll: defword "hex",3,0,hex                   ; pushes ptr to string and length on stack
1251                HEADER_HEX:      ; pushes ptr to string and length on stack
1251   39 12                  DW   link   
1253                LINK:     .SET   HEADER_hex   
1253   03                     DB   0 + 3   
1254   68 65 78               DB   "hex"   
1257                HEX:         
1257   CF                     RST   $08   ; enter forth
1258   0E 03 10 00 57 14 EA 03 DW   lit,16,base,store   
1260                          ;*Macro unroll:  EXIT
1260   84 0F                  DW   exit   
1262   C3 A8 07               JP   enter   
1265                             ; min   n1 n2 -- u                      minimum
1265                          ;*Macro unroll: defword "min",3,0,min
1265                HEADER_MIN:      
1265   51 12                  DW   link   
1267                LINK:     .SET   HEADER_min   
1267   03                     DB   0 + 3   
1268   6D 69 6E               DB   "min"   
126B                MIN:         
126B   CF                     RST   $08   
126C   4F 06 4F 06            DW   over,over   
1270   93 03                  DW   lessThan   
1272                          ;*Macro unroll:  cif
1272   E2 02 00 00            DW   ZBRANCH,0   
1276                          ;*Macro unroll:  CPL_PUSH $
1276                CPL_COUNT:   .SET   CPL_COUNT + 1   
1276                CPL_10:   .SET   CPL_9   
1276                CPL_9:    .SET   CPL_8   
1276                CPL_8:    .SET   CPL_7   
1276                CPL_7:    .SET   CPL_6   
1276                CPL_6:    .SET   CPL_5   
1276                CPL_5:    .SET   CPL_4   
1276                CPL_4:    .SET   CPL_3   
1276                CPL_3:    .SET   CPL_2   
1276                CPL_2:    .SET   CPL_TOP   
1276                CPL_TOP:   .SET   $   
1276   3B 06                  DW   drop   
1278                          ;*Macro unroll:  cElse
1278   FF 02 00 00            DW   BRANCH,0   
127C                          ;*Macro unroll:  cBRANCH_FWD
127C                CUR_ADR:   .SET   $   
1274                          .ORG   CPL_TOP - 2   
1274   08 00                  DW   CUR_ADR - CPL_TOP + 2   
127C                          .ORG   CUR_ADR   
127C                CPL_TOP:   .SET   $   
127C   1B 06 3B 06            DW   swap,drop   
1280                          ;*Macro unroll:  cendif
1280                          ;*Macro unroll:  cBRANCH_FWD
1280                CUR_ADR:   .SET   $   
127A                          .ORG   CPL_TOP - 2   
127A   06 00                  DW   CUR_ADR - CPL_TOP + 2   
1280                          .ORG   CUR_ADR   
1280                          ;*Macro unroll:  CPL_POP
1280                CPL_COUNT:   .SET   CPL_COUNT - 1   
1280                CPL_TOP:   .SET   CPL_2   
1280                CPL_2:    .SET   CPL_3   
1280                CPL_3:    .SET   CPL_4   
1280                CPL_4:    .SET   CPL_5   
1280                CPL_5:    .SET   CPL_6   
1280                CPL_6:    .SET   CPL_7   
1280                CPL_7:    .SET   CPL_8   
1280                CPL_8:    .SET   CPL_9   
1280                CPL_9:    .SET   CPL_10   
1280                CPL_10:   .SET   0   
1280                          ;*Macro unroll:  EXIT
1280   84 0F                  DW   exit   
1282   C3 A8 07               JP   enter   
1285                             ; max   n1 n2 -- u                      maximum
1285                          ;*Macro unroll: defword "max",3,0,max
1285                HEADER_MAX:      
1285   65 12                  DW   link   
1287                LINK:     .SET   HEADER_max   
1287   03                     DB   0 + 3   
1288   6D 61 78               DB   "max"   
128B                MAX:         
128B   CF                     RST   $08   
128C   4F 06 4F 06            DW   over,over   
1290   93 03                  DW   lessThan   
1292                          ;*Macro unroll:  cif
1292   E2 02 00 00            DW   ZBRANCH,0   
1296                          ;*Macro unroll:  CPL_PUSH $
1296                CPL_COUNT:   .SET   CPL_COUNT + 1   
1296                CPL_10:   .SET   CPL_9   
1296                CPL_9:    .SET   CPL_8   
1296                CPL_8:    .SET   CPL_7   
1296                CPL_7:    .SET   CPL_6   
1296                CPL_6:    .SET   CPL_5   
1296                CPL_5:    .SET   CPL_4   
1296                CPL_4:    .SET   CPL_3   
1296                CPL_3:    .SET   CPL_2   
1296                CPL_2:    .SET   CPL_TOP   
1296                CPL_TOP:   .SET   $   
1296   1B 06 3B 06            DW   swap,drop   
129A                          ;*Macro unroll:  cElse
129A   FF 02 00 00            DW   BRANCH,0   
129E                          ;*Macro unroll:  cBRANCH_FWD
129E                CUR_ADR:   .SET   $   
1294                          .ORG   CPL_TOP - 2   
1294   0A 00                  DW   CUR_ADR - CPL_TOP + 2   
129E                          .ORG   CUR_ADR   
129E                CPL_TOP:   .SET   $   
129E   3B 06                  DW   drop   
12A0                          ;*Macro unroll:  cendif
12A0                          ;*Macro unroll:  cBRANCH_FWD
12A0                CUR_ADR:   .SET   $   
129C                          .ORG   CPL_TOP - 2   
129C   04 00                  DW   CUR_ADR - CPL_TOP + 2   
12A0                          .ORG   CUR_ADR   
12A0                          ;*Macro unroll:  CPL_POP
12A0                CPL_COUNT:   .SET   CPL_COUNT - 1   
12A0                CPL_TOP:   .SET   CPL_2   
12A0                CPL_2:    .SET   CPL_3   
12A0                CPL_3:    .SET   CPL_4   
12A0                CPL_4:    .SET   CPL_5   
12A0                CPL_5:    .SET   CPL_6   
12A0                CPL_6:    .SET   CPL_7   
12A0                CPL_7:    .SET   CPL_8   
12A0                CPL_8:    .SET   CPL_9   
12A0                CPL_9:    .SET   CPL_10   
12A0                CPL_10:   .SET   0   
12A0                          ;*Macro unroll:  EXIT
12A0   84 0F                  DW   exit   
12A2   C3 A8 07               JP   enter   
12A5                             ; .s print stack (non-destructively)
12A5                          ;*Macro unroll: defword ".s",2,0,dots                   ; ( -- )
12A5                HEADER_DOTS:      ; ( -- )
12A5   85 12                  DW   link   
12A7                LINK:     .SET   HEADER_dots   
12A7   02                     DB   0 + 2   
12A8   2E 73                  DB   ".s"   
12AA                DOTS:        
12AA   CF                     RST   $08   ; enter forth
12AB   DB 10                  DW   spfetch   ; psp
12AD   40 14 26 04            DW   sp0,fetch   ; psp0
12B1   B7 04                  DW   minus   
12B3   0E 03 00 00 CE 03      DW   lit,0,greaterThan   
12B9                          ;*Macro unroll:  cif
12B9   E2 02 00 00            DW   ZBRANCH,0   
12BD                          ;*Macro unroll:  CPL_PUSH $
12BD                CPL_COUNT:   .SET   CPL_COUNT + 1   
12BD                CPL_10:   .SET   CPL_9   
12BD                CPL_9:    .SET   CPL_8   
12BD                CPL_8:    .SET   CPL_7   
12BD                CPL_7:    .SET   CPL_6   
12BD                CPL_6:    .SET   CPL_5   
12BD                CPL_5:    .SET   CPL_4   
12BD                CPL_4:    .SET   CPL_3   
12BD                CPL_3:    .SET   CPL_2   
12BD                CPL_2:    .SET   CPL_TOP   
12BD                CPL_TOP:   .SET   $   
12BD   40 14 26 04 0E 03 02 00 97 04 DW   sp0,fetch,lit,2,plus   
12C7                          ;*Macro unroll:  cdo
12C7   FF 02 06 00            DW   BRANCH,6   
12CB   FF 02 00 00            DW   BRANCH,0   
12CF                          ;*Macro unroll:  CPL_PUSH $
12CF                CPL_COUNT:   .SET   CPL_COUNT + 1   
12CF                CPL_10:   .SET   CPL_9   
12CF                CPL_9:    .SET   CPL_8   
12CF                CPL_8:    .SET   CPL_7   
12CF                CPL_7:    .SET   CPL_6   
12CF                CPL_6:    .SET   CPL_5   
12CF                CPL_5:    .SET   CPL_4   
12CF                CPL_4:    .SET   CPL_3   
12CF                CPL_3:    .SET   CPL_2   
12CF                CPL_2:    .SET   CPL_TOP   
12CF                CPL_TOP:   .SET   $   
12CF   07 06                  DW   dup   
12D1   DB 10 0E 03 02 00 B7 04 DW   spfetch,lit,2,minus   
12D9   1B 06 B7 04 2B 05      DW   swap,minus,zequal   
12DF                          ;*Macro unroll:  cuntil
12DF   2B 05 E2 02 E8 FF      DW   ZEQUAL,ZBRANCH,CPL_TOP - $ - 8   
12E5   07 06 26 04 A0 06      DW   dup,fetch,dot   
12EB   0E 03 02 00 97 04      DW   lit,2,plus   
12F1                          ;*Macro unroll:  cenddo
12F1   FF 02 DC FF            DW   BRANCH,CPL_TOP - $ - 2   
12F5                          ;*Macro unroll:  cBRANCH_FWD
12F5                CUR_ADR:   .SET   $   
12CD                          .ORG   CPL_TOP - 2   
12CD   28 00                  DW   CUR_ADR - CPL_TOP + 2   
12F5                          .ORG   CUR_ADR   
12F5                          ;*Macro unroll:  CPL_POP
12F5                CPL_COUNT:   .SET   CPL_COUNT - 1   
12F5                CPL_TOP:   .SET   CPL_2   
12F5                CPL_2:    .SET   CPL_3   
12F5                CPL_3:    .SET   CPL_4   
12F5                CPL_4:    .SET   CPL_5   
12F5                CPL_5:    .SET   CPL_6   
12F5                CPL_6:    .SET   CPL_7   
12F5                CPL_7:    .SET   CPL_8   
12F5                CPL_8:    .SET   CPL_9   
12F5                CPL_9:    .SET   CPL_10   
12F5                CPL_10:   .SET   0   
12F5   3B 06                  DW   drop   
12F7                          ;*Macro unroll:  cendif
12F7                          ;*Macro unroll:  cBRANCH_FWD
12F7                CUR_ADR:   .SET   $   
12BB                          .ORG   CPL_TOP - 2   
12BB   3C 00                  DW   CUR_ADR - CPL_TOP + 2   
12F7                          .ORG   CUR_ADR   
12F7                          ;*Macro unroll:  CPL_POP
12F7                CPL_COUNT:   .SET   CPL_COUNT - 1   
12F7                CPL_TOP:   .SET   CPL_2   
12F7                CPL_2:    .SET   CPL_3   
12F7                CPL_3:    .SET   CPL_4   
12F7                CPL_4:    .SET   CPL_5   
12F7                CPL_5:    .SET   CPL_6   
12F7                CPL_6:    .SET   CPL_7   
12F7                CPL_7:    .SET   CPL_8   
12F7                CPL_8:    .SET   CPL_9   
12F7                CPL_9:    .SET   CPL_10   
12F7                CPL_10:   .SET   0   
12F7                          ;*Macro unroll:  EXIT
12F7   84 0F                  DW   exit   
12F9   C3 A8 07               JP   enter   
12FC                             ; ." print string"
12FC                          ;*Macro unroll: defword {".",$22},2,msk_immed,dotquote
12FC                HEADER_DOTQUOTE:      
12FC   A5 12                  DW   link   
12FE                LINK:     .SET   HEADER_dotquote   
12FE   82                     DB   msk_immed + 2   
12FF   2E 22                  DB   ".",$22   
1301                DOTQUOTE:      
1301   CF                     RST   $08   ; enter forth
1302   E4 0C                  DW   qt   
1304   10 14 26 04 2B 05      DW   state,fetch,zequal   
130A                          ;*Macro unroll:  cIf
130A   E2 02 00 00            DW   ZBRANCH,0   
130E                          ;*Macro unroll:  CPL_PUSH $
130E                CPL_COUNT:   .SET   CPL_COUNT + 1   
130E                CPL_10:   .SET   CPL_9   
130E                CPL_9:    .SET   CPL_8   
130E                CPL_8:    .SET   CPL_7   
130E                CPL_7:    .SET   CPL_6   
130E                CPL_6:    .SET   CPL_5   
130E                CPL_5:    .SET   CPL_4   
130E                CPL_4:    .SET   CPL_3   
130E                CPL_3:    .SET   CPL_2   
130E                CPL_2:    .SET   CPL_TOP   
130E                CPL_TOP:   .SET   $   
130E   CC 06                  DW   type   
1310                          ;*Macro unroll:  cElse
1310   FF 02 00 00            DW   BRANCH,0   
1314                          ;*Macro unroll:  cBRANCH_FWD
1314                CUR_ADR:   .SET   $   
130C                          .ORG   CPL_TOP - 2   
130C   08 00                  DW   CUR_ADR - CPL_TOP + 2   
1314                          .ORG   CUR_ADR   
1314                CPL_TOP:   .SET   $   
1314   0E 03 CC 06 0B 04      DW   lit,type,comma   
131A                          ;*Macro unroll:  cEndIf
131A                          ;*Macro unroll:  cBRANCH_FWD
131A                CUR_ADR:   .SET   $   
1312                          .ORG   CPL_TOP - 2   
1312   08 00                  DW   CUR_ADR - CPL_TOP + 2   
131A                          .ORG   CUR_ADR   
131A                          ;*Macro unroll:  CPL_POP
131A                CPL_COUNT:   .SET   CPL_COUNT - 1   
131A                CPL_TOP:   .SET   CPL_2   
131A                CPL_2:    .SET   CPL_3   
131A                CPL_3:    .SET   CPL_4   
131A                CPL_4:    .SET   CPL_5   
131A                CPL_5:    .SET   CPL_6   
131A                CPL_6:    .SET   CPL_7   
131A                CPL_7:    .SET   CPL_8   
131A                CPL_8:    .SET   CPL_9   
131A                CPL_9:    .SET   CPL_10   
131A                CPL_10:   .SET   0   
131A                          ;*Macro unroll:  EXIT
131A   84 0F                  DW   exit   
131C   C3 A8 07               JP   enter   
131F                             ; defword "postpone",8,msk_immed,postpone ; --
131F                             ;     rst $08
131F                             ; 	dw bl, word, count            ; pstr -- ptr len
131F                             ;     dw dup, zEqual
131F                             ;     cIf
131F                             ;         dw drop, drop                   ; ptr len --
131F                             ;     cElse
131F                             ;         dw postponeToken                ; interpret the next word
131F                             ;     cEndif
131F                             ;     EXIT
131F                             ; postponeToken:                          ; --
131F                             ;     rst $08
131F                             ;     dw over, over, find                 ; ptr len -- ptr len addr
131F                             ;     dw dup, zNotEqual
131F                             ;     cIf
131F                             ;         dw postponeWord
131F                             ;     cElse
131F                             ;         dw postponeLiteral
131F                             ;     cEndif
131F                             ;     EXIT
131F                             ; postponeWord:                               ; ( headptr -- )
131F                             ;     rst $08                                 ; enter forth
131F                             ;     dw swap, drop, swap, drop               ; ptr len addr -- addr
131F                             ;     dw dup, lit, 2, plus, cfetch            ; ( headptr -- headptr flags ) add 2 to headptr
131F                             ;     dw lit, msk_immed, and                  ; ( headptr flags -- headptr immedflag )
131F                             ;     dw zEqual
131F                             ;     cIf
131F                             ;         dw lit, lit, comma
131F                             ;         dw tcfa, comma
131F                             ;         dw lit, comma, comma
131F                             ;     cElse
131F                             ;         dw tcfa, comma
131F                             ;     cEndIf
131F                             ;     EXIT
131F                             ; postponeLiteral:                            ; ( ptr len -- )
131F                             ;     rst $08                                 ; enter forth
131F                             ;     dw drop                                 ; ptr len addr - ptr len
131F                             ;     dw number, zEqual                       ; parse to number
131F                             ;     cif
131F                             ;         dw lit, lit                     ; (val -- val "lit" )
131F                             ;         dw comma, comma                 ; compile "lit" val
131F                             ;     cElse
131F                             ;         dw drop                             ; ( ptr len zero -- ptr len ), not found
131F                             ;         dw litstr                           ; err != 0, parse error
131F                             ;         .pstr "Error: parsing"
131F                             ;         dw type
131F                             ;     cEndIf
131F                             ;     EXIT
131F                             ; 
131F                             ; constant words
131F                             ; 
131F                             ; 
131F                          ;*Macro unroll: defconst "version",7,0,version,1
131F                          ;*Macro unroll: defword "version",7,0,version
131F                HEADER_VERSION:      
131F   FC 12                  DW   link   
1321                LINK:     .SET   HEADER_version   
1321   07                     DB   0 + 7   
1322   76 65 72 73 69 6F 6E   DB   "version"   
1329                VERSION:      
1329                          ;*Macro unroll:  ppush0 B,C
1329   DD 71 00               LD   (IX+0),C   
132C   DD 23                  INC   IX   
132E   DD 70 00               LD   (IX+0),B   
1331   DD 23                  INC   IX   
1333   01 01 00               LD   BC,1   
1336                          ;*Macro unroll:  NEXT
1336   C3 A8 07               JP   enter   
1339                          ;*Macro unroll: defconst "r0",2,0,rz, ret_stack
1339                          ;*Macro unroll: defword "r0",2,0,rz
1339                HEADER_RZ:      
1339   1F 13                  DW   link   
133B                LINK:     .SET   HEADER_rz   
133B   02                     DB   0 + 2   
133C   72 30                  DB   "r0"   
133E                RZ:          
133E                          ;*Macro unroll:  ppush0 B,C
133E   DD 71 00               LD   (IX+0),C   
1341   DD 23                  INC   IX   
1343   DD 70 00               LD   (IX+0),B   
1346   DD 23                  INC   IX   
1348   01 00 00               LD   BC,ret_stack   
134B                          ;*Macro unroll:  NEXT
134B   C3 A8 07               JP   enter   
134E                          ;*Macro unroll: defconst "msk_immed",9,0,__msk_immed,msk_immed
134E                          ;*Macro unroll: defword "msk_immed",9,0,__msk_immed
134E                HEADER___MSK_IMMED:      
134E   39 13                  DW   link   
1350                LINK:     .SET   HEADER___msk_immed   
1350   09                     DB   0 + 9   
1351   6D 73 6B 5F 69 6D 6D 65 64 DB   "msk_immed"   
135A                __MSK_IMMED:      
135A                          ;*Macro unroll:  ppush0 B,C
135A   DD 71 00               LD   (IX+0),C   
135D   DD 23                  INC   IX   
135F   DD 70 00               LD   (IX+0),B   
1362   DD 23                  INC   IX   
1364   01 80 00               LD   BC,msk_immed   
1367                          ;*Macro unroll:  NEXT
1367   C3 A8 07               JP   enter   
136A                          ;*Macro unroll: defconst "msk_hidden",10,0,__msk_hidden,msk_hidden
136A                          ;*Macro unroll: defword "msk_hidden",10,0,__msk_hidden
136A                HEADER___MSK_HIDDEN:      
136A   4E 13                  DW   link   
136C                LINK:     .SET   HEADER___msk_hidden   
136C   0A                     DB   0 + 10   
136D   6D 73 6B 5F 68 69 64 64 65 6E DB   "msk_hidden"   
1377                __MSK_HIDDEN:      
1377                          ;*Macro unroll:  ppush0 B,C
1377   DD 71 00               LD   (IX+0),C   
137A   DD 23                  INC   IX   
137C   DD 70 00               LD   (IX+0),B   
137F   DD 23                  INC   IX   
1381   01 40 00               LD   BC,msk_hidden   
1384                          ;*Macro unroll:  NEXT
1384   C3 A8 07               JP   enter   
1387                          ;*Macro unroll: defconst "msk_length",10,0,__msk_length,msk_length
1387                          ;*Macro unroll: defword "msk_length",10,0,__msk_length
1387                HEADER___MSK_LENGTH:      
1387   6A 13                  DW   link   
1389                LINK:     .SET   HEADER___msk_length   
1389   0A                     DB   0 + 10   
138A   6D 73 6B 5F 6C 65 6E 67 74 68 DB   "msk_length"   
1394                __MSK_LENGTH:      
1394                          ;*Macro unroll:  ppush0 B,C
1394   DD 71 00               LD   (IX+0),C   
1397   DD 23                  INC   IX   
1399   DD 70 00               LD   (IX+0),B   
139C   DD 23                  INC   IX   
139E   01 3F 00               LD   BC,msk_length   
13A1                          ;*Macro unroll:  NEXT
13A1   C3 A8 07               JP   enter   
13A4                             ; 
13A4                             ; variable words
13A4                             ; 
13A4                             ; "latest" must be the last word defined
13A4                             ; 
13A4                          ;*Macro unroll: defvar "framePtr", 8, 0, framePtr, var_framePtr
13A4                          ;*Macro unroll: defword "framePtr",8,0,framePtr
13A4                HEADER_FRAMEPTR:      
13A4   87 13                  DW   link   
13A6                LINK:     .SET   HEADER_framePtr   
13A6   08                     DB   0 + 8   
13A7   66 72 61 6D 65 50 74 72 DB   "framePtr"   
13AF                FRAMEPTR:      
13AF                          ;*Macro unroll:  ppush0 B,C
13AF   DD 71 00               LD   (IX+0),C   
13B2   DD 23                  INC   IX   
13B4   DD 70 00               LD   (IX+0),B   
13B7   DD 23                  INC   IX   
13B9   01 3E 22               LD   BC,var_framePtr   
13BC                          ;*Macro unroll:  NEXT
13BC   C3 A8 07               JP   enter   
13BF                          ;*Macro unroll: defvar "pad", 3, 0, pad, var_pad
13BF                          ;*Macro unroll: defword "pad",3,0,pad
13BF                HEADER_PAD:      
13BF   A4 13                  DW   link   
13C1                LINK:     .SET   HEADER_pad   
13C1   03                     DB   0 + 3   
13C2   70 61 64               DB   "pad"   
13C5                PAD:         
13C5                          ;*Macro unroll:  ppush0 B,C
13C5   DD 71 00               LD   (IX+0),C   
13C8   DD 23                  INC   IX   
13CA   DD 70 00               LD   (IX+0),B   
13CD   DD 23                  INC   IX   
13CF   01 40 22               LD   BC,var_pad   
13D2                          ;*Macro unroll:  NEXT
13D2   C3 A8 07               JP   enter   
13D5                          ;*Macro unroll: defvar "here", 4, 0, here, var_here
13D5                          ;*Macro unroll: defword "here",4,0,here
13D5                HEADER_HERE:      
13D5   BF 13                  DW   link   
13D7                LINK:     .SET   HEADER_here   
13D7   04                     DB   0 + 4   
13D8   68 65 72 65            DB   "here"   
13DC                HERE:        
13DC                          ;*Macro unroll:  ppush0 B,C
13DC   DD 71 00               LD   (IX+0),C   
13DF   DD 23                  INC   IX   
13E1   DD 70 00               LD   (IX+0),B   
13E4   DD 23                  INC   IX   
13E6   01 C0 22               LD   BC,var_here   
13E9                          ;*Macro unroll:  NEXT
13E9   C3 A8 07               JP   enter   
13EC                          ;*Macro unroll: defvar "intp_stop", 9, 0, intp_stop, var_intp_stop
13EC                          ;*Macro unroll: defword "intp_stop",9,0,intp_stop
13EC                HEADER_INTP_STOP:      
13EC   D5 13                  DW   link   
13EE                LINK:     .SET   HEADER_intp_stop   
13EE   09                     DB   0 + 9   
13EF   69 6E 74 70 5F 73 74 6F 70 DB   "intp_stop"   
13F8                INTP_STOP:      
13F8                          ;*Macro unroll:  ppush0 B,C
13F8   DD 71 00               LD   (IX+0),C   
13FB   DD 23                  INC   IX   
13FD   DD 70 00               LD   (IX+0),B   
1400   DD 23                  INC   IX   
1402   01 C2 22               LD   BC,var_intp_stop   
1405                          ;*Macro unroll:  NEXT
1405   C3 A8 07               JP   enter   
1408                          ;*Macro unroll: defvar "state",5,0,state, var_state
1408                          ;*Macro unroll: defword "state",5,0,state
1408                HEADER_STATE:      
1408   EC 13                  DW   link   
140A                LINK:     .SET   HEADER_state   
140A   05                     DB   0 + 5   
140B   73 74 61 74 65         DB   "state"   
1410                STATE:       
1410                          ;*Macro unroll:  ppush0 B,C
1410   DD 71 00               LD   (IX+0),C   
1413   DD 23                  INC   IX   
1415   DD 70 00               LD   (IX+0),B   
1418   DD 23                  INC   IX   
141A   01 C4 22               LD   BC,var_state   
141D                          ;*Macro unroll:  NEXT
141D   C3 A8 07               JP   enter   
1420                          ;*Macro unroll: defvar "nesting",7,0,nesting, var_nesting
1420                          ;*Macro unroll: defword "nesting",7,0,nesting
1420                HEADER_NESTING:      
1420   08 14                  DW   link   
1422                LINK:     .SET   HEADER_nesting   
1422   07                     DB   0 + 7   
1423   6E 65 73 74 69 6E 67   DB   "nesting"   
142A                NESTING:      
142A                          ;*Macro unroll:  ppush0 B,C
142A   DD 71 00               LD   (IX+0),C   
142D   DD 23                  INC   IX   
142F   DD 70 00               LD   (IX+0),B   
1432   DD 23                  INC   IX   
1434   01 C6 22               LD   BC,var_nesting   
1437                          ;*Macro unroll:  NEXT
1437   C3 A8 07               JP   enter   
143A                          ;*Macro unroll: defvar "sp0",3,0,sp0, var_sp0
143A                          ;*Macro unroll: defword "sp0",3,0,sp0
143A                HEADER_SP0:      
143A   20 14                  DW   link   
143C                LINK:     .SET   HEADER_sp0   
143C   03                     DB   0 + 3   
143D   73 70 30               DB   "sp0"   
1440                SP0:         
1440                          ;*Macro unroll:  ppush0 B,C
1440   DD 71 00               LD   (IX+0),C   
1443   DD 23                  INC   IX   
1445   DD 70 00               LD   (IX+0),B   
1448   DD 23                  INC   IX   
144A   01 C8 22               LD   BC,var_sp0   
144D                          ;*Macro unroll:  NEXT
144D   C3 A8 07               JP   enter   
1450                          ;*Macro unroll: defvar "base",4,0,base, var_base
1450                          ;*Macro unroll: defword "base",4,0,base
1450                HEADER_BASE:      
1450   3A 14                  DW   link   
1452                LINK:     .SET   HEADER_base   
1452   04                     DB   0 + 4   
1453   62 61 73 65            DB   "base"   
1457                BASE:        
1457                          ;*Macro unroll:  ppush0 B,C
1457   DD 71 00               LD   (IX+0),C   
145A   DD 23                  INC   IX   
145C   DD 70 00               LD   (IX+0),B   
145F   DD 23                  INC   IX   
1461   01 CA 22               LD   BC,var_base   
1464                          ;*Macro unroll:  NEXT
1464   C3 A8 07               JP   enter   
1467                          ;*Macro unroll: defvar "latestStr",6,0,latestStr, var_latest_str
1467                          ;*Macro unroll: defword "latestStr",6,0,latestStr
1467                HEADER_LATESTSTR:      
1467   50 14                  DW   link   
1469                LINK:     .SET   HEADER_latestStr   
1469   06                     DB   0 + 6   
146A   6C 61 74 65 73 74 53 74 72 DB   "latestStr"   
1473                LATESTSTR:      
1473                          ;*Macro unroll:  ppush0 B,C
1473   DD 71 00               LD   (IX+0),C   
1476   DD 23                  INC   IX   
1478   DD 70 00               LD   (IX+0),B   
147B   DD 23                  INC   IX   
147D   01 CC 22               LD   BC,var_latest_str   
1480                          ;*Macro unroll:  NEXT
1480   C3 A8 07               JP   enter   
1483                          ;*Macro unroll: defvar "latest",6,0,latest, var_latest
1483                          ;*Macro unroll: defword "latest",6,0,latest
1483                HEADER_LATEST:      
1483   67 14                  DW   link   
1485                LINK:     .SET   HEADER_latest   
1485   06                     DB   0 + 6   
1486   6C 61 74 65 73 74      DB   "latest"   
148C                LATEST:      
148C                          ;*Macro unroll:  ppush0 B,C
148C   DD 71 00               LD   (IX+0),C   
148F   DD 23                  INC   IX   
1491   DD 70 00               LD   (IX+0),B   
1494   DD 23                  INC   IX   
1496   01 CE 22               LD   BC,var_latest   
1499                          ;*Macro unroll:  NEXT
1499   C3 A8 07               JP   enter   
149C                START:       
149C   31 00 00               LD   SP,RET_STACK   ; Initialise the return stack.
149F   CD 67 00               CALL   initSerial   
14A2   CD 6A 07               CALL   initForth   
14A5                          IF   TESTMODE   
14A5   C3 00 20               JP   TESTS_START   
14A8                          ELSE      
                              ;*Macro unroll:  PRINT_STR TXT_INTRO
                              ;*Macro unroll:  ppush0 D,E
                              LD   (IX+0),E   
                              INC   IX   
                              LD   (IX+0),D   
                              INC   IX   
                              LD   DE,TXT_INTRO   
                              CALL   printPStr   
                              ;*Macro unroll:  ppop0 D,E
                              DEC   IX   
                              LD   D,(IX+0)   
                              DEC   IX   
                              LD   E,(IX+0)   
                              JP   QUIT   
14A8                          ENDIF      
2000                          .ORG   START_RAM   
2000                          IF   TESTMODE   
2000                TESTS_START:      
2000                             ; 
2000                             ; test-macros
2000                             ; 
2000                             ; macros to facilitate tests
2000                             ; 
2000                .macro TEST_SET_TEXT,s1
2000                             ; 
2000                 ld HL, (lineBufStart)
2000                 ld (lineBufTop),HL
2000                 ld (currkey),HL
2000                 ld HL, tst_text%%M
2000                 ld (char_pointer), HL
2000                 _skip
2000                tst_text%%M:
2000                 db s1,"\r\n",-1,"\r\n"
2000                 _endskip
2000                .endm
2000                 
2000                             ; prevents using _if macro here
2000                .macro EXPECT,expect,failtxt
2000                             ; 
2000                 call printNum
2000                 loadWord H,L, B,C
2000                 ld L, C
2000                 ppop0 B,C
2000                 CMP16 expect
2000                 jp z, tf_done%%M            ; asm80 macro nesting issue
2000                 ld DE, FAILED
2000                 call printPStr
2000                 ld DE, te_fail%%M
2000                 call printPStr
2000                 halt
2000                 _skip
2000                te_fail%%M:
2000                 .pstr failtxt
2000                 _endskip
2000                tf_done%%M:
2000                .endm
2000                 
2000                          ENDIF      
2000                          IF   TESTMODE = 1   
                                 ; 
                                 ; tests
                                 ; 
                                 ; these tests will evaluate when TESTMODE = 1
                                 ; 
                              ;*Macro unroll: TEST_SET_TEXT ": const create , does> @ ;"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2624   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2624:      
                              DB   ": const create , does> @ ;","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: TEST_SET_TEXT "100 const y"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2626   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2626:      
                              DB   "100 const y","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: TEST_SET_TEXT "y"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2628   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2628:      
                              DB   "y","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: EXPECT 100, "expect 100"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 100
                              LD   DE,100   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2630   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2630   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2630:      
                              .PSTR   "100 100"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2630:      
                              ;*Macro unroll: TEST_SET_TEXT "100 constant y"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2631   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2631:      
                              DB   "100 constant y","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: TEST_SET_TEXT "y"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2633   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2633:      
                              DB   "y","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: EXPECT 100, "expect 100"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 100
                              LD   DE,100   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2635   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2635   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2635:      
                              .PSTR   "100 100"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2635:      
                              ;*Macro unroll: TEST_SET_TEXT ": x create does> 1 . ;"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2636   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2636:      
                              DB   ": x create does> 1 . ;","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: TEST_SET_TEXT "x y"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2638   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2638:      
                              DB   "x y","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: TEST_SET_TEXT "y"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2640   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2640:      
                              DB   "y","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: TEST_SET_TEXT ": const create does> , ;"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2642   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2642:      
                              DB   ": const create does> , ;","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: TEST_SET_TEXT "23 const x"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2644   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2644:      
                              DB   "23 const x","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: TEST_SET_TEXT "x ."
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2646   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2646:      
                              DB   "x .","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: TEST_SET_TEXT "23 constant y"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2648   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2648:      
                              DB   "23 constant y","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: TEST_SET_TEXT "y"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2650   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2650:      
                              DB   "y","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: EXPECT 23, "expect 23"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 23
                              LD   DE,23   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2652   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2652   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2652:      
                              .PSTR   "23 23"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2652:      
                              ;*Macro unroll: ppushValue 1
                              ;*Macro unroll:  ppush0 B,C
                              LD   (IX+0),C   
                              INC   IX   
                              LD   (IX+0),B   
                              INC   IX   
                              LD   BC,1   
                              ;*Macro unroll: TEST_SET_TEXT "dup"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2654   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2654:      
                              DB   "dup","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: EXPECT 1, "1 interpret dup"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 1
                              LD   DE,1   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2656   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2656   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2656:      
                              .PSTR   "1 interpret dup"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2656:      
                              ;*Macro unroll: EXPECT 1, "1 interpret dup 2"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 1
                              LD   DE,1   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2657   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2657   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2657:      
                              .PSTR   "1 interpret dup 2"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2657:      
                              ;*Macro unroll: TEST_SET_TEXT "123"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2658   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2658:      
                              DB   "123","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: EXPECT 123, "interpret 123"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 123
                              LD   DE,123   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2660   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2660   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2660:      
                              .PSTR   "interpret 123"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2660:      
                              ;*Macro unroll: TEST_SET_TEXT "123 constant x123"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2661   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2661:      
                              DB   "123 constant x123","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: TEST_SET_TEXT "x123"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2663   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2663:      
                              DB   "x123","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: EXPECT 123, "constant x123 = 123"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 123
                              LD   DE,123   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2665   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2665   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2665:      
                              .PSTR   "constant x123 = 123"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2665:      
                              ;*Macro unroll: TEST_SET_TEXT "variable v1"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2666   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2666:      
                              DB   "variable v1","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: ppushValue 123
                              ;*Macro unroll:  ppush0 B,C
                              LD   (IX+0),C   
                              INC   IX   
                              LD   (IX+0),B   
                              INC   IX   
                              LD   BC,123   
                              ;*Macro unroll: TEST_SET_TEXT "123 v1 !"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2669   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2669:      
                              DB   "123 v1 !","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: TEST_SET_TEXT "v1 @"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2671   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2671:      
                              DB   "v1 @","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: EXPECT 123, "variable v1 = 123"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 123
                              LD   DE,123   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2673   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2673   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2673:      
                              .PSTR   "variable v1 = 123"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2673:      
                              ;*Macro unroll: TEST_SET_TEXT ": dbl dup + ;"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2674   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2674:      
                              DB   ": dbl dup + ;","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: ppushValue 2
                              ;*Macro unroll:  ppush0 B,C
                              LD   (IX+0),C   
                              INC   IX   
                              LD   (IX+0),B   
                              INC   IX   
                              LD   BC,2   
                              ;*Macro unroll: TEST_SET_TEXT "dbl"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2677   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2677:      
                              DB   "dbl","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: EXPECT 4, "colon dbl 2 = 4"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 4
                              LD   DE,4   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2679   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2679   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2679:      
                              .PSTR   "colon dbl 2 = 4"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2679:      
                              ;*Macro unroll: ppushValue 200
                              ;*Macro unroll:  ppush0 B,C
                              LD   (IX+0),C   
                              INC   IX   
                              LD   (IX+0),B   
                              INC   IX   
                              LD   BC,200   
                              ;*Macro unroll: ppushValue 1
                              ;*Macro unroll:  ppush0 B,C
                              LD   (IX+0),C   
                              INC   IX   
                              LD   (IX+0),B   
                              INC   IX   
                              LD   BC,1   
                              ;*Macro unroll: TEST_SET_TEXT ": testif2 if 100 endif ;"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2682   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2682:      
                              DB   ": testif2 if 100 endif ;","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: TEST_SET_TEXT "testif2"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2684   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2684:      
                              DB   "testif2","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: EXPECT 100, "1 if 100 endif --> 100"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 100
                              LD   DE,100   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2686   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2686   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2686:      
                              .PSTR   "1 if 100 endif --> 100"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2686:      
                              ;*Macro unroll: ppushValue 0
                              ;*Macro unroll:  ppush0 B,C
                              LD   (IX+0),C   
                              INC   IX   
                              LD   (IX+0),B   
                              INC   IX   
                              LD   BC,0   
                              ;*Macro unroll: TEST_SET_TEXT "testif2"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2688   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2688:      
                              DB   "testif2","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: EXPECT 200, "0 if 100 endif --> 200"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 200
                              LD   DE,200   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2690   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2690   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2690:      
                              .PSTR   "0 if 100 endif --> 200"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2690:      
                              ;*Macro unroll: TEST_SET_TEXT ": testif3 if 100 else 200 endif ;"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2691   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2691:      
                              DB   ": testif3 if 100 else 200 endif ;","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: ppushValue 0
                              ;*Macro unroll:  ppush0 B,C
                              LD   (IX+0),C   
                              INC   IX   
                              LD   (IX+0),B   
                              INC   IX   
                              LD   BC,0   
                              ;*Macro unroll: TEST_SET_TEXT "testif3"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2694   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2694:      
                              DB   "testif3","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: EXPECT 200, "0 --> 200"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 200
                              LD   DE,200   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2696   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2696   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2696:      
                              .PSTR   "0 --> 200"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2696:      
                              ;*Macro unroll: ppushValue 1
                              ;*Macro unroll:  ppush0 B,C
                              LD   (IX+0),C   
                              INC   IX   
                              LD   (IX+0),B   
                              INC   IX   
                              LD   BC,1   
                              ;*Macro unroll: TEST_SET_TEXT "testif3"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2698   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2698:      
                              DB   "testif3","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: EXPECT 100, "1 --> 100"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 100
                              LD   DE,100   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2700   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2700   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2700:      
                              .PSTR   "1 --> 100"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2700:      
                              ;*Macro unroll: TEST_SET_TEXT ": testloop begin dup 5 < while dup . 1+ repeat ;"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2701   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2701:      
                              DB   ": testloop begin dup 5 < while dup . 1+ repeat ;","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: ppushValue 0
                              ;*Macro unroll:  ppush0 B,C
                              LD   (IX+0),C   
                              INC   IX   
                              LD   (IX+0),B   
                              INC   IX   
                              LD   BC,0   
                              ;*Macro unroll: TEST_SET_TEXT "testloop"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2704   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2704:      
                              DB   "testloop","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: EXPECT 5, "Loop until limit < 5"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 5
                              LD   DE,5   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2706   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2706   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2706:      
                              .PSTR   "Loop until limit < 5"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2706:      
                              ;*Macro unroll: TEST_SET_TEXT "100"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2707   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2707:      
                              DB   "100","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: EXPECT 100, "interpret parse 100"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 100
                              LD   DE,100   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2709   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2709   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2709:      
                              .PSTR   "interpret parse 100"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2709:      
                              ;*Macro unroll: TEST_SET_TEXT "3 2 +"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2710   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2710:      
                              DB   "3 2 +","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: EXPECT 5, "3 + 2 = 5"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 5
                              LD   DE,5   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2712   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2712   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2712:      
                              .PSTR   "3 + 2 = 5"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2712:      
                              ;*Macro unroll: TEST_SET_TEXT ": add + ;"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2713   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2713:      
                              DB   ": add + ;","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: ppushValue 2
                              ;*Macro unroll:  ppush0 B,C
                              LD   (IX+0),C   
                              INC   IX   
                              LD   (IX+0),B   
                              INC   IX   
                              LD   BC,2   
                              ;*Macro unroll: ppushValue 2
                              ;*Macro unroll:  ppush0 B,C
                              LD   (IX+0),C   
                              INC   IX   
                              LD   (IX+0),B   
                              INC   IX   
                              LD   BC,2   
                              ;*Macro unroll: TEST_SET_TEXT "add"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2717   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2717:      
                              DB   "add","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: EXPECT 4, "2 2 add = 4"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 4
                              LD   DE,4   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2719   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2719   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2719:      
                              .PSTR   "2 2 add = 4"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2719:      
                              ;*Macro unroll: TEST_SET_TEXT ": dump 16 base ! over + swap begin over over swap < while dup 7 and 0= if cr dup . endif dup c@ . 1+ repeat cr 10 base ! ;"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2720   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2720:      
                              DB   ": dump 16 base ! over + swap begin over over swap < while dup 7 and 0= if cr dup . endif dup c@ . 1+ repeat cr 10 base ! ;","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: TEST_SET_TEXT "dump"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2722   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2722:      
                              DB   "dump","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: TEST_SET_TEXT {": str s",$22," xyz",$22," ;"}
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2724   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2724:      
                              DB   ": str s",$22," xyz",$22," ;","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: TEST_SET_TEXT "str type"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2726   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2726:      
                              DB   "str type","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: TEST_SET_TEXT "str"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2728   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2728:      
                              DB   "str","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: EXPECT 3, "str len = 3"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 3
                              LD   DE,3   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2730   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2730   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2730:      
                              .PSTR   "str len = 3"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2730:      
                              ;*Macro unroll: TEST_SET_TEXT {$22," xyz",$22}
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2731   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2731:      
                              DB   $22," xyz",$22,"\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: TEST_SET_TEXT "dup"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2733   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2733:      
                              DB   "dup","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: EXPECT 3, "str len = 3"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 3
                              LD   DE,3   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2735   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2735   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2735:      
                              .PSTR   "str len = 3"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2735:      
                              ;*Macro unroll: TEST_SET_TEXT "type"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2736   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2736:      
                              DB   "type","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                                 ; 
                                 ; ld HL, 12
                                 ; ld C, 10
                                 ; call divideWordByByte
                                 ; ld B, 0
                                 ; ld C, A
                                 ; EXPECT 2, "div 11 / 10 = 1 1"
                                 ; TEST_SET_TEXT "hello\r\n"
                                 ; call KEY
                                 ; EXPECT $68, "key 'h'"
                                 ; call KEY
                                 ; EXPECT $65, "key 'e'"
                                 ; TEST_SET_TEXT "x"
                                 ; ppushValue $20
                                 ; call WORD
                                 ; call COUNT
                                 ; EXPECT 1, "word 'x'"
                                 ; ppop H,L   ; drop
                                 ; TEST_SET_TEXT "xyz"
                                 ; ppushValue $20
                                 ; call WORD
                                 ; call COUNT
                                 ; EXPECT 3, "word 'xyz'"
                                 ; ppop H,L   ; drop
                                 ; TEST_SET_TEXT "a xyz "
                                 ; ppushValue $20
                                 ; call WORD
                                 ; call COUNT
                                 ; EXPECT 1, "word 'a xyz'"
                                 ; ppushValue $20
                                 ; call WORD
                                 ; call COUNT
                                 ; EXPECT 3, "word 'a xyz'"
                                 ; ppop H,L   ; drop
                                 ; call HERE
                                 ; call FETCH
                                 ; EXPECT START_USER, "here"
                                 ; TEST_SET_TEXT "xyz"
                                 ; call CREATE
                                 ; call LATEST
                                 ; call FETCH
                                 ; EXPECT START_USER, "create xyz latest"
                                 ; call HERE
                                 ; call FETCH
                                 ; EXPECT START_USER + 6, "create xyz here"
                                 ; ppushValue 1
                                 ; ppushValue 2
                                 ; call DUP
                                 ; EXPECT 2, "dup 2"
                                 ; EXPECT 2, "dup 2"
                                 ; ppushValue -10
                                 ; ppushValue 10
                                 ; call STAR
                                 ; EXPECT -100, "expect -10 * 10 to be -100"
                                 ; ppushValue -10
                                 ; ppushValue -20
                                 ; call STAR
                                 ; EXPECT 200, "expect -10 * -20 to be 200"
                                 ; ppushValue 10
                                 ; ppushValue -20
                                 ; call STAR
                                 ; EXPECT -200, "expect -10 * -20 to be 200"
                                 ; ppushValue -101
                                 ; ppushValue 20
                                 ; call SLASHMOD
                                 ; EXPECT -5, "expect -101 / 20 to be -5"
                                 ; EXPECT -1, "expect -101 % 20 to be -1"
                                 ; ppushValue -101
                                 ; ppushValue -20
                                 ; call SLASHMOD
                                 ; EXPECT 5,  "expect -101 / -20 to be 5"
                                 ; EXPECT -1, "expect -101 % -20 to be -1"
                                 ; ppushValue 101
                                 ; ppushValue -20
                                 ; call SLASHMOD
                                 ; EXPECT -5,  "expect 101 / -20 to be -5"
                                 ; EXPECT 1, "expect 101 % -20 to be 1"
                                 ; TEST_SET_TEXT ": testif2 if 100 endif ;"
                                 ; ppushValue 0
                                 ; TEST_SET_TEXT "testloop"
                                 ; call INTERPRET
                                 ; EXPECT 5, "Loop until limit < 5"
                                 ; ppushPText "xyz"
                                 ; call COUNT
                                 ; EXPECT 3, "xyz length 3"
                                 ; call CFETCH
                                 ; EXPECT "x" + 0, "xyz --> x"
                                 ; ppushValue HEADER_LATEST
                                 ; call TCFA
                                 ; EXPECT HEADER_LATEST + 3 + 6, "cfa 3 bytes plus length of name"
                                 ; ppushValue 1
                                 ; ppushValue 2
                                 ; ppushValue HEADER_PLUS
                                 ; call TCFA
                                 ; call EXECUTE
                                 ; EXPECT 3, "1 2 plus = 3"
                                 ; ppushText "100",3
                                 ; call NUMBER
                                 ; EXPECT 0, "0 = no parse err"
                                 ; EXPECT 100, "parse 100"
                                 ; ppushText "latest",6
                                 ; call FIND
                                 ; EXPECT HEADER_LATEST, "find header of LATEST"
                                 ; TEST_SET_TEXT "base"
                                 ; rst $08
                                 ; dw interpret
                                 ; dw exit_forth
                                 ; call FETCH
                                 ; EXPECT 10, "expect base to be 10"
                                 ; ppushText "add",3
                                 ; call FIND
                                 ; ppushValue 64
                                 ; TEST_SET_TEXT "decimal"
                                 ; INTERPRET
                                 ; TEST_SET_TEXT "#h 100"
                                 ; INTERPRET
                                 ; EXPECT $100, "expect hex $100"
                                 ; TEST_SET_TEXT "hex"
                                 ; INTERPRET
                                 ; TEST_SET_TEXT "#d 100"
                                 ; INTERPRET
                                 ; EXPECT 100, "expect decimal 100"
                                 ; TEST_SET_TEXT "decimal"
                                 ; INTERPRET
                              ;*Macro unroll: TEST_SET_TEXT "16 base ! 20"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2862   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2862:      
                              DB   "16 base ! 20","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: EXPECT 32, "expect $20 to be 32"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 32
                              LD   DE,32   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2864   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2864   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2864:      
                              .PSTR   "32 $20 to be 32"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2864:      
                              ;*Macro unroll: TEST_SET_TEXT "0A base ! 20"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2865   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2865:      
                              DB   "0A base ! 20","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: EXPECT 20, "expect decimal 20 to be 32"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 20
                              LD   DE,20   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2867   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2867   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2867:      
                              .PSTR   "20 decimal 20 to be 32"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2867:      
                              ;*Macro unroll: TEST_SET_TEXT "100 100 +"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2868   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2868:      
                              DB   "100 100 +","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: EXPECT 200, "100 100 + = 200"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 200
                              LD   DE,200   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2870   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2870   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2870:      
                              .PSTR   "100 100 + = 200"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2870:      
                              ;*Macro unroll: TEST_SET_TEXT "100 10 + ."
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2871   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2871:      
                              DB   "100 10 + .","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: TEST_SET_TEXT "-10 abs"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2873   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2873:      
                              DB   "-10 abs","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: EXPECT 10, "expect abs -10 to be 10"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 10
                              LD   DE,10   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2875   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2875   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2875:      
                              .PSTR   "10 abs -10 to be 10"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2875:      
                              ;*Macro unroll: TEST_SET_TEXT "10 abs"
                              LD   HL,(lineBufStart)   
                              LD   (lineBufTop),HL   
                              LD   (currkey),HL   
                              LD   HL,tst_textM_2876   
                              LD   (char_pointer),HL   
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TST_TEXTM_2876:      
                              DB   "10 abs","\r\n",-1,"\r\n"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                              ;*Macro unroll: INTERPRET
                              RST   $08   
                              DW   interpret   
                              DW   exit_forth   
                              ;*Macro unroll: EXPECT 10, "expect abs 10 to be 10"
                              CALL   printNum   
                              ;*Macro unroll:  loadWord H,L, B,C
                              LD   L,C   
                              LD   H,B   
                              LD   L,C   
                              ;*Macro unroll:  ppop0 B,C
                              DEC   IX   
                              LD   B,(IX+0)   
                              DEC   IX   
                              LD   C,(IX+0)   
                              ;*Macro unroll:  CMP16 10
                              LD   DE,10   
                              OR   A   
                              SBC   HL,DE   
                              ;*Macro unroll:  checkZeroWord H,L
                              LD   A,L   
                              OR   H   
                              JP   z,tf_doneM_2878   
                              LD   DE,FAILED   
                              CALL   printPStr   
                              LD   DE,te_failM_2878   
                              CALL   printPStr   
                              HALT      
                              ;*Macro unroll:  _skip
                              JP   $   
                              ;*Macro unroll:  STRUC_PUSH $
                    STRUC_COUNT:   .SET   STRUC_COUNT + 1   
                    STRUC_12:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_TOP   
                    STRUC_TOP:   .SET   $   
                    TE_FAILM_2878:      
                              .PSTR   "10 abs 10 to be 10"   
                              ;*Macro unroll:  _endskip
                              ;*Macro unroll:  STRUC_FWD
                    CUR_ADR:   .SET   $   
                              .ORG   STRUC_TOP - 2   
                              DW   CUR_ADR   
                              .ORG   CUR_ADR   
                              ;*Macro unroll:  STRUC_POP
                    STRUC_COUNT:   .SET   STRUC_COUNT - 1   
                    STRUC_TOP:   .SET   STRUC_2   
                    STRUC_2:   .SET   STRUC_3   
                    STRUC_3:   .SET   STRUC_4   
                    STRUC_4:   .SET   STRUC_5   
                    STRUC_5:   .SET   STRUC_6   
                    STRUC_6:   .SET   STRUC_7   
                    STRUC_7:   .SET   STRUC_8   
                    STRUC_8:   .SET   STRUC_9   
                    STRUC_9:   .SET   STRUC_10   
                    STRUC_10:   .SET   STRUC_11   
                    STRUC_11:   .SET   STRUC_12   
                    STRUC_12:   .SET   0   
                    TF_DONEM_2878:      
                                 ; TEST_SET_TEXT "100 buffer: xvar"
                                 ; INTERPRET
                                 ; TEST_SET_TEXT 00bbJDIyLDAwc3NJaUI0ZVhvaSEsJDIy
                                 ; INTERPRET
                                 ; TEST_SET_TEXT "xvar pack"
                                 ; INTERPRET
                                 ; TEST_SET_TEXT "xvar count dup"
                                 ; INTERPRET
                                 ; EXPECT 3, "str len = 3"
                                 ; TEST_SET_TEXT "type"
                                 ; INTERPRET
                                 ; TEST_SET_TEXT 00bbMDBzc0lpNGkhLCQyMiwwMHNzSWlCcGJXMWxaR2xoZEdVZ2VIbDZJZz09ISwkMjI=
                                 ; INTERPRET
                                 ; TEST_SET_TEXT 00bbMDBzc0lqb2dlREVnTGlJPSEsJDIyLDAwc3NJaUJqYjIxd2FXeGxaQ0I0ZVhvaSEsJDIyLDAwc3NJaUE3SWc9PSE=
                                 ; INTERPRET
                                 ; TEST_SET_TEXT "x1"
                                 ; INTERPRET
                                 ; TEST_SET_TEXT "1 0 if 1 else 2 endif +"
                                 ; INTERPRET
                                 ; EXPECT 3, "1 false -> 1 2 -> 1 2 + -> 3"
                                 ; TEST_SET_TEXT "0 1 if if 100 else 200 endif else 300 endif"
                                 ; INTERPRET
                                 ; EXPECT 200, "select"
                                 ; TEST_SET_TEXT "0 begin dup 5 < while dup . 1+ repeat"
                                 ; INTERPRET
                                 ; EXPECT 5, "Loop until limit < 5"
                                 ; TEST_SET_TEXT "{ if 100 else 200 endif } define: q"
                                 ; INTERPRET
                                 ; TEST_SET_TEXT "0 q"
                                 ; INTERPRET
                                 ; EXPECT 200, "define: q 0 = 200"
                                 ; TEST_SET_TEXT "1 q"
                                 ; INTERPRET
                                 ; EXPECT 100, "define: q 1 = 100"
                                 ; rst $08
                                 ; dw litstr
                                 ; .pstr "Expected parse error"
                                 ; dw type
                                 ; dw exit_forth
                                 ; ppushValue 999
                                 ; TEST_SET_TEXT "$$123"
                                 ; INTERPRET
                                 ; EXPECT 999, "interpret $$123"
2000                          ENDIF      
2000                          IF   TESTMODE = 2   
2000   CF                     RST   $08   
2001   0E 03 01 00            DW   lit,1   
2005   57 20                  DW   add100   
2007   87 0F                  DW   exit_forth   
2009                          ;*Macro unroll:  EXPECT 101, "100 + 1"
2009   CD B9 07               CALL   printNum   
200C                          ;*Macro unroll:  loadWord H,L, B,C
200C   69                     LD   L,C   
200D   60                     LD   H,B   
200E   69                     LD   L,C   
200F                          ;*Macro unroll:  ppop0 B,C
200F   DD 2B                  DEC   IX   
2011   DD 46 00               LD   B,(IX+0)   
2014   DD 2B                  DEC   IX   
2016   DD 4E 00               LD   C,(IX+0)   
2019                          ;*Macro unroll:  CMP16 101
2019   11 65 00               LD   DE,101   
201C   B7                     OR   A   
201D   ED 52                  SBC   HL,DE   
201F                          ;*Macro unroll:  checkZeroWord H,L
201F   7D                     LD   A,L   
2020   B4                     OR   H   
2021   CA 3C 20               JP   z,tf_doneM_2928   
2024   11 3B 07               LD   DE,FAILED   
2027   CD C4 01               CALL   printPStr   
202A   11 34 20               LD   DE,te_failM_2928   
202D   CD C4 01               CALL   printPStr   
2030   76                     HALT      
2031                          ;*Macro unroll:  _skip
2031   C3 31 20               JP   $   
2034                          ;*Macro unroll:  STRUC_PUSH $
2034                STRUC_COUNT:   .SET   STRUC_COUNT + 1   
2034                STRUC_12:   .SET   STRUC_11   
2034                STRUC_11:   .SET   STRUC_10   
2034                STRUC_10:   .SET   STRUC_9   
2034                STRUC_9:   .SET   STRUC_8   
2034                STRUC_8:   .SET   STRUC_7   
2034                STRUC_7:   .SET   STRUC_6   
2034                STRUC_6:   .SET   STRUC_5   
2034                STRUC_5:   .SET   STRUC_4   
2034                STRUC_4:   .SET   STRUC_3   
2034                STRUC_3:   .SET   STRUC_2   
2034                STRUC_2:   .SET   STRUC_TOP   
2034                STRUC_TOP:   .SET   $   
2034                TE_FAILM_2928:      
2034   07 31 30 30 20 2B 20 31 .PSTR   "100 + 1"   
203C                          ;*Macro unroll:  _endskip
203C                          ;*Macro unroll:  STRUC_FWD
203C                CUR_ADR:   .SET   $   
2032                          .ORG   STRUC_TOP - 2   
2032   3C 20                  DW   CUR_ADR   
203C                          .ORG   CUR_ADR   
203C                          ;*Macro unroll:  STRUC_POP
203C                STRUC_COUNT:   .SET   STRUC_COUNT - 1   
203C                STRUC_TOP:   .SET   STRUC_2   
203C                STRUC_2:   .SET   STRUC_3   
203C                STRUC_3:   .SET   STRUC_4   
203C                STRUC_4:   .SET   STRUC_5   
203C                STRUC_5:   .SET   STRUC_6   
203C                STRUC_6:   .SET   STRUC_7   
203C                STRUC_7:   .SET   STRUC_8   
203C                STRUC_8:   .SET   STRUC_9   
203C                STRUC_9:   .SET   STRUC_10   
203C                STRUC_10:   .SET   STRUC_11   
203C                STRUC_11:   .SET   STRUC_12   
203C                STRUC_12:   .SET   0   
203C                TF_DONEM_2928:      
203C                          ENDIF      
203C                          IF   TESTMODE   
203C                          ;*Macro unroll:  PRINT_STR DONE
203C                          ;*Macro unroll:  ppush0 D,E
203C   DD 73 00               LD   (IX+0),E   
203F   DD 23                  INC   IX   
2041   DD 72 00               LD   (IX+0),D   
2044   DD 23                  INC   IX   
2046   11 30 07               LD   DE,DONE   
2049   CD C4 01               CALL   printPStr   
204C                          ;*Macro unroll:  ppop0 D,E
204C   DD 2B                  DEC   IX   
204E   DD 56 00               LD   D,(IX+0)   
2051   DD 2B                  DEC   IX   
2053   DD 5E 00               LD   E,(IX+0)   
2056   76                     HALT      
2057                          ENDIF      
2057                ADD100:      ; base data ptr -- ptr length
2057   CF                     RST   $08   
2058   CF 0E                  DW   beginFrame   
205A   0E 03 64 00            DW   lit,100   
205E   1D 0F 56 0F 26 04 97 04 DW   p1,v1,fetch,plus   
2066   E8 0E                  DW   endFrame   
2068                          ;*Macro unroll:  EXIT
2068   84 0F                  DW   exit   
206A   C3 A8 07               JP   enter   
206D                             ; 
206D                             ; variables
206D                             ; 
206D                             ; storage locations declared in RAM
206D                             ; 
206D                SERBUF:   DS   SER_BUFSIZE   
20AC   00 00        SERINPTR:   DW   0   
20AE   00 00        SERRDPTR:   DW   0   
20B0   00 00        SERBUFUSED:   DW   0   
20B2   00 00        LINEBUFSTART:   DW   0   
20B4   00 00        LINEBUFSIZE:   DW   0   
20B6   00 00        CURRKEY:   DW   0   
20B8   00 00        LINEBUFTOP:   DW   0   
20BA                LINEBUF:   DS   LINE_BUFSIZE   
213A                             ; A static lineBuf TOKEN fills.  Subsequent calls
213A                             ; overwrite this lineBuf.  Maximum word length is 32 chars.
213A   00 00        EXITADDR:   DW   0   
213C                WORDBUF:   DS   64   
217C                WORDBUF2:   DS   64   
21BC                DATA_STACK:   DS   DATA_STACK_SIZE   
223C   00 00        IS_LITERAL:   DW   0   ; Flag used to record if reading a literal
223E   00 00        VAR_FRAMEPTR:   DW   0   
2240                VAR_PAD:   DS   PAD_SIZE   
22C0   00 00        VAR_HERE:   DW   0   
22C2   00 00        VAR_INTP_STOP:   DW   0   
22C4   00 00        VAR_STATE:   DW   0   
22C6   00 00        VAR_NESTING:   DW   0   
22C8   00 00        VAR_SP0:   DW   0   ;PAR_STACK
22CA   00 00        VAR_BASE:   DW   0   
22CC   00 00        VAR_LATEST_STR:   DW   0   
22CE   00 00        VAR_LATEST:   DW   0   
22D0                          IF   TESTMODE   
22D0                             ; used for mocking getc
22D0   00 00        CHAR_POINTER:   DW   0   
22D2                          ENDIF      
22D2                START_USER:      ; user allocated data starts here


TESTMODE:           0002 DEFINED AT LINE 3
ROM_SIZE:           2000 DEFINED AT LINE 7 IN constants.z80
                    > USED AT LINE 8 IN constants.z80
                    > USED AT LINE 19 IN constants.z80
RAM_SIZE:           E000 DEFINED AT LINE 8 IN constants.z80
                    > USED AT LINE 20 IN constants.z80
RET_STACK_SIZE:     0080 DEFINED AT LINE 9 IN constants.z80
DATA_STACK_SIZE:    0080 DEFINED AT LINE 10 IN constants.z80
                    > USED AT LINE 23 IN variables.z80
PAD_SIZE:           0080 DEFINED AT LINE 11 IN constants.z80
                    > USED AT LINE 27 IN variables.z80
SER_BUFSIZE:        003F DEFINED AT LINE 13 IN constants.z80
                    > USED AT LINE 35 IN serial.z80
                    > USED AT LINE 42 IN serial.z80
                    > USED AT LINE 7 IN variables.z80
SER_FULLSIZE:       0030 DEFINED AT LINE 14 IN constants.z80
                    > USED AT LINE 52 IN serial.z80
SER_EMPTYSIZE:      0005 DEFINED AT LINE 15 IN constants.z80
LINE_BUFSIZE:       0080 DEFINED AT LINE 16 IN constants.z80
                    > USED AT LINE 16 IN serial.z80
                    > USED AT LINE 15 IN variables.z80
START_ROM:          0000 DEFINED AT LINE 18 IN constants.z80
                    > USED AT LINE 19 IN constants.z80
                    > USED AT LINE 11
START_RAM:          2000 DEFINED AT LINE 19 IN constants.z80
                    > USED AT LINE 20 IN constants.z80
                    > USED AT LINE 59
END_RAM:            10000 DEFINED AT LINE 20 IN constants.z80
                    > USED AT LINE 21 IN constants.z80
RET_STACK:          10000 DEFINED AT LINE 21 IN constants.z80
                    > USED AT LINE 51
                    > USED AT LINE 47
IO_DATA:            0081 DEFINED AT LINE 23 IN constants.z80
IO_CTRL:            0080 DEFINED AT LINE 24 IN constants.z80
MSK_IMMED:          0080 DEFINED AT LINE 26 IN constants.z80
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 36 IN headless-words.z80
                    > USED AT LINE 36
                    > USED AT LINE 124 IN extra-primitives.z80
                    > USED AT LINE 36
                    > USED AT LINE 51
MSK_HIDDEN:         0040 DEFINED AT LINE 27 IN constants.z80
                    > USED AT LINE 47 IN core-primitives.z80
                    > USED AT LINE 373 IN core-utilities.z80
                    > USED AT LINE 418 IN core-utilities.z80
                    > USED AT LINE 51
MSK_LENGTH:         003F DEFINED AT LINE 28 IN constants.z80
                    > USED AT LINE 373 IN core-utilities.z80
                    > USED AT LINE 418 IN core-utilities.z80
                    > USED AT LINE 24 IN core-words.z80
                    > USED AT LINE 51
CALL_OPCODE:        00CD DEFINED AT LINE 30 IN constants.z80
                    > USED AT LINE 67 IN compiler-words.z80
                    > USED AT LINE 96 IN headless-words.z80
JP_OPCODE:          00C3 DEFINED AT LINE 31 IN constants.z80
                    > USED AT LINE 54 IN compiler-words.z80
LD_HL_OPCODE:       0021 DEFINED AT LINE 32 IN constants.z80
POP_HL_OPCODE:      00E1 DEFINED AT LINE 33 IN constants.z80
RET_OPCODE:         00C9 DEFINED AT LINE 34 IN constants.z80
RST08_OPCODE:       00CF DEFINED AT LINE 35 IN constants.z80
                    > USED AT LINE 233 IN core-words.z80
                    > USED AT LINE 13 IN compiler-words.z80
                    > USED AT LINE 28 IN compiler-words.z80
RTS_HIGH:           00D6 DEFINED AT LINE 37 IN constants.z80
                    > USED AT LINE 54 IN serial.z80
RTS_LOW:            0096 DEFINED AT LINE 38 IN constants.z80
                    > USED AT LINE 19 IN serial.z80
                    > USED AT LINE 35 IN core-utilities.z80
LINK:               1483 DEFINED AT LINE 34
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
STRUC_COUNT:        203B DEFINED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 29
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 46
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
STRUC_12:           0000 DEFINED AT LINE 59
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
STRUC_11:           0000 DEFINED AT LINE 58
                    > USED AT LINE 31
                    > USED AT LINE 31
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 57
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
STRUC_10:           0000 DEFINED AT LINE 57
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 56
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
STRUC_9:            0000 DEFINED AT LINE 56
                    > USED AT LINE 33
                    > USED AT LINE 33
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 55
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
STRUC_8:            0000 DEFINED AT LINE 55
                    > USED AT LINE 34
                    > USED AT LINE 34
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 54
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
STRUC_7:            0000 DEFINED AT LINE 54
                    > USED AT LINE 35
                    > USED AT LINE 35
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
STRUC_6:            0000 DEFINED AT LINE 53
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 52
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
STRUC_5:            0000 DEFINED AT LINE 52
                    > USED AT LINE 37
                    > USED AT LINE 37
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 51
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
STRUC_4:            0000 DEFINED AT LINE 51
                    > USED AT LINE 38
                    > USED AT LINE 38
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 50
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
STRUC_3:            0000 DEFINED AT LINE 50
                    > USED AT LINE 39
                    > USED AT LINE 39
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 49
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
STRUC_2:            0000 DEFINED AT LINE 49
                    > USED AT LINE 40
                    > USED AT LINE 40
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 48
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 106
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 106
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 106
                    > USED AT LINE 48
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
STRUC_TOP:          0000 DEFINED AT LINE 48
                    > USED AT LINE 41
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 64
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 64
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 64
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 64
DLOOP_COUNT:        117E DEFINED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
                    > USED AT LINE 29
                    > USED AT LINE 46
DLOOP_12:           0000 DEFINED AT LINE 59
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
                    > USED AT LINE 58
DLOOP_11:           0000 DEFINED AT LINE 58
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
                    > USED AT LINE 31
                    > USED AT LINE 57
DLOOP_10:           0000 DEFINED AT LINE 57
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
                    > USED AT LINE 32
                    > USED AT LINE 56
DLOOP_9:            0000 DEFINED AT LINE 56
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
                    > USED AT LINE 33
                    > USED AT LINE 55
DLOOP_8:            0000 DEFINED AT LINE 55
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
                    > USED AT LINE 34
                    > USED AT LINE 54
DLOOP_7:            0000 DEFINED AT LINE 54
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
                    > USED AT LINE 35
                    > USED AT LINE 53
DLOOP_6:            0000 DEFINED AT LINE 53
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
                    > USED AT LINE 36
                    > USED AT LINE 52
DLOOP_5:            0000 DEFINED AT LINE 52
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
                    > USED AT LINE 37
                    > USED AT LINE 51
DLOOP_4:            0000 DEFINED AT LINE 51
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
                    > USED AT LINE 38
                    > USED AT LINE 50
DLOOP_3:            0000 DEFINED AT LINE 50
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
                    > USED AT LINE 39
                    > USED AT LINE 49
DLOOP_2:            0000 DEFINED AT LINE 49
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
                    > USED AT LINE 40
                    > USED AT LINE 48
DLOOP_TOP:          0000 DEFINED AT LINE 48
                    > USED AT LINE 41
                    > USED AT LINE 84
                    > USED AT LINE 64
                    > USED AT LINE 97
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 41
                    > USED AT LINE 97
                    > USED AT LINE 64
                    > USED AT LINE 84
                    > USED AT LINE 64
                    > USED AT LINE 97
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 84
                    > USED AT LINE 64
                    > USED AT LINE 97
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 84
                    > USED AT LINE 64
                    > USED AT LINE 97
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 103
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 103
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 103
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 103
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 84
                    > USED AT LINE 64
                    > USED AT LINE 84
                    > USED AT LINE 64
                    > USED AT LINE 84
                    > USED AT LINE 64
                    > USED AT LINE 97
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 84
                    > USED AT LINE 64
                    > USED AT LINE 97
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 84
                    > USED AT LINE 64
                    > USED AT LINE 97
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 97
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 84
                    > USED AT LINE 64
                    > USED AT LINE 97
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 89
                    > USED AT LINE 41
                    > USED AT LINE 84
                    > USED AT LINE 64
                    > USED AT LINE 97
                    > USED AT LINE 64
                    > USED AT LINE 89
                    > USED AT LINE 97
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 84
                    > USED AT LINE 64
                    > USED AT LINE 84
                    > USED AT LINE 64
                    > USED AT LINE 103
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 103
                    > USED AT LINE 64
                    > USED AT LINE 41
                    > USED AT LINE 103
                    > USED AT LINE 64
CPL_COUNT:          1319 DEFINED AT LINE 43
                    > USED AT LINE 28
                    > USED AT LINE 43
                    > USED AT LINE 28
                    > USED AT LINE 28
                    > USED AT LINE 43
                    > USED AT LINE 43
                    > USED AT LINE 28
                    > USED AT LINE 43
                    > USED AT LINE 28
                    > USED AT LINE 43
                    > USED AT LINE 28
                    > USED AT LINE 43
                    > USED AT LINE 28
                    > USED AT LINE 28
                    > USED AT LINE 43
                    > USED AT LINE 43
                    > USED AT LINE 28
                    > USED AT LINE 43
                    > USED AT LINE 28
                    > USED AT LINE 43
                    > USED AT LINE 28
                    > USED AT LINE 43
                    > USED AT LINE 28
                    > USED AT LINE 43
                    > USED AT LINE 28
                    > USED AT LINE 28
                    > USED AT LINE 43
                    > USED AT LINE 43
                    > USED AT LINE 28
                    > USED AT LINE 28
                    > USED AT LINE 43
                    > USED AT LINE 43
                    > USED AT LINE 28
                    > USED AT LINE 43
                    > USED AT LINE 28
                    > USED AT LINE 43
                    > USED AT LINE 28
                    > USED AT LINE 28
                    > USED AT LINE 43
                    > USED AT LINE 43
                    > USED AT LINE 28
                    > USED AT LINE 43
CPL_10:             0000 DEFINED AT LINE 54
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 53
                    > USED AT LINE 53
CPL_9:              0000 DEFINED AT LINE 53
                    > USED AT LINE 30
                    > USED AT LINE 52
                    > USED AT LINE 30
                    > USED AT LINE 30
                    > USED AT LINE 52
                    > USED AT LINE 52
                    > USED AT LINE 30
                    > USED AT LINE 52
                    > USED AT LINE 30
                    > USED AT LINE 52
                    > USED AT LINE 30
                    > USED AT LINE 52
                    > USED AT LINE 30
                    > USED AT LINE 30
                    > USED AT LINE 52
                    > USED AT LINE 52
                    > USED AT LINE 30
                    > USED AT LINE 52
                    > USED AT LINE 30
                    > USED AT LINE 52
                    > USED AT LINE 30
                    > USED AT LINE 52
                    > USED AT LINE 30
                    > USED AT LINE 52
                    > USED AT LINE 30
                    > USED AT LINE 30
                    > USED AT LINE 52
                    > USED AT LINE 52
                    > USED AT LINE 30
                    > USED AT LINE 30
                    > USED AT LINE 52
                    > USED AT LINE 52
                    > USED AT LINE 30
                    > USED AT LINE 52
                    > USED AT LINE 30
                    > USED AT LINE 52
                    > USED AT LINE 30
                    > USED AT LINE 30
                    > USED AT LINE 52
                    > USED AT LINE 52
                    > USED AT LINE 30
                    > USED AT LINE 52
CPL_8:              0000 DEFINED AT LINE 52
                    > USED AT LINE 31
                    > USED AT LINE 51
                    > USED AT LINE 31
                    > USED AT LINE 31
                    > USED AT LINE 51
                    > USED AT LINE 51
                    > USED AT LINE 31
                    > USED AT LINE 51
                    > USED AT LINE 31
                    > USED AT LINE 51
                    > USED AT LINE 31
                    > USED AT LINE 51
                    > USED AT LINE 31
                    > USED AT LINE 31
                    > USED AT LINE 51
                    > USED AT LINE 51
                    > USED AT LINE 31
                    > USED AT LINE 51
                    > USED AT LINE 31
                    > USED AT LINE 51
                    > USED AT LINE 31
                    > USED AT LINE 51
                    > USED AT LINE 31
                    > USED AT LINE 51
                    > USED AT LINE 31
                    > USED AT LINE 31
                    > USED AT LINE 51
                    > USED AT LINE 51
                    > USED AT LINE 31
                    > USED AT LINE 31
                    > USED AT LINE 51
                    > USED AT LINE 51
                    > USED AT LINE 31
                    > USED AT LINE 51
                    > USED AT LINE 31
                    > USED AT LINE 51
                    > USED AT LINE 31
                    > USED AT LINE 31
                    > USED AT LINE 51
                    > USED AT LINE 51
                    > USED AT LINE 31
                    > USED AT LINE 51
CPL_7:              0000 DEFINED AT LINE 51
                    > USED AT LINE 32
                    > USED AT LINE 50
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 50
                    > USED AT LINE 50
                    > USED AT LINE 32
                    > USED AT LINE 50
                    > USED AT LINE 32
                    > USED AT LINE 50
                    > USED AT LINE 32
                    > USED AT LINE 50
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 50
                    > USED AT LINE 50
                    > USED AT LINE 32
                    > USED AT LINE 50
                    > USED AT LINE 32
                    > USED AT LINE 50
                    > USED AT LINE 32
                    > USED AT LINE 50
                    > USED AT LINE 32
                    > USED AT LINE 50
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 50
                    > USED AT LINE 50
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 50
                    > USED AT LINE 50
                    > USED AT LINE 32
                    > USED AT LINE 50
                    > USED AT LINE 32
                    > USED AT LINE 50
                    > USED AT LINE 32
                    > USED AT LINE 32
                    > USED AT LINE 50
                    > USED AT LINE 50
                    > USED AT LINE 32
                    > USED AT LINE 50
CPL_6:              0000 DEFINED AT LINE 50
                    > USED AT LINE 33
                    > USED AT LINE 49
                    > USED AT LINE 33
                    > USED AT LINE 33
                    > USED AT LINE 49
                    > USED AT LINE 49
                    > USED AT LINE 33
                    > USED AT LINE 49
                    > USED AT LINE 33
                    > USED AT LINE 49
                    > USED AT LINE 33
                    > USED AT LINE 49
                    > USED AT LINE 33
                    > USED AT LINE 33
                    > USED AT LINE 49
                    > USED AT LINE 49
                    > USED AT LINE 33
                    > USED AT LINE 49
                    > USED AT LINE 33
                    > USED AT LINE 49
                    > USED AT LINE 33
                    > USED AT LINE 49
                    > USED AT LINE 33
                    > USED AT LINE 49
                    > USED AT LINE 33
                    > USED AT LINE 33
                    > USED AT LINE 49
                    > USED AT LINE 49
                    > USED AT LINE 33
                    > USED AT LINE 33
                    > USED AT LINE 49
                    > USED AT LINE 49
                    > USED AT LINE 33
                    > USED AT LINE 49
                    > USED AT LINE 33
                    > USED AT LINE 49
                    > USED AT LINE 33
                    > USED AT LINE 33
                    > USED AT LINE 49
                    > USED AT LINE 49
                    > USED AT LINE 33
                    > USED AT LINE 49
CPL_5:              0000 DEFINED AT LINE 49
                    > USED AT LINE 34
                    > USED AT LINE 48
                    > USED AT LINE 34
                    > USED AT LINE 34
                    > USED AT LINE 48
                    > USED AT LINE 48
                    > USED AT LINE 34
                    > USED AT LINE 48
                    > USED AT LINE 34
                    > USED AT LINE 48
                    > USED AT LINE 34
                    > USED AT LINE 48
                    > USED AT LINE 34
                    > USED AT LINE 34
                    > USED AT LINE 48
                    > USED AT LINE 48
                    > USED AT LINE 34
                    > USED AT LINE 48
                    > USED AT LINE 34
                    > USED AT LINE 48
                    > USED AT LINE 34
                    > USED AT LINE 48
                    > USED AT LINE 34
                    > USED AT LINE 48
                    > USED AT LINE 34
                    > USED AT LINE 34
                    > USED AT LINE 48
                    > USED AT LINE 48
                    > USED AT LINE 34
                    > USED AT LINE 34
                    > USED AT LINE 48
                    > USED AT LINE 48
                    > USED AT LINE 34
                    > USED AT LINE 48
                    > USED AT LINE 34
                    > USED AT LINE 48
                    > USED AT LINE 34
                    > USED AT LINE 34
                    > USED AT LINE 48
                    > USED AT LINE 48
                    > USED AT LINE 34
                    > USED AT LINE 48
CPL_4:              0000 DEFINED AT LINE 48
                    > USED AT LINE 35
                    > USED AT LINE 47
                    > USED AT LINE 35
                    > USED AT LINE 35
                    > USED AT LINE 47
                    > USED AT LINE 47
                    > USED AT LINE 35
                    > USED AT LINE 47
                    > USED AT LINE 35
                    > USED AT LINE 47
                    > USED AT LINE 35
                    > USED AT LINE 47
                    > USED AT LINE 35
                    > USED AT LINE 35
                    > USED AT LINE 47
                    > USED AT LINE 47
                    > USED AT LINE 35
                    > USED AT LINE 47
                    > USED AT LINE 35
                    > USED AT LINE 47
                    > USED AT LINE 35
                    > USED AT LINE 47
                    > USED AT LINE 35
                    > USED AT LINE 47
                    > USED AT LINE 35
                    > USED AT LINE 35
                    > USED AT LINE 47
                    > USED AT LINE 47
                    > USED AT LINE 35
                    > USED AT LINE 35
                    > USED AT LINE 47
                    > USED AT LINE 47
                    > USED AT LINE 35
                    > USED AT LINE 47
                    > USED AT LINE 35
                    > USED AT LINE 47
                    > USED AT LINE 35
                    > USED AT LINE 35
                    > USED AT LINE 47
                    > USED AT LINE 47
                    > USED AT LINE 35
                    > USED AT LINE 47
CPL_3:              0000 DEFINED AT LINE 47
                    > USED AT LINE 36
                    > USED AT LINE 46
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 46
                    > USED AT LINE 46
                    > USED AT LINE 36
                    > USED AT LINE 46
                    > USED AT LINE 36
                    > USED AT LINE 46
                    > USED AT LINE 36
                    > USED AT LINE 46
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 46
                    > USED AT LINE 46
                    > USED AT LINE 36
                    > USED AT LINE 46
                    > USED AT LINE 36
                    > USED AT LINE 46
                    > USED AT LINE 36
                    > USED AT LINE 46
                    > USED AT LINE 36
                    > USED AT LINE 46
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 46
                    > USED AT LINE 46
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 46
                    > USED AT LINE 46
                    > USED AT LINE 36
                    > USED AT LINE 46
                    > USED AT LINE 36
                    > USED AT LINE 46
                    > USED AT LINE 36
                    > USED AT LINE 36
                    > USED AT LINE 46
                    > USED AT LINE 46
                    > USED AT LINE 36
                    > USED AT LINE 46
CPL_2:              0000 DEFINED AT LINE 46
                    > USED AT LINE 37
                    > USED AT LINE 45
                    > USED AT LINE 37
                    > USED AT LINE 37
                    > USED AT LINE 45
                    > USED AT LINE 45
                    > USED AT LINE 37
                    > USED AT LINE 45
                    > USED AT LINE 37
                    > USED AT LINE 45
                    > USED AT LINE 37
                    > USED AT LINE 45
                    > USED AT LINE 37
                    > USED AT LINE 37
                    > USED AT LINE 45
                    > USED AT LINE 45
                    > USED AT LINE 37
                    > USED AT LINE 45
                    > USED AT LINE 37
                    > USED AT LINE 45
                    > USED AT LINE 37
                    > USED AT LINE 45
                    > USED AT LINE 37
                    > USED AT LINE 45
                    > USED AT LINE 37
                    > USED AT LINE 37
                    > USED AT LINE 45
                    > USED AT LINE 45
                    > USED AT LINE 37
                    > USED AT LINE 37
                    > USED AT LINE 45
                    > USED AT LINE 45
                    > USED AT LINE 37
                    > USED AT LINE 45
                    > USED AT LINE 37
                    > USED AT LINE 45
                    > USED AT LINE 37
                    > USED AT LINE 37
                    > USED AT LINE 45
                    > USED AT LINE 45
                    > USED AT LINE 37
                    > USED AT LINE 45
CPL_TOP:            0000 DEFINED AT LINE 45
                    > USED AT LINE 38
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 38
                    > USED AT LINE 38
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 103
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 38
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 38
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 38
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 38
                    > USED AT LINE 38
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 38
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 38
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 38
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 38
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 38
                    > USED AT LINE 38
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 38
                    > USED AT LINE 38
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 38
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 38
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 38
                    > USED AT LINE 38
                    > USED AT LINE 103
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 38
                    > USED AT LINE 59
                    > USED AT LINE 60
                    > USED AT LINE 59
                    > USED AT LINE 60
RST00:              0000 DEFINED AT LINE 12
RST08:              0008 DEFINED AT LINE 17
RST38:              0038 DEFINED AT LINE 21
RST66:              0066 DEFINED AT LINE 25
INITSERIAL:         0067 DEFINED AT LINE 3 IN serial.z80
                    > USED AT LINE 48
SERIALIN:           0090 DEFINED AT LINE 25 IN serial.z80
                    > USED AT LINE 22
L_M_625:            009C DEFINED AT LINE 75
                    > USED AT LINE 72
L_M_630:            00AA DEFINED AT LINE 75
                    > USED AT LINE 72
CUR_ADR:            203C DEFINED AT LINE 63
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 65
                    > USED AT LINE 66
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 60
                    > USED AT LINE 61
                    > USED AT LINE 65
                    > USED AT LINE 66
L_M_637:            00BB DEFINED AT LINE 75
                    > USED AT LINE 72
L_M_647:            00D2 DEFINED AT LINE 75
                    > USED AT LINE 72
GETC:               00DA DEFINED AT LINE 69 IN serial.z80
                    > USED AT LINE 146 IN serial.z80
PUTC:               00E5 DEFINED AT LINE 115 IN serial.z80
                    > USED AT LINE 154 IN serial.z80
                    > USED AT LINE 157 IN serial.z80
                    > USED AT LINE 165 IN serial.z80
                    > USED AT LINE 190 IN serial.z80
                    > USED AT LINE 275 IN serial.z80
                    > USED AT LINE 424 IN core-utilities.z80
                    > USED AT LINE 152 IN extra-primitives.z80
L_M_705:            00EB DEFINED AT LINE 73
                    > USED AT LINE 70
INPUTREADY:         00F9 DEFINED AT LINE 126 IN serial.z80
                    > USED AT LINE 158 IN extra-primitives.z80
GETLINE:            00FF DEFINED AT LINE 137 IN serial.z80
                    > USED AT LINE 215 IN serial.z80
                    > USED AT LINE 141 IN extra-primitives.z80
L_M_729:            0125 DEFINED AT LINE 73
                    > USED AT LINE 70
L_M_730:            012A DEFINED AT LINE 73
                    > USED AT LINE 70
L_M_733:            0135 DEFINED AT LINE 75
                    > USED AT LINE 72
L_M_735:            013D DEFINED AT LINE 75
                    > USED AT LINE 72
L_M_749:            015A DEFINED AT LINE 75
                    > USED AT LINE 72
GETLINECHECK:       016C DEFINED AT LINE 177 IN serial.z80
                    > USED AT LINE 169 IN serial.z80
                    > USED AT LINE 171 IN serial.z80
                    > USED AT LINE 174 IN serial.z80
PRINTROUTINE:       017B DEFINED AT LINE 187 IN serial.z80
                    > USED AT LINE 244 IN serial.z80
                    > USED AT LINE 259 IN serial.z80
L_M_771:            0180 DEFINED AT LINE 73
                    > USED AT LINE 70
GETKEY:             018F DEFINED AT LINE 204 IN serial.z80
                    > USED AT LINE 444 IN core-utilities.z80
                    > USED AT LINE 458 IN core-utilities.z80
                    > USED AT LINE 499 IN core-utilities.z80
                    > USED AT LINE 145 IN extra-primitives.z80
L_M_793:            01A2 DEFINED AT LINE 75
                    > USED AT LINE 72
PRINTPSTR:          01C4 DEFINED AT LINE 236 IN serial.z80
                    > USED AT LINE 167
                    > USED AT LINE 268 IN serial.z80
                    > USED AT LINE 12 IN extra-primitives.z80
                    > USED AT LINE 29
                    > USED AT LINE 31
                    > USED AT LINE 167
PRINTSTR:           01D3 DEFINED AT LINE 255 IN serial.z80
                    > USED AT LINE 400 IN core-primitives.z80
                    > USED AT LINE 410 IN core-primitives.z80
                    > USED AT LINE 68 IN core-utilities.z80
                    > USED AT LINE 422 IN core-utilities.z80
PRINTCR:            01DD DEFINED AT LINE 265 IN serial.z80
                    > USED AT LINE 184 IN serial.z80
                    > USED AT LINE 415 IN core-primitives.z80
                    > USED AT LINE 430 IN core-utilities.z80
PRINTSPACE:         01E6 DEFINED AT LINE 272 IN serial.z80
                    > USED AT LINE 155 IN serial.z80
                    > USED AT LINE 401 IN core-primitives.z80
                    > USED AT LINE 69 IN core-utilities.z80
                    > USED AT LINE 423 IN core-utilities.z80
TXT_NEWLINE:        01EE DEFINED AT LINE 1 IN mon-utilities.z80
                    > USED AT LINE 267 IN serial.z80
TXT_PROMPT:         01F1 DEFINED AT LINE 2 IN mon-utilities.z80
                    > USED AT LINE 166
STACKPROMPT:        01F6 DEFINED AT LINE 3 IN mon-utilities.z80
TXT_MONITOR_INTRO:  01FA DEFINED AT LINE 5 IN mon-utilities.z80
HEADER_XWORD:       021E DEFINED AT LINE 31
                    > USED AT LINE 34
XWORD:              0226 DEFINED AT LINE 38
                    > USED AT LINE 17 IN core-words.z80
                    > USED AT LINE 212 IN core-words.z80
HEADER_FIND:        022F DEFINED AT LINE 31
                    > USED AT LINE 34
FIND:               0236 DEFINED AT LINE 38
HEADER_EXECUTE:     0248 DEFINED AT LINE 31
                    > USED AT LINE 34
EXECUTE:            0252 DEFINED AT LINE 38
                    > USED AT LINE 258 IN core-words.z80
                    > USED AT LINE 46 IN headless-words.z80
                    > USED AT LINE 49 IN headless-words.z80
HEADER_NUMBER:      025F DEFINED AT LINE 31
                    > USED AT LINE 34
NUMBER:             0268 DEFINED AT LINE 38
                    > USED AT LINE 56 IN headless-words.z80
HEADER_ADDSTORE:    0282 DEFINED AT LINE 31
                    > USED AT LINE 34
ADDSTORE:           0287 DEFINED AT LINE 38
                    > USED AT LINE 38 IN core-words.z80
HEADER_HIDDEN:      02A7 DEFINED AT LINE 31
                    > USED AT LINE 34
HIDDEN:             02B0 DEFINED AT LINE 38
HEADER_ONEPLUS:     02C5 DEFINED AT LINE 31
                    > USED AT LINE 34
ONEPLUS:            02CA DEFINED AT LINE 38
                    > USED AT LINE 55 IN core-words.z80
                    > USED AT LINE 216 IN core-words.z80
                    > USED AT LINE 53 IN compiler-words.z80
                    > USED AT LINE 69 IN compiler-words.z80
                    > USED AT LINE 98 IN headless-words.z80
                    > USED AT LINE 58 IN extra-primitives.z80
HEADER_TWOPLUS:     02CE DEFINED AT LINE 31
                    > USED AT LINE 34
TWOPLUS:            02D3 DEFINED AT LINE 38
                    > USED AT LINE 54 IN extra-primitives.z80
HEADER_ZBRANCH:     02D8 DEFINED AT LINE 31
                    > USED AT LINE 34
ZBRANCH:            02E2 DEFINED AT LINE 38
                    > USED AT LINE 65
                    > USED AT LINE 65
                    > USED AT LINE 65
                    > USED AT LINE 65
                    > USED AT LINE 65
                    > USED AT LINE 140 IN core-words.z80
                    > USED AT LINE 176 IN core-words.z80
                    > USED AT LINE 65
                    > USED AT LINE 65
                    > USED AT LINE 65
                    > USED AT LINE 65
                    > USED AT LINE 65
                    > USED AT LINE 65
                    > USED AT LINE 65
                    > USED AT LINE 65
                    > USED AT LINE 65
                    > USED AT LINE 65
                    > USED AT LINE 65
                    > USED AT LINE 65
                    > USED AT LINE 65
                    > USED AT LINE 91
                    > USED AT LINE 65
HEADER_BRANCH:      02F6 DEFINED AT LINE 31
                    > USED AT LINE 34
BRANCH:             02FF DEFINED AT LINE 38
                    > USED AT LINE 66 IN core-primitives.z80
                    > USED AT LINE 81
                    > USED AT LINE 82
                    > USED AT LINE 103
                    > USED AT LINE 146 IN core-words.z80
                    > USED AT LINE 183 IN core-words.z80
                    > USED AT LINE 70
                    > USED AT LINE 70
                    > USED AT LINE 70
                    > USED AT LINE 70
                    > USED AT LINE 70
                    > USED AT LINE 70
                    > USED AT LINE 70
                    > USED AT LINE 70
                    > USED AT LINE 81
                    > USED AT LINE 82
                    > USED AT LINE 103
                    > USED AT LINE 70
HEADER_LIT:         0308 DEFINED AT LINE 31
                    > USED AT LINE 34
LIT:                030E DEFINED AT LINE 38
                    > USED AT LINE 15 IN core-words.z80
                    > USED AT LINE 22 IN core-words.z80
                    > USED AT LINE 24 IN core-words.z80
                    > USED AT LINE 31 IN core-words.z80
                    > USED AT LINE 60 IN core-words.z80
                    > USED AT LINE 140 IN core-words.z80
                    > USED AT LINE 146 IN core-words.z80
                    > USED AT LINE 148 IN core-words.z80
                    > USED AT LINE 176 IN core-words.z80
                    > USED AT LINE 178 IN core-words.z80
                    > USED AT LINE 183 IN core-words.z80
                    > USED AT LINE 201 IN core-words.z80
                    > USED AT LINE 202 IN core-words.z80
                    > USED AT LINE 204 IN core-words.z80
                    > USED AT LINE 206 IN core-words.z80
                    > USED AT LINE 208 IN core-words.z80
                    > USED AT LINE 214 IN core-words.z80
                    > USED AT LINE 215 IN core-words.z80
                    > USED AT LINE 233 IN core-words.z80
                    > USED AT LINE 245 IN core-words.z80
                    > USED AT LINE 11 IN compiler-words.z80
                    > USED AT LINE 13 IN compiler-words.z80
                    > USED AT LINE 20 IN compiler-words.z80
                    > USED AT LINE 28 IN compiler-words.z80
                    > USED AT LINE 34 IN compiler-words.z80
                    > USED AT LINE 54 IN compiler-words.z80
                    > USED AT LINE 55 IN compiler-words.z80
                    > USED AT LINE 64 IN compiler-words.z80
                    > USED AT LINE 65 IN compiler-words.z80
                    > USED AT LINE 67 IN compiler-words.z80
                    > USED AT LINE 70 IN compiler-words.z80
                    > USED AT LINE 34 IN experimental.z80
                    > USED AT LINE 39 IN experimental.z80
                    > USED AT LINE 44 IN experimental.z80
                    > USED AT LINE 49 IN experimental.z80
                    > USED AT LINE 54 IN experimental.z80
                    > USED AT LINE 59 IN experimental.z80
                    > USED AT LINE 35 IN headless-words.z80
                    > USED AT LINE 36 IN headless-words.z80
                    > USED AT LINE 62 IN headless-words.z80
                    > USED AT LINE 62 IN headless-words.z80
                    > USED AT LINE 96 IN headless-words.z80
                    > USED AT LINE 9 IN extra-words.z80
                    > USED AT LINE 14 IN extra-words.z80
                    > USED AT LINE 47 IN extra-words.z80
                    > USED AT LINE 52 IN extra-words.z80
                    > USED AT LINE 56 IN extra-words.z80
                    > USED AT LINE 70 IN extra-words.z80
                    > USED AT LINE 77
                    > USED AT LINE 92
HEADER_ZEROLESS:    0320 DEFINED AT LINE 31
                    > USED AT LINE 34
ZEROLESS:           0325 DEFINED AT LINE 38
                    > USED AT LINE 45 IN core-words.z80
                    > USED AT LINE 88 IN core-words.z80
                    > USED AT LINE 98 IN core-words.z80
                    > USED AT LINE 102 IN core-words.z80
HEADER_INVERT:      0330 DEFINED AT LINE 31
                    > USED AT LINE 34
INVERT:             0339 DEFINED AT LINE 38
                    > USED AT LINE 54 IN core-words.z80
HEADER_TRUE:        0342 DEFINED AT LINE 31
                    > USED AT LINE 34
TRUE:               0349 DEFINED AT LINE 38
HEADER_FALSE:       0359 DEFINED AT LINE 31
                    > USED AT LINE 34
FALSE:              0361 DEFINED AT LINE 38
HEADER_EQUAL:       0371 DEFINED AT LINE 31
                    > USED AT LINE 34
EQUAL:              0375 DEFINED AT LINE 38
L_M_966:            0388 DEFINED AT LINE 75
                    > USED AT LINE 72
HEADER_LESSTHAN:    038F DEFINED AT LINE 31
                    > USED AT LINE 34
LESSTHAN:           0393 DEFINED AT LINE 38
                    > USED AT LINE 159 IN core-primitives.z80
                    > USED AT LINE 21 IN extra-words.z80
                    > USED AT LINE 33 IN extra-words.z80
L_M_976:            03A6 DEFINED AT LINE 75
                    > USED AT LINE 72
L_M_977:            03AC DEFINED AT LINE 75
                    > USED AT LINE 72
L_M_983:            03BE DEFINED AT LINE 75
                    > USED AT LINE 72
HEADER_GREATERTHAN: 03CA DEFINED AT LINE 31
                    > USED AT LINE 34
GREATERTHAN:        03CE DEFINED AT LINE 38
HEADER_STORE:       03E6 DEFINED AT LINE 31
                    > USED AT LINE 34
STORE:              03EA DEFINED AT LINE 38
                    > USED AT LINE 163 IN core-words.z80
                    > USED AT LINE 188 IN core-words.z80
                    > USED AT LINE 210 IN core-words.z80
                    > USED AT LINE 257 IN core-words.z80
                    > USED AT LINE 12 IN compiler-words.z80
                    > USED AT LINE 51 IN compiler-words.z80
                    > USED AT LINE 69 IN compiler-words.z80
                    > USED AT LINE 12 IN experimental.z80
                    > USED AT LINE 20 IN experimental.z80
                    > USED AT LINE 22 IN experimental.z80
                    > USED AT LINE 98 IN headless-words.z80
HEADER_COMMA:       0407 DEFINED AT LINE 31
                    > USED AT LINE 34
COMMA:              040B DEFINED AT LINE 38
                    > USED AT LINE 75 IN compiler-words.z80
                    > USED AT LINE 44 IN headless-words.z80
                    > USED AT LINE 63 IN headless-words.z80
                    > USED AT LINE 63 IN headless-words.z80
HEADER_FETCH:       0422 DEFINED AT LINE 31
                    > USED AT LINE 34
FETCH:              0426 DEFINED AT LINE 38
                    > USED AT LINE 9 IN core-words.z80
                    > USED AT LINE 16 IN core-words.z80
                    > USED AT LINE 141 IN core-words.z80
                    > USED AT LINE 147 IN core-words.z80
                    > USED AT LINE 162 IN core-words.z80
                    > USED AT LINE 171 IN core-words.z80
                    > USED AT LINE 177 IN core-words.z80
                    > USED AT LINE 185 IN core-words.z80
                    > USED AT LINE 187 IN core-words.z80
                    > USED AT LINE 199 IN core-words.z80
                    > USED AT LINE 203 IN core-words.z80
                    > USED AT LINE 211 IN core-words.z80
                    > USED AT LINE 228 IN core-words.z80
                    > USED AT LINE 229 IN core-words.z80
                    > USED AT LINE 232 IN core-words.z80
                    > USED AT LINE 241 IN core-words.z80
                    > USED AT LINE 242 IN core-words.z80
                    > USED AT LINE 252 IN core-words.z80
                    > USED AT LINE 253 IN core-words.z80
                    > USED AT LINE 10 IN compiler-words.z80
                    > USED AT LINE 14 IN compiler-words.z80
                    > USED AT LINE 21 IN compiler-words.z80
                    > USED AT LINE 27 IN compiler-words.z80
                    > USED AT LINE 35 IN compiler-words.z80
                    > USED AT LINE 42 IN compiler-words.z80
                    > USED AT LINE 49 IN compiler-words.z80
                    > USED AT LINE 50 IN compiler-words.z80
                    > USED AT LINE 66 IN compiler-words.z80
                    > USED AT LINE 78 IN compiler-words.z80
                    > USED AT LINE 10 IN experimental.z80
                    > USED AT LINE 29 IN experimental.z80
                    > USED AT LINE 40 IN headless-words.z80
                    > USED AT LINE 41 IN headless-words.z80
                    > USED AT LINE 58 IN headless-words.z80
                    > USED AT LINE 59 IN headless-words.z80
                    > USED AT LINE 95 IN headless-words.z80
                    > USED AT LINE 45 IN extra-words.z80
                    > USED AT LINE 49 IN extra-words.z80
                    > USED AT LINE 55 IN extra-words.z80
                    > USED AT LINE 66 IN extra-words.z80
HEADER_CELLS:       042F DEFINED AT LINE 31
                    > USED AT LINE 34
CELLS:              0437 DEFINED AT LINE 38
                    > USED AT LINE 28 IN experimental.z80
HEADER_CSTORE:      043A DEFINED AT LINE 31
                    > USED AT LINE 34
CSTORE:             043F DEFINED AT LINE 38
                    > USED AT LINE 68 IN compiler-words.z80
                    > USED AT LINE 97 IN headless-words.z80
HEADER_CCOMMA:      0459 DEFINED AT LINE 31
                    > USED AT LINE 34
CCOMMA:             045E DEFINED AT LINE 38
HEADER_CFETCH:      0487 DEFINED AT LINE 31
                    > USED AT LINE 34
CFETCH:             048C DEFINED AT LINE 38
                    > USED AT LINE 32 IN core-words.z80
                    > USED AT LINE 216 IN core-words.z80
                    > USED AT LINE 53 IN compiler-words.z80
HEADER_PLUS:        0493 DEFINED AT LINE 31
                    > USED AT LINE 34
PLUS:               0497 DEFINED AT LINE 38
                    > USED AT LINE 25 IN core-words.z80
HEADER_TWOSTAR:     04A7 DEFINED AT LINE 31
                    > USED AT LINE 34
TWOSTAR:            04AC DEFINED AT LINE 38
                    > USED AT LINE 188 IN core-primitives.z80
HEADER_MINUS:       04B3 DEFINED AT LINE 31
                    > USED AT LINE 34
MINUS:              04B7 DEFINED AT LINE 38
                    > USED AT LINE 46 IN extra-words.z80
                    > USED AT LINE 53 IN extra-words.z80
HEADER_USTAR:       04C9 DEFINED AT LINE 31
                    > USED AT LINE 34
USTAR:              04CE DEFINED AT LINE 38
                    > USED AT LINE 85 IN core-words.z80
HEADER_USLASHMOD:   04E8 DEFINED AT LINE 31
                    > USED AT LINE 34
USLASHMOD:          04F0 DEFINED AT LINE 38
                    > USED AT LINE 106 IN core-words.z80
HEADER_LBRAC:       050C DEFINED AT LINE 31
                    > USED AT LINE 34
LBRAC:              0510 DEFINED AT LINE 38
                    > USED AT LINE 22 IN compiler-words.z80
HEADER_RBRAC:       0519 DEFINED AT LINE 31
                    > USED AT LINE 34
RBRAC:              051D DEFINED AT LINE 38
                    > USED AT LINE 15 IN compiler-words.z80
                    > USED AT LINE 29 IN compiler-words.z80
HEADER_ZEQUAL:      0526 DEFINED AT LINE 31
                    > USED AT LINE 34
ZEQUAL:             052B DEFINED AT LINE 38
                    > USED AT LINE 67 IN core-words.z80
                    > USED AT LINE 37 IN headless-words.z80
                    > USED AT LINE 56 IN headless-words.z80
                    > USED AT LINE 91
L_M_1093:           0533 DEFINED AT LINE 75
                    > USED AT LINE 72
HEADER_ZNOTEQUAL:   053A DEFINED AT LINE 31
                    > USED AT LINE 34
ZNOTEQUAL:          0540 DEFINED AT LINE 38
                    > USED AT LINE 24 IN headless-words.z80
L_M_1100:           0548 DEFINED AT LINE 75
                    > USED AT LINE 72
HEADER_AND:         054E DEFINED AT LINE 31
                    > USED AT LINE 34
AND:                0554 DEFINED AT LINE 38
                    > USED AT LINE 230 IN core-words.z80
                    > USED AT LINE 243 IN core-words.z80
                    > USED AT LINE 254 IN core-words.z80
HEADER_OR:          0567 DEFINED AT LINE 31
                    > USED AT LINE 34
OR:                 056C DEFINED AT LINE 38
                    > USED AT LINE 42 IN headless-words.z80
                    > USED AT LINE 60 IN headless-words.z80
HEADER_XOR:         057F DEFINED AT LINE 31
                    > USED AT LINE 34
XOR:                0585 DEFINED AT LINE 38
                    > USED AT LINE 87 IN core-words.z80
                    > USED AT LINE 97 IN core-words.z80
HEADER_ROT:         0598 DEFINED AT LINE 31
                    > USED AT LINE 34
ROT:                059E DEFINED AT LINE 38
                    > USED AT LINE 108 IN core-words.z80
HEADER_NROT:        05CB DEFINED AT LINE 31
                    > USED AT LINE 34
NROT:               05D2 DEFINED AT LINE 38
                    > USED AT LINE 86 IN core-words.z80
                    > USED AT LINE 99 IN core-words.z80
                    > USED AT LINE 103 IN core-words.z80
                    > USED AT LINE 112 IN core-words.z80
HEADER_DUP:         0601 DEFINED AT LINE 31
                    > USED AT LINE 34
DUP:                0607 DEFINED AT LINE 38
                    > USED AT LINE 31 IN core-words.z80
                    > USED AT LINE 44 IN core-words.z80
                    > USED AT LINE 67 IN core-words.z80
                    > USED AT LINE 161 IN core-words.z80
                    > USED AT LINE 186 IN core-words.z80
                    > USED AT LINE 256 IN core-words.z80
                    > USED AT LINE 9 IN experimental.z80
                    > USED AT LINE 19 IN experimental.z80
                    > USED AT LINE 24 IN headless-words.z80
                    > USED AT LINE 35 IN headless-words.z80
                    > USED AT LINE 51 IN extra-words.z80
                    > USED AT LINE 55 IN extra-words.z80
HEADER_SWAP:        0614 DEFINED AT LINE 31
                    > USED AT LINE 34
SWAP:               061B DEFINED AT LINE 38
                    > USED AT LINE 32 IN core-words.z80
                    > USED AT LINE 84 IN core-words.z80
                    > USED AT LINE 105 IN core-words.z80
                    > USED AT LINE 107 IN core-words.z80
                    > USED AT LINE 113 IN core-words.z80
                    > USED AT LINE 122 IN core-words.z80
                    > USED AT LINE 149 IN core-words.z80
                    > USED AT LINE 163 IN core-words.z80
                    > USED AT LINE 184 IN core-words.z80
                    > USED AT LINE 188 IN core-words.z80
                    > USED AT LINE 10 IN experimental.z80
                    > USED AT LINE 11 IN experimental.z80
                    > USED AT LINE 19 IN experimental.z80
                    > USED AT LINE 21 IN experimental.z80
                    > USED AT LINE 34 IN headless-words.z80
                    > USED AT LINE 25 IN extra-words.z80
                    > USED AT LINE 35 IN extra-words.z80
                    > USED AT LINE 53 IN extra-words.z80
HEADER_DROP:        0634 DEFINED AT LINE 31
                    > USED AT LINE 34
DROP:               063B DEFINED AT LINE 38
                    > USED AT LINE 69 IN core-words.z80
                    > USED AT LINE 69 IN core-words.z80
                    > USED AT LINE 85 IN core-words.z80
                    > USED AT LINE 122 IN core-words.z80
                    > USED AT LINE 128 IN core-words.z80
                    > USED AT LINE 34 IN headless-words.z80
                    > USED AT LINE 55 IN headless-words.z80
                    > USED AT LINE 66 IN headless-words.z80
                    > USED AT LINE 23 IN extra-words.z80
                    > USED AT LINE 25 IN extra-words.z80
                    > USED AT LINE 35 IN extra-words.z80
                    > USED AT LINE 37 IN extra-words.z80
                    > USED AT LINE 58 IN extra-words.z80
HEADER_OVER:        0648 DEFINED AT LINE 31
                    > USED AT LINE 34
OVER:               064F DEFINED AT LINE 38
                    > USED AT LINE 83 IN core-words.z80
                    > USED AT LINE 83 IN core-words.z80
                    > USED AT LINE 96 IN core-words.z80
                    > USED AT LINE 96 IN core-words.z80
                    > USED AT LINE 101 IN core-words.z80
                    > USED AT LINE 68 IN compiler-words.z80
                    > USED AT LINE 21 IN experimental.z80
                    > USED AT LINE 17 IN headless-words.z80
                    > USED AT LINE 23 IN headless-words.z80
                    > USED AT LINE 23 IN headless-words.z80
                    > USED AT LINE 97 IN headless-words.z80
                    > USED AT LINE 20 IN extra-words.z80
                    > USED AT LINE 20 IN extra-words.z80
                    > USED AT LINE 32 IN extra-words.z80
                    > USED AT LINE 32 IN extra-words.z80
HEADER_TOR:         0672 DEFINED AT LINE 31
                    > USED AT LINE 34
TOR:                0677 DEFINED AT LINE 38
                    > USED AT LINE 18 IN headless-words.z80
HEADER_RFROM:       0687 DEFINED AT LINE 31
                    > USED AT LINE 34
RFROM:              068C DEFINED AT LINE 38
                    > USED AT LINE 78 IN core-words.z80
                    > USED AT LINE 59 IN compiler-words.z80
                    > USED AT LINE 77 IN compiler-words.z80
                    > USED AT LINE 16 IN headless-words.z80
                    > USED AT LINE 94 IN headless-words.z80
HEADER_DOT:         069C DEFINED AT LINE 31
                    > USED AT LINE 34
DOT:                06A0 DEFINED AT LINE 38
HEADER_TYPE:        06C5 DEFINED AT LINE 31
                    > USED AT LINE 34
TYPE:               06CC DEFINED AT LINE 38
                    > USED AT LINE 69 IN headless-words.z80
                    > USED AT LINE 68 IN extra-words.z80
                    > USED AT LINE 70 IN extra-words.z80
HEADER_CR:          06E6 DEFINED AT LINE 31
                    > USED AT LINE 34
CR:                 06EB DEFINED AT LINE 38
TXT_INTRO:          06F1 DEFINED AT LINE 4 IN core-utilities.z80
TXT_STACK_UNDERFLOW: 0717 DEFINED AT LINE 5 IN core-utilities.z80
DONE:               0730 DEFINED AT LINE 7 IN core-utilities.z80
                    > USED AT LINE 166
FAILED:             073B DEFINED AT LINE 8 IN core-utilities.z80
                    > USED AT LINE 28
NESTINGERR:         0746 DEFINED AT LINE 10 IN core-utilities.z80
INITFORTH:          076A DEFINED AT LINE 12 IN core-utilities.z80
                    > USED AT LINE 49
ENTER:              07A8 DEFINED AT LINE 41 IN core-utilities.z80
                    > USED AT LINE 18
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 14 IN core-utilities.z80
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 17
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 17
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 8
                    > USED AT LINE 17
ENTER1:             07A9 DEFINED AT LINE 43 IN core-utilities.z80
                    > USED AT LINE 12
                    > USED AT LINE 12
                    > USED AT LINE 12
FORTH:              07B0 DEFINED AT LINE 52 IN core-utilities.z80
PRINTNUM:           07B9 DEFINED AT LINE 59 IN core-utilities.z80
                    > USED AT LINE 21
FORMATNUM:          07D2 DEFINED AT LINE 80 IN core-utilities.z80
                    > USED AT LINE 399 IN core-primitives.z80
                    > USED AT LINE 67 IN core-utilities.z80
L_M_1329:           07DA DEFINED AT LINE 75
                    > USED AT LINE 72
L_M_1337:           07E8 DEFINED AT LINE 73
                    > USED AT LINE 70
L_M_1346:           07FC DEFINED AT LINE 73
                    > USED AT LINE 70
L_M_1350:           0807 DEFINED AT LINE 75
                    > USED AT LINE 72
NEGATENUM:          0817 DEFINED AT LINE 124 IN core-utilities.z80
                    > USED AT LINE 88 IN core-utilities.z80
                    > USED AT LINE 289 IN core-utilities.z80
DIVIDEWORDBYBYTE:   081F DEFINED AT LINE 141 IN core-utilities.z80
                    > USED AT LINE 94 IN core-utilities.z80
L_M_1384:           0827 DEFINED AT LINE 73
                    > USED AT LINE 70
L_M_1387:           082F DEFINED AT LINE 75
                    > USED AT LINE 72
L_M_1392:           083B DEFINED AT LINE 75
                    > USED AT LINE 72
DIVIDEWORDBYWORD:   0840 DEFINED AT LINE 167 IN core-utilities.z80
                    > USED AT LINE 253 IN core-primitives.z80
L_M_1410:           084C DEFINED AT LINE 73
                    > USED AT LINE 70
L_M_1414:           0857 DEFINED AT LINE 75
                    > USED AT LINE 72
L_M_1424:           0866 DEFINED AT LINE 73
                    > USED AT LINE 70
L_M_1428:           0871 DEFINED AT LINE 75
                    > USED AT LINE 72
TONUMBER:           087A DEFINED AT LINE 210 IN core-utilities.z80
                    > USED AT LINE 23 IN core-primitives.z80
L_M_1454:           088E DEFINED AT LINE 75
                    > USED AT LINE 72
L_M_1464:           08A0 DEFINED AT LINE 75
                    > USED AT LINE 72
L_M_1470:           08AE DEFINED AT LINE 75
                    > USED AT LINE 72
L_M_1486:           08C9 DEFINED AT LINE 73
                    > USED AT LINE 70
L_M_1490:           08D5 DEFINED AT LINE 75
                    > USED AT LINE 72
TONUMBEREXIT:       0900 DEFINED AT LINE 284 IN core-utilities.z80
                    > USED AT LINE 255 IN core-utilities.z80
L_M_1516:           0909 DEFINED AT LINE 75
                    > USED AT LINE 72
UNSIGNEDMULTIPLY:   0912 DEFINED AT LINE 304 IN core-utilities.z80
                    > USED AT LINE 244 IN core-primitives.z80
                    > USED AT LINE 246 IN core-utilities.z80
                    > USED AT LINE 276 IN core-utilities.z80
L_M_1535:           091D DEFINED AT LINE 73
                    > USED AT LINE 70
L_M_1540:           092B DEFINED AT LINE 75
                    > USED AT LINE 72
COMPARESTR:         0934 DEFINED AT LINE 328 IN core-utilities.z80
                    > USED AT LINE 382 IN core-utilities.z80
L_M_1555:           093C DEFINED AT LINE 75
                    > USED AT LINE 72
L_M_1556:           0941 DEFINED AT LINE 73
                    > USED AT LINE 70
L_M_1560:           094B DEFINED AT LINE 75
                    > USED AT LINE 72
LOOKUP:             095A DEFINED AT LINE 358 IN core-utilities.z80
                    > USED AT LINE 12 IN core-primitives.z80
L_M_1582:           0963 DEFINED AT LINE 73
                    > USED AT LINE 70
L_M_1594:           0973 DEFINED AT LINE 75
                    > USED AT LINE 72
L_M_1603:           0982 DEFINED AT LINE 75
                    > USED AT LINE 72
LISTWORDS:          098F DEFINED AT LINE 409 IN core-utilities.z80
                    > USED AT LINE 6 IN extra-primitives.z80
L_M_1624:           0998 DEFINED AT LINE 73
                    > USED AT LINE 70
XWORDSKIP:          09BB DEFINED AT LINE 437 IN core-utilities.z80
                    > USED AT LINE 5 IN core-primitives.z80
L_M_1654:           09F6 DEFINED AT LINE 73
                    > USED AT LINE 70
L_M_1656:           09FE DEFINED AT LINE 95
                    > USED AT LINE 92
L_M_1658:           0A06 DEFINED AT LINE 75
                    > USED AT LINE 72
L_M_1664:           0A15 DEFINED AT LINE 102
                    > USED AT LINE 99
L_M_1665:           0A1A DEFINED AT LINE 73
                    > USED AT LINE 70
L_M_1668:           0A25 DEFINED AT LINE 75
                    > USED AT LINE 72
L_M_1675:           0A37 DEFINED AT LINE 102
                    > USED AT LINE 99
L_M_1678:           0A42 DEFINED AT LINE 102
                    > USED AT LINE 99
XWORDREAD:          0A4F DEFINED AT LINE 484 IN core-utilities.z80
                    > USED AT LINE 6 IN core-primitives.z80
L_M_1694:           0A7B DEFINED AT LINE 75
                    > USED AT LINE 72
L_M_1698:           0A83 DEFINED AT LINE 73
                    > USED AT LINE 70
HEADER_QUIT:        0A99 DEFINED AT LINE 31
                    > USED AT LINE 34
QUIT:               0AA0 DEFINED AT LINE 38
HEADER_WORD:        0AAE DEFINED AT LINE 31
                    > USED AT LINE 34
WORD:               0AB5 DEFINED AT LINE 38
                    > USED AT LINE 66 IN core-words.z80
                    > USED AT LINE 77 IN core-words.z80
                    > USED AT LINE 52 IN compiler-words.z80
HEADER_TCFA:        0AC5 DEFINED AT LINE 31
                    > USED AT LINE 34
TCFA:               0ACC DEFINED AT LINE 38
                    > USED AT LINE 39 IN headless-words.z80
                    > USED AT LINE 49 IN headless-words.z80
HEADER_COUNT:       0AE2 DEFINED AT LINE 31
                    > USED AT LINE 34
COUNT:              0AEA DEFINED AT LINE 38
                    > USED AT LINE 23 IN core-words.z80
                    > USED AT LINE 78 IN core-words.z80
                    > USED AT LINE 212 IN core-words.z80
                    > USED AT LINE 17 IN headless-words.z80
HEADER_ALLOT:       0AFC DEFINED AT LINE 31
                    > USED AT LINE 34
ALLOT:              0B04 DEFINED AT LINE 38
                    > USED AT LINE 217 IN core-words.z80
                    > USED AT LINE 36 IN compiler-words.z80
                    > USED AT LINE 43 IN compiler-words.z80
HEADER_ABS:         0B0E DEFINED AT LINE 31
                    > USED AT LINE 34
ABS:                0B14 DEFINED AT LINE 38
                    > USED AT LINE 84 IN core-words.z80
                    > USED AT LINE 105 IN core-words.z80
HEADER_NEGATE:      0B24 DEFINED AT LINE 31
                    > USED AT LINE 34
NEGATE:             0B2D DEFINED AT LINE 38
                    > USED AT LINE 47 IN core-words.z80
                    > USED AT LINE 90 IN core-words.z80
                    > USED AT LINE 110 IN core-words.z80
                    > USED AT LINE 115 IN core-words.z80
HEADER_BL:          0B37 DEFINED AT LINE 31
                    > USED AT LINE 34
BL:                 0B3C DEFINED AT LINE 38
                    > USED AT LINE 66 IN core-words.z80
                    > USED AT LINE 77 IN core-words.z80
                    > USED AT LINE 52 IN compiler-words.z80
HEADER_INTERPRET:   0B46 DEFINED AT LINE 31
                    > USED AT LINE 34
INTERPRET:          0B52 DEFINED AT LINE 38
                    > USED AT LINE 10 IN core-words.z80
HEADER_TICK:        0B7D DEFINED AT LINE 31
                    > USED AT LINE 34
TICK:               0B81 DEFINED AT LINE 38
HEADER_STAR:        0B97 DEFINED AT LINE 31
                    > USED AT LINE 34
STAR:               0B9B DEFINED AT LINE 38
HEADER_SLASHMOD:    0BBB DEFINED AT LINE 31
                    > USED AT LINE 34
SLASHMOD:           0BC2 DEFINED AT LINE 38
                    > USED AT LINE 121 IN core-words.z80
                    > USED AT LINE 127 IN core-words.z80
HEADER_SLASH:       0BF6 DEFINED AT LINE 31
                    > USED AT LINE 34
SLASH:              0BFA DEFINED AT LINE 38
HEADER_MOD:         0C06 DEFINED AT LINE 31
                    > USED AT LINE 34
MOD:                0C0C DEFINED AT LINE 38
HEADER_IF:          0C16 DEFINED AT LINE 31
                    > USED AT LINE 34
IF:                 0C1B DEFINED AT LINE 38
HEADER_ELSE:        0C31 DEFINED AT LINE 31
                    > USED AT LINE 34
ELSE:               0C38 DEFINED AT LINE 38
HEADER_ENDIF:       0C52 DEFINED AT LINE 31
                    > USED AT LINE 34
ENDIF:              0C5A DEFINED AT LINE 38
XENDIF:             0C64 DEFINED AT LINE 159 IN core-words.z80
                    > USED AT LINE 150 IN core-words.z80
                    > USED AT LINE 155 IN core-words.z80
HEADER_BEGIN:       0C78 DEFINED AT LINE 31
                    > USED AT LINE 34
BEGIN:              0C80 DEFINED AT LINE 38
HEADER_WHILE:       0C8C DEFINED AT LINE 31
                    > USED AT LINE 34
WHILE:              0C94 DEFINED AT LINE 38
HEADER_REPEAT:      0CAA DEFINED AT LINE 31
                    > USED AT LINE 34
REPEAT:             0CB3 DEFINED AT LINE 38
HEADER_SQUOTE:      0CD9 DEFINED AT LINE 31
                    > USED AT LINE 34
SQUOTE:             0CDE DEFINED AT LINE 38
HEADER_QT:          0CE0 DEFINED AT LINE 31
                    > USED AT LINE 34
QT:                 0CE4 DEFINED AT LINE 38
                    > USED AT LINE 195 IN core-words.z80
                    > USED AT LINE 65 IN extra-words.z80
HEADER_LBRACE:      0D38 DEFINED AT LINE 31
                    > USED AT LINE 34
LBRACE:             0D3C DEFINED AT LINE 38
                    > USED AT LINE 139 IN core-words.z80
                    > USED AT LINE 170 IN core-words.z80
HEADER_RBRACE:      0D60 DEFINED AT LINE 31
                    > USED AT LINE 34
RBRACE:             0D64 DEFINED AT LINE 38
                    > USED AT LINE 251 IN core-words.z80
HEADER_RBRACEEXEC:  0D84 DEFINED AT LINE 31
                    > USED AT LINE 34
RBRACEEXEC:         0D8C DEFINED AT LINE 38
                    > USED AT LINE 156 IN core-words.z80
                    > USED AT LINE 189 IN core-words.z80
HEADER_COLON:       0DAE DEFINED AT LINE 31
                    > USED AT LINE 34
COLON:              0DB2 DEFINED AT LINE 38
HEADER_SEMICOLON:   0DD6 DEFINED AT LINE 31
                    > USED AT LINE 34
SEMICOLON:          0DDA DEFINED AT LINE 38
HEADER_COLONNONAME: 0DEE DEFINED AT LINE 31
                    > USED AT LINE 34
COLONNONAME:        0DF8 DEFINED AT LINE 38
HEADER_VARIABLE:    0E0A DEFINED AT LINE 31
                    > USED AT LINE 34
VARIABLE:           0E15 DEFINED AT LINE 38
HEADER_BUFFERCOLON: 0E2B DEFINED AT LINE 31
                    > USED AT LINE 34
BUFFERCOLON:        0E35 DEFINED AT LINE 38
HEADER_CREATE:      0E45 DEFINED AT LINE 31
                    > USED AT LINE 34
CREATE:             0E4E DEFINED AT LINE 38
                    > USED AT LINE 9 IN compiler-words.z80
                    > USED AT LINE 75 IN compiler-words.z80
XCREATE:            0E78 DEFINED AT LINE 57 IN compiler-words.z80
                    > USED AT LINE 55 IN compiler-words.z80
HEADER_DOES:        0E80 DEFINED AT LINE 31
                    > USED AT LINE 34
DOES:               0E88 DEFINED AT LINE 38
HEADER_CONSTANT:    0EAE DEFINED AT LINE 31
                    > USED AT LINE 34
CONSTANT:           0EB9 DEFINED AT LINE 38
                    > USED AT LINE 37 IN compiler-words.z80
                    > USED AT LINE 44 IN compiler-words.z80
HEADER_BEGINFRAME:  0ECA DEFINED AT LINE 31
                    > USED AT LINE 34
BEGINFRAME:         0ECF DEFINED AT LINE 38
                    > USED AT LINE 91
HEADER_ENDFRAME:    0EE3 DEFINED AT LINE 31
                    > USED AT LINE 34
ENDFRAME:           0EE8 DEFINED AT LINE 38
                    > USED AT LINE 94
HEADER_PARAM:       0F00 DEFINED AT LINE 31
                    > USED AT LINE 34
PARAM:              0F08 DEFINED AT LINE 38
HEADER_P1:          0F18 DEFINED AT LINE 31
                    > USED AT LINE 34
P1:                 0F1D DEFINED AT LINE 38
                    > USED AT LINE 93
HEADER_P2:          0F2B DEFINED AT LINE 31
                    > USED AT LINE 34
P2:                 0F30 DEFINED AT LINE 38
HEADER_P3:          0F3E DEFINED AT LINE 31
                    > USED AT LINE 34
P3:                 0F43 DEFINED AT LINE 38
HEADER_V1:          0F51 DEFINED AT LINE 31
                    > USED AT LINE 34
V1:                 0F56 DEFINED AT LINE 38
                    > USED AT LINE 93
HEADER_V2:          0F62 DEFINED AT LINE 31
                    > USED AT LINE 34
V2:                 0F67 DEFINED AT LINE 38
HEADER_V3:          0F73 DEFINED AT LINE 31
                    > USED AT LINE 34
V3:                 0F78 DEFINED AT LINE 38
EXIT:               0F84 DEFINED AT LINE 7 IN headless-words.z80
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 79 IN core-words.z80
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 245 IN core-words.z80
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 20 IN compiler-words.z80
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
                    > USED AT LINE 16
EXIT_FORTH:         0F87 DEFINED AT LINE 11 IN headless-words.z80
                    > USED AT LINE 79
LITSTR:             0F88 DEFINED AT LINE 14 IN headless-words.z80
                    > USED AT LINE 214 IN core-words.z80
                    > USED AT LINE 67 IN headless-words.z80
INTERPTOKEN:        0F9A DEFINED AT LINE 21 IN headless-words.z80
                    > USED AT LINE 72 IN core-words.z80
INTERPWORD:         0FB6 DEFINED AT LINE 32 IN headless-words.z80
                    > USED AT LINE 26 IN headless-words.z80
INTERPLITERAL:      0FFA DEFINED AT LINE 53 IN headless-words.z80
                    > USED AT LINE 28 IN headless-words.z80
NESTPLUS:           1039 DEFINED AT LINE 73 IN headless-words.z80
                    > USED AT LINE 235 IN core-words.z80
NESTMINUS:          1043 DEFINED AT LINE 79 IN headless-words.z80
                    > USED AT LINE 240 IN core-words.z80
DODOES:             104D DEFINED AT LINE 85 IN headless-words.z80
                    > USED AT LINE 65 IN compiler-words.z80
XDOES:              105D DEFINED AT LINE 92 IN headless-words.z80
                    > USED AT LINE 64 IN compiler-words.z80
HEADER_WORDS:       1077 DEFINED AT LINE 31
                    > USED AT LINE 34
WORDS:              107F DEFINED AT LINE 38
HEADER_PRINT:       1087 DEFINED AT LINE 31
                    > USED AT LINE 34
PRINT:              108F DEFINED AT LINE 38
HEADER_ONEMINUS:    10A1 DEFINED AT LINE 31
                    > USED AT LINE 34
ONEMINUS:           10A6 DEFINED AT LINE 38
                    > USED AT LINE 28 IN experimental.z80
HEADER_TWOMINUS:    10AA DEFINED AT LINE 31
                    > USED AT LINE 34
TWOMINUS:           10AF DEFINED AT LINE 38
HEADER_NOOP:        10B4 DEFINED AT LINE 31
                    > USED AT LINE 34
NOOP:               10BB DEFINED AT LINE 38
                    > USED AT LINE 62 IN extra-primitives.z80
HEADER_RSPSTORE:    10BE DEFINED AT LINE 31
                    > USED AT LINE 34
RSPSTORE:           10C5 DEFINED AT LINE 38
HEADER_SPFETCH:     10D5 DEFINED AT LINE 31
                    > USED AT LINE 34
SPFETCH:            10DB DEFINED AT LINE 38
                    > USED AT LINE 11 IN experimental.z80
                    > USED AT LINE 44 IN extra-words.z80
                    > USED AT LINE 52 IN extra-words.z80
HEADER_SPSTORE:     10ED DEFINED AT LINE 31
                    > USED AT LINE 34
SPSTORE:            10F3 DEFINED AT LINE 38
                    > USED AT LINE 23 IN experimental.z80
HEADER_CELLPLUS:    1105 DEFINED AT LINE 31
                    > USED AT LINE 34
CELLPLUS:           110D DEFINED AT LINE 38
HEADER_CHARPLUS:    1110 DEFINED AT LINE 31
                    > USED AT LINE 34
CHARPLUS:           1118 DEFINED AT LINE 38
HEADER_CHARS:       111B DEFINED AT LINE 31
                    > USED AT LINE 34
CHARS:              1123 DEFINED AT LINE 38
HEADER_TWOSLASH:    1126 DEFINED AT LINE 31
                    > USED AT LINE 34
TWOSLASH:           112B DEFINED AT LINE 38
HEADER_LSHIFT:      1132 DEFINED AT LINE 31
                    > USED AT LINE 34
LSHIFT:             113B DEFINED AT LINE 38
                    > USED AT LINE 93 IN extra-primitives.z80
L_M_2304:           114E DEFINED AT LINE 73
                    > USED AT LINE 70
LSHIFT2:            114F DEFINED AT LINE 87 IN extra-primitives.z80
                    > USED AT LINE 84 IN extra-primitives.z80
HEADER_LTLT:        1156 DEFINED AT LINE 31
                    > USED AT LINE 34
LTLT:               115B DEFINED AT LINE 38
HEADER_RSHIFT:      115D DEFINED AT LINE 31
                    > USED AT LINE 34
RSHIFT:             1166 DEFINED AT LINE 38
                    > USED AT LINE 110 IN extra-primitives.z80
L_M_2318:           1179 DEFINED AT LINE 73
                    > USED AT LINE 70
RSHIFT2:            117D DEFINED AT LINE 104 IN extra-primitives.z80
                    > USED AT LINE 100 IN extra-primitives.z80
HEADER_GTGT:        1184 DEFINED AT LINE 31
                    > USED AT LINE 34
GTGT:               1189 DEFINED AT LINE 38
HEADER_IMMEDIATE:   118B DEFINED AT LINE 31
                    > USED AT LINE 34
IMMEDIATE:          1197 DEFINED AT LINE 38
HEADER_ACCEPT:      11A3 DEFINED AT LINE 31
                    > USED AT LINE 34
ACCEPT:             11AC DEFINED AT LINE 38
HEADER_KEY:         11C8 DEFINED AT LINE 31
                    > USED AT LINE 34
KEY:                11CE DEFINED AT LINE 38
HEADER_EMIT:        11D7 DEFINED AT LINE 31
                    > USED AT LINE 34
EMIT:               11DE DEFINED AT LINE 38
HEADER_QKEY:        11EF DEFINED AT LINE 31
                    > USED AT LINE 34
QKEY:               11F6 DEFINED AT LINE 38
L_M_2366:           120C DEFINED AT LINE 75
                    > USED AT LINE 72
HEADER_PACK:        1212 DEFINED AT LINE 31
                    > USED AT LINE 34
PACK:               1219 DEFINED AT LINE 38
HEADER_DECIMAL:     1239 DEFINED AT LINE 31
                    > USED AT LINE 34
DECIMAL:            1243 DEFINED AT LINE 38
HEADER_HEX:         1251 DEFINED AT LINE 31
                    > USED AT LINE 34
HEX:                1257 DEFINED AT LINE 38
HEADER_MIN:         1265 DEFINED AT LINE 31
                    > USED AT LINE 34
MIN:                126B DEFINED AT LINE 38
HEADER_MAX:         1285 DEFINED AT LINE 31
                    > USED AT LINE 34
MAX:                128B DEFINED AT LINE 38
HEADER_DOTS:        12A5 DEFINED AT LINE 31
                    > USED AT LINE 34
DOTS:               12AA DEFINED AT LINE 38
HEADER_DOTQUOTE:    12FC DEFINED AT LINE 31
                    > USED AT LINE 34
DOTQUOTE:           1301 DEFINED AT LINE 38
HEADER_VERSION:     131F DEFINED AT LINE 31
                    > USED AT LINE 34
VERSION:            1329 DEFINED AT LINE 38
HEADER_RZ:          1339 DEFINED AT LINE 31
                    > USED AT LINE 34
RZ:                 133E DEFINED AT LINE 38
HEADER___MSK_IMMED: 134E DEFINED AT LINE 31
                    > USED AT LINE 34
HEADER___MSK_HIDDEN: 136A DEFINED AT LINE 31
                    > USED AT LINE 34
HEADER___MSK_LENGTH: 1387 DEFINED AT LINE 31
                    > USED AT LINE 34
HEADER_FRAMEPTR:    13A4 DEFINED AT LINE 31
                    > USED AT LINE 34
FRAMEPTR:           13AF DEFINED AT LINE 38
                    > USED AT LINE 9 IN experimental.z80
                    > USED AT LINE 20 IN experimental.z80
                    > USED AT LINE 29 IN experimental.z80
HEADER_PAD:         13BF DEFINED AT LINE 31
                    > USED AT LINE 34
PAD:                13C5 DEFINED AT LINE 38
HEADER_HERE:        13D5 DEFINED AT LINE 31
                    > USED AT LINE 34
HERE:               13DC DEFINED AT LINE 38
                    > USED AT LINE 16 IN core-words.z80
                    > USED AT LINE 38 IN core-words.z80
                    > USED AT LINE 141 IN core-words.z80
                    > USED AT LINE 147 IN core-words.z80
                    > USED AT LINE 162 IN core-words.z80
                    > USED AT LINE 171 IN core-words.z80
                    > USED AT LINE 177 IN core-words.z80
                    > USED AT LINE 185 IN core-words.z80
                    > USED AT LINE 187 IN core-words.z80
                    > USED AT LINE 232 IN core-words.z80
                    > USED AT LINE 257 IN core-words.z80
                    > USED AT LINE 10 IN compiler-words.z80
                    > USED AT LINE 12 IN compiler-words.z80
                    > USED AT LINE 27 IN compiler-words.z80
                    > USED AT LINE 35 IN compiler-words.z80
                    > USED AT LINE 42 IN compiler-words.z80
                    > USED AT LINE 49 IN compiler-words.z80
                    > USED AT LINE 66 IN compiler-words.z80
HEADER_INTP_STOP:   13EC DEFINED AT LINE 31
                    > USED AT LINE 34
INTP_STOP:          13F8 DEFINED AT LINE 38
HEADER_STATE:       1408 DEFINED AT LINE 31
                    > USED AT LINE 34
STATE:              1410 DEFINED AT LINE 38
                    > USED AT LINE 199 IN core-words.z80
                    > USED AT LINE 228 IN core-words.z80
                    > USED AT LINE 241 IN core-words.z80
                    > USED AT LINE 252 IN core-words.z80
                    > USED AT LINE 40 IN headless-words.z80
                    > USED AT LINE 58 IN headless-words.z80
                    > USED AT LINE 66 IN extra-words.z80
HEADER_NESTING:     1420 DEFINED AT LINE 31
                    > USED AT LINE 34
NESTING:            142A DEFINED AT LINE 38
                    > USED AT LINE 229 IN core-words.z80
                    > USED AT LINE 242 IN core-words.z80
                    > USED AT LINE 253 IN core-words.z80
                    > USED AT LINE 41 IN headless-words.z80
                    > USED AT LINE 59 IN headless-words.z80
HEADER_SP0:         143A DEFINED AT LINE 31
                    > USED AT LINE 34
SP0:                1440 DEFINED AT LINE 38
                    > USED AT LINE 9 IN core-words.z80
                    > USED AT LINE 45 IN extra-words.z80
                    > USED AT LINE 49 IN extra-words.z80
HEADER_BASE:        1450 DEFINED AT LINE 31
                    > USED AT LINE 34
BASE:               1457 DEFINED AT LINE 38
HEADER_LATESTSTR:   1467 DEFINED AT LINE 31
                    > USED AT LINE 34
LATESTSTR:          1473 DEFINED AT LINE 38
                    > USED AT LINE 203 IN core-words.z80
                    > USED AT LINE 210 IN core-words.z80
                    > USED AT LINE 211 IN core-words.z80
HEADER_LATEST:      1483 DEFINED AT LINE 31
                    > USED AT LINE 31 IN core-utilities.z80
                    > USED AT LINE 34
LATEST:             148C DEFINED AT LINE 38
                    > USED AT LINE 14 IN compiler-words.z80
                    > USED AT LINE 21 IN compiler-words.z80
                    > USED AT LINE 50 IN compiler-words.z80
                    > USED AT LINE 51 IN compiler-words.z80
                    > USED AT LINE 95 IN headless-words.z80
START:              149C DEFINED AT LINE 46
                    > USED AT LINE 14
TESTS_START:        2000 DEFINED AT LINE 63
                    > USED AT LINE 52
TE_FAILM_2928:      2034 DEFINED AT LINE 34
                    > USED AT LINE 30
TF_DONEM_2928:      203C DEFINED AT LINE 37
                    > USED AT LINE 26
ADD100:             2057 DEFINED AT LINE 89
                    > USED AT LINE 78
SERBUF:             206D DEFINED AT LINE 7 IN variables.z80
                    > USED AT LINE 7 IN serial.z80
                    > USED AT LINE 42 IN serial.z80
                    > USED AT LINE 44 IN serial.z80
SERINPTR:           20AC DEFINED AT LINE 8 IN variables.z80
                    > USED AT LINE 8 IN serial.z80
                    > USED AT LINE 39 IN serial.z80
                    > USED AT LINE 46 IN serial.z80
SERRDPTR:           20AE DEFINED AT LINE 9 IN variables.z80
                    > USED AT LINE 9 IN serial.z80
SERBUFUSED:         20B0 DEFINED AT LINE 10 IN variables.z80
                    > USED AT LINE 5 IN serial.z80
                    > USED AT LINE 34 IN serial.z80
                    > USED AT LINE 49 IN serial.z80
                    > USED AT LINE 51 IN serial.z80
                    > USED AT LINE 127 IN serial.z80
LINEBUFSTART:       20B2 DEFINED AT LINE 11 IN variables.z80
                    > USED AT LINE 12 IN serial.z80
                    > USED AT LINE 213 IN serial.z80
LINEBUFSIZE:        20B4 DEFINED AT LINE 12 IN variables.z80
                    > USED AT LINE 17 IN serial.z80
                    > USED AT LINE 214 IN serial.z80
CURRKEY:            20B6 DEFINED AT LINE 13 IN variables.z80
                    > USED AT LINE 13 IN serial.z80
                    > USED AT LINE 208 IN serial.z80
                    > USED AT LINE 217 IN serial.z80
                    > USED AT LINE 222 IN serial.z80
                    > USED AT LINE 225 IN serial.z80
LINEBUFTOP:         20B8 DEFINED AT LINE 14 IN variables.z80
                    > USED AT LINE 14 IN serial.z80
                    > USED AT LINE 209 IN serial.z80
                    > USED AT LINE 220 IN serial.z80
LINEBUF:            20BA DEFINED AT LINE 15 IN variables.z80
                    > USED AT LINE 11 IN serial.z80
                    > USED AT LINE 216 IN serial.z80
EXITADDR:           213A DEFINED AT LINE 20 IN variables.z80
                    > USED AT LINE 53 IN core-utilities.z80
                    > USED AT LINE 55 IN core-utilities.z80
WORDBUF:            213C DEFINED AT LINE 21 IN variables.z80
                    > USED AT LINE 398 IN core-primitives.z80
                    > USED AT LINE 66 IN core-utilities.z80
                    > USED AT LINE 112 IN core-utilities.z80
                    > USED AT LINE 204 IN core-words.z80
                    > USED AT LINE 208 IN core-words.z80
WORDBUF2:           217C DEFINED AT LINE 22 IN variables.z80
                    > USED AT LINE 206 IN core-words.z80
DATA_STACK:         21BC DEFINED AT LINE 23 IN variables.z80
                    > USED AT LINE 13 IN core-utilities.z80
IS_LITERAL:         223C DEFINED AT LINE 24 IN variables.z80
                    > USED AT LINE 21 IN core-utilities.z80
VAR_FRAMEPTR:       223E DEFINED AT LINE 26 IN variables.z80
                    > USED AT LINE 19 IN core-utilities.z80
                    > USED AT LINE 44
VAR_PAD:            2240 DEFINED AT LINE 27 IN variables.z80
                    > USED AT LINE 44
VAR_HERE:           22C0 DEFINED AT LINE 28 IN variables.z80
                    > USED AT LINE 175 IN core-primitives.z80
                    > USED AT LINE 177 IN core-primitives.z80
                    > USED AT LINE 199 IN core-primitives.z80
                    > USED AT LINE 202 IN core-primitives.z80
                    > USED AT LINE 29 IN core-utilities.z80
                    > USED AT LINE 44
VAR_INTP_STOP:      22C2 DEFINED AT LINE 29 IN variables.z80
                    > USED AT LINE 20 IN core-utilities.z80
                    > USED AT LINE 44
VAR_STATE:          22C4 DEFINED AT LINE 30 IN variables.z80
                    > USED AT LINE 267 IN core-primitives.z80
                    > USED AT LINE 272 IN core-primitives.z80
                    > USED AT LINE 23 IN core-utilities.z80
                    > USED AT LINE 44
VAR_NESTING:        22C6 DEFINED AT LINE 31 IN variables.z80
                    > USED AT LINE 22 IN core-utilities.z80
                    > USED AT LINE 74 IN headless-words.z80
                    > USED AT LINE 76 IN headless-words.z80
                    > USED AT LINE 80 IN headless-words.z80
                    > USED AT LINE 82 IN headless-words.z80
                    > USED AT LINE 44
VAR_SP0:            22C8 DEFINED AT LINE 32 IN variables.z80
                    > USED AT LINE 15 IN core-utilities.z80
                    > USED AT LINE 44
VAR_BASE:           22CA DEFINED AT LINE 33 IN variables.z80
                    > USED AT LINE 396 IN core-primitives.z80
                    > USED AT LINE 26 IN core-utilities.z80
                    > USED AT LINE 64 IN core-utilities.z80
                    > USED AT LINE 245 IN core-utilities.z80
                    > USED AT LINE 263 IN core-utilities.z80
                    > USED AT LINE 275 IN core-utilities.z80
                    > USED AT LINE 44
VAR_LATEST_STR:     22CC DEFINED AT LINE 34 IN variables.z80
                    > USED AT LINE 33 IN core-utilities.z80
                    > USED AT LINE 44
VAR_LATEST:         22CE DEFINED AT LINE 35 IN variables.z80
                    > USED AT LINE 32 IN core-utilities.z80
                    > USED AT LINE 359 IN core-utilities.z80
                    > USED AT LINE 410 IN core-utilities.z80
                    > USED AT LINE 121 IN extra-primitives.z80
                    > USED AT LINE 44
CHAR_POINTER:       22D0 DEFINED AT LINE 41 IN variables.z80
                    > USED AT LINE 73 IN serial.z80
                    > USED AT LINE 76 IN serial.z80
START_USER:         22D2 DEFINED AT LINE 100
                    > USED AT LINE 28 IN core-utilities.z80
